import{_ as Ke}from"./preload-helper.a4192956.js";import{d as Ja,w as Hd}from"./index.a1caa8db.js";import{l as mo,m as Vr,W as M4,C as j4,n as F4,o as U4,S as B4,p as H4,q as zv}from"./Loading.svelte_svelte_type_style_lang.68899ee6.js";import{a0 as q4}from"./index.933105c2.js";var id=function(e,t){return id=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},id(e,t)};function aa(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");id(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function W4(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function a(g){try{f(n.next(g))}catch(u){c(u)}}function m(g){try{f(n.throw(g))}catch(u){c(u)}}function f(g){g.done?o(g.value):i(g.value).then(a,m)}f((n=n.apply(e,t||[])).next())})}function Vv(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,c;return c={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function a(f){return function(g){return m([f,g])}}function m(f){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(g){f=[6,g],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Ha(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function po(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],c;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){c={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return o}function No(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Na(e){return this instanceof Na?(this.v=e,this):new Na(e)}function z4(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(d){n[d]&&(i[d]=function(p){return new Promise(function(h,v){o.push([d,p,h,v])>1||a(d,p)})})}function a(d,p){try{m(n[d](p))}catch(h){u(o[0][3],h)}}function m(d){d.value instanceof Na?Promise.resolve(d.value.v).then(f,g):u(o[0][2],d)}function f(d){a("next",d)}function g(d){a("throw",d)}function u(d,p){d(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function V4(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ha=="function"?Ha(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(c){return new Promise(function(a,m){c=e[o](c),i(a,m,c.done,c.value)})}}function i(o,c,a,m){Promise.resolve(m).then(function(f){o({value:f,done:a})},c)}}function Cr(e){return typeof e=="function"}function qd(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var yh=qd(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function sd(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Zu=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,o;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var a=Ha(c),m=a.next();!m.done;m=a.next()){var f=m.value;f.remove(this)}}catch(v){t={error:v}}finally{try{m&&!m.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}else c.remove(this);var g=this.initialTeardown;if(Cr(g))try{g()}catch(v){o=v instanceof yh?v.errors:[v]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var d=Ha(u),p=d.next();!p.done;p=d.next()){var h=p.value;try{B0(h)}catch(v){o=o??[],v instanceof yh?o=No(No([],po(o)),po(v.errors)):o.push(v)}}}catch(v){n={error:v}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}if(o)throw new yh(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)B0(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&sd(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&sd(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Gv=Zu.EMPTY;function Kv(e){return e instanceof Zu||e&&"closed"in e&&Cr(e.remove)&&Cr(e.add)&&Cr(e.unsubscribe)}function B0(e){Cr(e)?e():e.unsubscribe()}var ca={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Su={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=Su.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,No([e,t],po(r))):setTimeout.apply(void 0,No([e,t],po(r)))},clearTimeout:function(e){var t=Su.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Zv(e){Su.setTimeout(function(){var t=ca.onUnhandledError;if(t)t(e);else throw e})}function Cu(){}var G4=function(){return Wd("C",void 0,void 0)}();function K4(e){return Wd("E",void 0,e)}function Z4(e){return Wd("N",e,void 0)}function Wd(e,t,r){return{kind:e,value:t,error:r}}var ta=null;function fu(e){if(ca.useDeprecatedSynchronousErrorHandling){var t=!ta;if(t&&(ta={errorThrown:!1,error:null}),e(),t){var r=ta,n=r.errorThrown,i=r.error;if(ta=null,n)throw i}}else e()}function Y4(e){ca.useDeprecatedSynchronousErrorHandling&&ta&&(ta.errorThrown=!0,ta.error=e)}var zd=function(e){aa(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Kv(r)&&r.add(n)):n.destination=e8,n}return t.create=function(r,n,i){return new qa(r,n,i)},t.prototype.next=function(r){this.isStopped?wh(Z4(r),this):this._next(r)},t.prototype.error=function(r){this.isStopped?wh(K4(r),this):(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped?wh(G4,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Zu),X4=Function.prototype.bind;function _h(e,t){return X4.call(e,t)}var J4=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){Jl(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){Jl(n)}else Jl(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){Jl(r)}},e}(),qa=function(e){aa(t,e);function t(r,n,i){var o=e.call(this)||this,c;if(Cr(r)||!r)c={next:r??void 0,error:n??void 0,complete:i??void 0};else{var a;o&&ca.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return o.unsubscribe()},c={next:r.next&&_h(r.next,a),error:r.error&&_h(r.error,a),complete:r.complete&&_h(r.complete,a)}):c=r}return o.destination=new J4(c),o}return t}(zd);function Jl(e){ca.useDeprecatedSynchronousErrorHandling?Y4(e):Zv(e)}function Q4(e){throw e}function wh(e,t){var r=ca.onStoppedNotification;r&&Su.setTimeout(function(){return r(e,t)})}var e8={closed:!0,next:Cu,error:Q4,complete:Cu},Vd=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Yu(e){return e}function bj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Yv(e)}function Yv(e){return e.length===0?Yu:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}var Bn=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,o=r8(t)?t:new qa(t,r,n);return fu(function(){var c=i,a=c.operator,m=c.source;o.add(a?a.call(o,m):m?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=H0(r),new r(function(i,o){var c=new qa({next:function(a){try{t(a)}catch(m){o(m),c.unsubscribe()}},error:o,complete:i});n.subscribe(c)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[Vd]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Yv(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=H0(t),new t(function(n,i){var o;r.subscribe(function(c){return o=c},function(c){return i(c)},function(){return n(o)})})},e.create=function(t){return new e(t)},e}();function H0(e){var t;return(t=e??ca.Promise)!==null&&t!==void 0?t:Promise}function t8(e){return e&&Cr(e.next)&&Cr(e.error)&&Cr(e.complete)}function r8(e){return e&&e instanceof zd||t8(e)&&Kv(e)}function n8(e){return Cr(e==null?void 0:e.lift)}function Xi(e){return function(t){if(n8(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Yi(e,t,r,n,i){return new i8(e,t,r,n,i)}var i8=function(e){aa(t,e);function t(r,n,i,o,c,a){var m=e.call(this,r)||this;return m.onFinalize=c,m.shouldUnsubscribe=a,m._next=n?function(f){try{n(f)}catch(g){r.error(g)}}:e.prototype._next,m._error=o?function(f){try{o(f)}catch(g){r.error(g)}finally{this.unsubscribe()}}:e.prototype._error,m._complete=i?function(){try{i()}catch(f){r.error(f)}finally{this.unsubscribe()}}:e.prototype._complete,m}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(zd),s8=qd(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),vo=function(e){aa(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new q0(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new s8},t.prototype.next=function(r){var n=this;fu(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var c=Ha(n.currentObservers),a=c.next();!a.done;a=c.next()){var m=a.value;m.next(r)}}catch(f){i={error:f}}finally{try{a&&!a.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;fu(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;fu(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,c=i.isStopped,a=i.observers;return o||c?Gv:(this.currentObservers=null,a.push(r),new Zu(function(){n.currentObservers=null,sd(a,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,c=n.isStopped;i?r.error(o):c&&r.complete()},t.prototype.asObservable=function(){var r=new Bn;return r.source=this,r},t.create=function(r,n){return new q0(r,n)},t}(Bn),q0=function(e){aa(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:Gv},t}(vo),rl=function(e){aa(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(vo),Xv={now:function(){return(Xv.delegate||Date).now()},delegate:void 0},o8=function(e){aa(t,e);function t(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=Xv);var o=e.call(this)||this;return o._bufferSize=r,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,n),o}return t.prototype.next=function(r){var n=this,i=n.isStopped,o=n._buffer,c=n._infiniteTimeWindow,a=n._timestampProvider,m=n._windowTime;i||(o.push(r),!c&&o.push(a.now()+m)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,o=i._infiniteTimeWindow,c=i._buffer,a=c.slice(),m=0;m<a.length&&!r.closed;m+=o?1:2)r.next(a[m]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,o=r._buffer,c=r._infiniteTimeWindow,a=(c?1:2)*n;if(n<1/0&&a<o.length&&o.splice(0,o.length-a),!c){for(var m=i.now(),f=0,g=1;g<o.length&&o[g]<=m;g+=2)f=g;f&&o.splice(0,f+1)}},t}(vo),Jv=new Bn(function(e){return e.complete()});function yj(e){return e?a8(e):Jv}function a8(e){return new Bn(function(t){return e.schedule(function(){return t.complete()})})}function c8(e){return e&&Cr(e.schedule)}function Gd(e){return e[e.length-1]}function l8(e){return Cr(Gd(e))?e.pop():void 0}function Qv(e){return c8(Gd(e))?e.pop():void 0}function _j(e,t){return typeof Gd(e)=="number"?e.pop():t}var Kd=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function eb(e){return Cr(e==null?void 0:e.then)}function tb(e){return Cr(e[Vd])}function rb(e){return Symbol.asyncIterator&&Cr(e==null?void 0:e[Symbol.asyncIterator])}function nb(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function u8(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ib=u8();function sb(e){return Cr(e==null?void 0:e[ib])}function ob(e){return z4(this,arguments,function(){var r,n,i,o;return Vv(this,function(c){switch(c.label){case 0:r=e.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,Na(r.read())];case 3:return n=c.sent(),i=n.value,o=n.done,o?[4,Na(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,Na(i)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function ab(e){return Cr(e==null?void 0:e.getReader)}function Ji(e){if(e instanceof Bn)return e;if(e!=null){if(tb(e))return f8(e);if(Kd(e))return h8(e);if(eb(e))return d8(e);if(rb(e))return cb(e);if(sb(e))return p8(e);if(ab(e))return g8(e)}throw nb(e)}function f8(e){return new Bn(function(t){var r=e[Vd]();if(Cr(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function h8(e){return new Bn(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function d8(e){return new Bn(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,Zv)})}function p8(e){return new Bn(function(t){var r,n;try{for(var i=Ha(e),o=i.next();!o.done;o=i.next()){var c=o.value;if(t.next(c),t.closed)return}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}function cb(e){return new Bn(function(t){m8(e,t).catch(function(r){return t.error(r)})})}function g8(e){return cb(ob(e))}function m8(e,t){var r,n,i,o;return W4(this,void 0,void 0,function(){var c,a;return Vv(this,function(m){switch(m.label){case 0:m.trys.push([0,5,6,11]),r=V4(e),m.label=1;case 1:return[4,r.next()];case 2:if(n=m.sent(),!!n.done)return[3,4];if(c=n.value,t.next(c),t.closed)return[2];m.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=m.sent(),i={error:a},[3,11];case 6:return m.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:m.sent(),m.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function $o(e,t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function lb(e,t){return t===void 0&&(t=0),Xi(function(r,n){r.subscribe(Yi(n,function(i){return $o(n,e,function(){return n.next(i)},t)},function(){return $o(n,e,function(){return n.complete()},t)},function(i){return $o(n,e,function(){return n.error(i)},t)}))})}function ub(e,t){return t===void 0&&(t=0),Xi(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function v8(e,t){return Ji(e).pipe(ub(t),lb(t))}function b8(e,t){return Ji(e).pipe(ub(t),lb(t))}function y8(e,t){return new Bn(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function _8(e,t){return new Bn(function(r){var n;return $o(r,t,function(){n=e[ib](),$o(r,t,function(){var i,o,c;try{i=n.next(),o=i.value,c=i.done}catch(a){r.error(a);return}c?r.complete():r.next(o)},0,!0)}),function(){return Cr(n==null?void 0:n.return)&&n.return()}})}function fb(e,t){if(!e)throw new Error("Iterable cannot be null");return new Bn(function(r){$o(r,t,function(){var n=e[Symbol.asyncIterator]();$o(r,t,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function w8(e,t){return fb(ob(e),t)}function E8(e,t){if(e!=null){if(tb(e))return v8(e,t);if(Kd(e))return y8(e,t);if(eb(e))return b8(e,t);if(rb(e))return fb(e,t);if(sb(e))return _8(e,t);if(ab(e))return w8(e,t)}throw nb(e)}function S8(e,t){return t?E8(e,t):Ji(e)}var C8=qd(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Xu(e,t){var r=typeof t=="object";return new Promise(function(n,i){var o=new qa({next:function(c){n(c),o.unsubscribe()},error:i,complete:function(){r?n(t.defaultValue):i(new C8)}});e.subscribe(o)})}function nl(e,t){return Xi(function(r,n){var i=0;r.subscribe(Yi(n,function(o){n.next(e.call(t,o,i++))}))})}var x8=Array.isArray;function I8(e,t){return x8(t)?e.apply(void 0,No([],po(t))):e(t)}function hb(e){return nl(function(t){return I8(e,t)})}function A8(e,t,r,n,i,o,c,a){var m=[],f=0,g=0,u=!1,d=function(){u&&!m.length&&!f&&t.complete()},p=function(v){return f<n?h(v):m.push(v)},h=function(v){o&&t.next(v),f++;var w=!1;Ji(r(v,g++)).subscribe(Yi(t,function(_){i==null||i(_),o?p(_):t.next(_)},function(){w=!0},void 0,function(){if(w)try{f--;for(var _=function(){var y=m.shift();c?$o(t,c,function(){return h(y)}):h(y)};m.length&&f<n;)_();d()}catch(y){t.error(y)}}))};return e.subscribe(Yi(t,p,function(){u=!0,d()})),function(){a==null||a()}}function Zd(e,t,r){return r===void 0&&(r=1/0),Cr(t)?Zd(function(n,i){return nl(function(o,c){return t(n,o,i,c)})(Ji(e(n,i)))},r):(typeof t=="number"&&(r=t),Xi(function(n,i){return A8(n,i,e,r)}))}function O8(e){return e===void 0&&(e=1/0),Zd(Yu,e)}function D8(){return O8(1)}function W0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return D8()(S8(e,Qv(e)))}function T8(e){return new Bn(function(t){Ji(e()).subscribe(t)})}var P8=["addListener","removeListener"],R8=["addEventListener","removeEventListener"],$8=["on","off"];function od(e,t,r,n){if(Cr(r)&&(n=r,r=void 0),n)return od(e,t,r).pipe(hb(n));var i=po(k8(e)?R8.map(function(a){return function(m){return e[a](t,m,r)}}):L8(e)?P8.map(z0(e,t)):N8(e)?$8.map(z0(e,t)):[],2),o=i[0],c=i[1];if(!o&&Kd(e))return Zd(function(a){return od(a,t,r)})(Ji(e));if(!o)throw new TypeError("Invalid event target");return new Bn(function(a){var m=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];return a.next(1<f.length?f:f[0])};return o(m),function(){return c(m)}})}function z0(e,t){return function(r){return function(n){return e[r](t,n)}}}function L8(e){return Cr(e.addListener)&&Cr(e.removeListener)}function N8(e){return Cr(e.on)&&Cr(e.off)}function k8(e){return Cr(e.addEventListener)&&Cr(e.removeEventListener)}function Yd(e,t,r){return r?Yd(e,t).pipe(hb(r)):new Bn(function(n){var i=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return n.next(c.length===1?c[0]:c)},o=e(i);return Cr(t)?function(){return t(i,o)}:void 0})}function Wa(e,t){return Xi(function(r,n){var i=0;r.subscribe(Yi(n,function(o){return e.call(t,o,i++)&&n.next(o)}))})}function Xd(e){return e<=0?function(){return Jv}:Xi(function(t,r){var n=0;t.subscribe(Yi(r,function(i){++n<=e&&(r.next(i),e<=n&&r.complete())}))})}function V0(e){return nl(function(){return e})}function db(e,t){return t===void 0&&(t=Yu),e=e??M8,Xi(function(r,n){var i,o=!0;r.subscribe(Yi(n,function(c){var a=t(c);(o||!e(i,a))&&(o=!1,i=a,n.next(c))}))})}function M8(e,t){return e===t}function j8(e,t){return db(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}function Jd(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(r===0)throw new Error("list of properties cannot be empty.");return nl(function(n){for(var i=n,o=0;o<r;o++){var c=i==null?void 0:i[e[o]];if(typeof c<"u")i=c;else return}return i})}function ad(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new vo}:t,n=e.resetOnError,i=n===void 0?!0:n,o=e.resetOnComplete,c=o===void 0?!0:o,a=e.resetOnRefCountZero,m=a===void 0?!0:a;return function(f){var g,u,d,p=0,h=!1,v=!1,w=function(){u==null||u.unsubscribe(),u=void 0},_=function(){w(),g=d=void 0,h=v=!1},y=function(){var C=g;_(),C==null||C.unsubscribe()};return Xi(function(C,I){p++,!v&&!h&&w();var D=d=d??r();I.add(function(){p--,p===0&&!v&&!h&&(u=Eh(y,m))}),D.subscribe(I),!g&&p>0&&(g=new qa({next:function(O){return D.next(O)},error:function(O){v=!0,w(),u=Eh(_,i,O),D.error(O)},complete:function(){h=!0,w(),u=Eh(_,c),D.complete()}}),Ji(C).subscribe(g))})(f)}}function Eh(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(t===!0){e();return}if(t!==!1){var i=new qa({next:function(){i.unsubscribe(),e()}});return Ji(t.apply(void 0,No([],po(r)))).subscribe(i)}}function go(e,t,r){var n,i,o,c,a=!1;return e&&typeof e=="object"?(n=e.bufferSize,c=n===void 0?1/0:n,i=e.windowTime,t=i===void 0?1/0:i,o=e.refCount,a=o===void 0?!1:o,r=e.scheduler):c=e??1/0,ad({connector:function(){return new o8(c,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function ho(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Qv(e);return Xi(function(n,i){(r?W0(e,n,r):W0(e,n)).subscribe(i)})}function G0(e,t){return Xi(function(r,n){var i=null,o=0,c=!1,a=function(){return c&&!i&&n.complete()};r.subscribe(Yi(n,function(m){i==null||i.unsubscribe();var f=0,g=o++;Ji(e(m,g)).subscribe(i=Yi(n,function(u){return n.next(t?t(m,u,g,f++):u)},function(){i=null,a()}))},function(){c=!0,a()}))})}function zc(e){return Xi(function(t,r){Ji(e).subscribe(Yi(r,function(){return r.complete()},Cu)),!r.closed&&t.subscribe(r)})}function pb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l8(e);return Xi(function(n,i){for(var o=e.length,c=new Array(o),a=e.map(function(){return!1}),m=!1,f=function(u){Ji(e[u]).subscribe(Yi(i,function(d){c[u]=d,!m&&!a[u]&&(a[u]=!0,(m=a.every(Yu))&&(a=null))},Cu))},g=0;g<o;g++)f(g);n.subscribe(Yi(i,function(u){if(m){var d=No([u],po(c));i.next(r?r.apply(void 0,No([],po(d))):d)}}))})}const F8={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},gb={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Xr={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Zn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Do={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Ae{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=Ae.getVersionPrecision(t),o=Ae.getVersionPrecision(r);let c=Math.max(i,o),a=0;const m=Ae.map([t,r],f=>{const g=c-Ae.getVersionPrecision(f),u=f+new Array(g+1).join(".0");return Ae.map(u.split("."),d=>new Array(20-d.length).join("0")+d).reverse()});for(n&&(a=c-Math.min(i,o)),c-=1;c>=a;){if(m[0][c]>m[1][c])return 1;if(m[0][c]===m[1][c]){if(c===a)return 0;c-=1}else if(m[0][c]<m[1][c])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const o=t[n];if(r(o,n))return o}}static assign(t,...r){const n=t;let i,o;if(Object.assign)return Object.assign(t,...r);for(i=0,o=r.length;i<o;i+=1){const c=r[i];typeof c=="object"&&c!==null&&Object.keys(c).forEach(m=>{n[m]=c[m]})}return t}static getBrowserAlias(t){return F8[t]}static getBrowserTypeByAlias(t){return gb[t]||""}}const Dr=/version\/(\d+(\.?_?\d+)+)/i,U8=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=Ae.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=Ae.getFirstMatch(Dr,e)||Ae.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=Ae.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=Ae.getFirstMatch(Dr,e)||Ae.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=Ae.getFirstMatch(Dr,e)||Ae.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=Ae.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=Ae.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=Ae.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=Ae.getFirstMatch(Dr,e)||Ae.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=Ae.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=Ae.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=Ae.getFirstMatch(Dr,e)||Ae.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=Ae.getFirstMatch(Dr,e)||Ae.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=Ae.getFirstMatch(Dr,e)||Ae.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=Ae.getFirstMatch(Dr,e)||Ae.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=Ae.getFirstMatch(Dr,e)||Ae.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=Ae.getFirstMatch(Dr,e)||Ae.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=Ae.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=Ae.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=Ae.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=Ae.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=Ae.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=Ae.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=Ae.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=Ae.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=Ae.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=Ae.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=Ae.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=Ae.getFirstMatch(Dr,e)||Ae.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=Ae.getFirstMatch(Dr,e)||Ae.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=Ae.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=Ae.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=Ae.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=Ae.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=Ae.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=Ae.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=Ae.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=Ae.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=Ae.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=Ae.getFirstMatch(Dr,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=e.search("\\(")!==-1?r:t;return{name:Ae.getFirstMatch(i,e),version:Ae.getSecondMatch(i,e)}}}],B8=[{test:[/Roku\/DVP/],describe(e){const t=Ae.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Zn.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=Ae.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Zn.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=Ae.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=Ae.getWindowsVersionName(t);return{name:Zn.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Zn.iOS},r=Ae.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=Ae.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=Ae.getMacOSVersionName(t),n={name:Zn.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=Ae.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Zn.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=Ae.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=Ae.getAndroidVersionName(t),n={name:Zn.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=Ae.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:Zn.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=Ae.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||Ae.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||Ae.getFirstMatch(/\bbb(\d+)/i,e);return{name:Zn.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=Ae.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Zn.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=Ae.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Zn.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:Zn.Linux}}},{test:[/CrOS/],describe(){return{name:Zn.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=Ae.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Zn.PlayStation4,version:t}}}],H8=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=Ae.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:Xr.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Xr.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Xr.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Xr.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Xr.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Xr.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Xr.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=Ae.getFirstMatch(/(ipod|iphone)/i,e);return{type:Xr.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Xr.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Xr.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:Xr.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:Xr.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:Xr.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:Xr.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:Xr.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:Xr.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:Xr.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:Xr.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:Xr.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:Xr.tv}}}],q8=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:Do.Blink};const r=Ae.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Do.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:Do.Trident},r=Ae.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:Do.Presto},r=Ae.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:Do.Gecko},r=Ae.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Do.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:Do.WebKit},r=Ae.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];let K0=class{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=Ae.find(U8,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=Ae.find(B8,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=Ae.find(H8,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=Ae.find(q8,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Ae.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let o=0;if(Object.keys(t).forEach(a=>{const m=t[a];typeof m=="string"?(i[a]=m,o+=1):typeof m=="object"&&(r[a]=m,n+=1)}),n>0){const a=Object.keys(r),m=Ae.find(a,g=>this.isOS(g));if(m){const g=this.satisfies(r[m]);if(g!==void 0)return g}const f=Ae.find(a,g=>this.isPlatform(g));if(f){const g=this.satisfies(r[f]);if(g!==void 0)return g}}if(o>0){const a=Object.keys(i),m=Ae.find(a,f=>this.isBrowser(f,!0));if(m!==void 0)return this.compareVersion(i[m])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const o=Ae.getBrowserTypeByAlias(i);return r&&o&&(i=o.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(Ae.compareVersions(o,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class W8{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new K0(t,r)}static parse(t){return new K0(t).getResult()}static get BROWSER_MAP(){return gb}static get ENGINE_MAP(){return Do}static get OS_MAP(){return Zn}static get PLATFORMS_MAP(){return Xr}}var z8=function(t){return V8(t)&&!G8(t)};function V8(e){return!!e&&typeof e=="object"}function G8(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Y8(e)}var K8=typeof Symbol=="function"&&Symbol.for,Z8=K8?Symbol.for("react.element"):60103;function Y8(e){return e.$$typeof===Z8}function X8(e){return Array.isArray(e)?[]:{}}function Vc(e,t){return t.clone!==!1&&t.isMergeableObject(e)?za(X8(e),e,t):e}function J8(e,t,r){return e.concat(t).map(function(n){return Vc(n,r)})}function Q8(e,t){if(!t.customMerge)return za;var r=t.customMerge(e);return typeof r=="function"?r:za}function e9(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function Z0(e){return Object.keys(e).concat(e9(e))}function mb(e,t){try{return t in e}catch{return!1}}function t9(e,t){return mb(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function r9(e,t,r){var n={};return r.isMergeableObject(e)&&Z0(e).forEach(function(i){n[i]=Vc(e[i],r)}),Z0(t).forEach(function(i){t9(e,i)||(mb(e,i)&&r.isMergeableObject(t[i])?n[i]=Q8(i,r)(e[i],t[i],r):n[i]=Vc(t[i],r))}),n}function za(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||J8,r.isMergeableObject=r.isMergeableObject||z8,r.cloneUnlessOtherwiseSpecified=Vc;var n=Array.isArray(t),i=Array.isArray(e),o=n===i;return o?n?r.arrayMerge(e,t,r):r9(e,t,r):Vc(t,r)}za.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,i){return za(n,i,r)},{})};var n9=za,i9=n9;const s9=mo(i9);var cd=function(e,t){return cd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},cd(e,t)};function Ju(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cd(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var gr=function(){return gr=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},gr.apply(this,arguments)};function Sh(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Jt;(function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(Jt||(Jt={}));var Fr;(function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"})(Fr||(Fr={}));var Va;(function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"})(Va||(Va={}));function Y0(e){return e.type===Fr.literal}function o9(e){return e.type===Fr.argument}function vb(e){return e.type===Fr.number}function bb(e){return e.type===Fr.date}function yb(e){return e.type===Fr.time}function _b(e){return e.type===Fr.select}function wb(e){return e.type===Fr.plural}function a9(e){return e.type===Fr.pound}function Eb(e){return e.type===Fr.tag}function Sb(e){return!!(e&&typeof e=="object"&&e.type===Va.number)}function ld(e){return!!(e&&typeof e=="object"&&e.type===Va.dateTime)}var Cb=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,c9=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function l9(e){var t={};return e.replace(c9,function(r){var n=r.length;switch(r[0]){case"G":t.era=n===4?"long":n===5?"narrow":"short";break;case"y":t.year=n===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=n===4?"short":n===5?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}var u9=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function f9(e){if(e.length===0)throw new Error("Number skeleton cannot be empty");for(var t=e.split(u9).filter(function(d){return d.length>0}),r=[],n=0,i=t;n<i.length;n++){var o=i[n],c=o.split("/");if(c.length===0)throw new Error("Invalid number skeleton");for(var a=c[0],m=c.slice(1),f=0,g=m;f<g.length;f++){var u=g[f];if(u.length===0)throw new Error("Invalid number skeleton")}r.push({stem:a,options:m})}return r}function h9(e){return e.replace(/^(.*?)-/,"")}var X0=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,xb=/^(@+)?(\+|#+)?[rs]?$/g,d9=/(\*)(0+)|(#+)(0+)|(0+)/g,Ib=/^(0+)$/;function J0(e){var t={};return e[e.length-1]==="r"?t.roundingPriority="morePrecision":e[e.length-1]==="s"&&(t.roundingPriority="lessPrecision"),e.replace(xb,function(r,n,i){return typeof i!="string"?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):i==="+"?t.minimumSignificantDigits=n.length:n[0]==="#"?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+(typeof i=="string"?i.length:0)),""}),t}function Ab(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function p9(e){var t;if(e[0]==="E"&&e[1]==="E"?(t={notation:"engineering"},e=e.slice(2)):e[0]==="E"&&(t={notation:"scientific"},e=e.slice(1)),t){var r=e.slice(0,2);if(r==="+!"?(t.signDisplay="always",e=e.slice(2)):r==="+?"&&(t.signDisplay="exceptZero",e=e.slice(2)),!Ib.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function Q0(e){var t={},r=Ab(e);return r||t}function g9(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=h9(i.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=gr(gr(gr({},t),{notation:"scientific"}),i.options.reduce(function(m,f){return gr(gr({},m),Q0(f))},{}));continue;case"engineering":t=gr(gr(gr({},t),{notation:"engineering"}),i.options.reduce(function(m,f){return gr(gr({},m),Q0(f))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(d9,function(m,f,g,u,d,p){if(f)t.minimumIntegerDigits=g.length;else{if(u&&d)throw new Error("We currently do not support maximum integer digits");if(p)throw new Error("We currently do not support exact integer digits")}return""});continue}if(Ib.test(i.stem)){t.minimumIntegerDigits=i.stem.length;continue}if(X0.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(X0,function(m,f,g,u,d,p){return g==="*"?t.minimumFractionDigits=f.length:u&&u[0]==="#"?t.maximumFractionDigits=u.length:d&&p?(t.minimumFractionDigits=d.length,t.maximumFractionDigits=d.length+p.length):(t.minimumFractionDigits=f.length,t.maximumFractionDigits=f.length),""});var o=i.options[0];o==="w"?t=gr(gr({},t),{trailingZeroDisplay:"stripIfInteger"}):o&&(t=gr(gr({},t),J0(o)));continue}if(xb.test(i.stem)){t=gr(gr({},t),J0(i.stem));continue}var c=Ab(i.stem);c&&(t=gr(gr({},t),c));var a=p9(i.stem);a&&(t=gr(gr({},t),a))}return t}var Ql={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function m9(e,t){for(var r="",n=0;n<e.length;n++){var i=e.charAt(n);if(i==="j"){for(var o=0;n+1<e.length&&e.charAt(n+1)===i;)o++,n++;var c=1+(o&1),a=o<2?1:3+(o>>1),m="a",f=v9(t);for((f=="H"||f=="k")&&(a=0);a-- >0;)r+=m;for(;c-- >0;)r=f+r}else i==="J"?r+="H":r+=i}return r}function v9(e){var t=e.hourCycle;if(t===void 0&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var r=e.language,n;r!=="root"&&(n=e.maximize().region);var i=Ql[n||""]||Ql[r||""]||Ql["".concat(r,"-001")]||Ql["001"];return i[0]}var Ch,b9=new RegExp("^".concat(Cb.source,"*")),y9=new RegExp("".concat(Cb.source,"*$"));function tr(e,t){return{start:e,end:t}}var _9=!!String.prototype.startsWith,w9=!!String.fromCodePoint,E9=!!Object.fromEntries,S9=!!String.prototype.codePointAt,C9=!!String.prototype.trimStart,x9=!!String.prototype.trimEnd,I9=!!Number.isSafeInteger,A9=I9?Number.isSafeInteger:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},ud=!0;try{var O9=Db("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ud=((Ch=O9.exec("a"))===null||Ch===void 0?void 0:Ch[0])==="a"}catch{ud=!1}var em=_9?function(t,r,n){return t.startsWith(r,n)}:function(t,r,n){return t.slice(n,n+r.length)===r},fd=w9?String.fromCodePoint:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n="",i=t.length,o=0,c;i>o;){if(c=t[o++],c>1114111)throw RangeError(c+" is not a valid code point");n+=c<65536?String.fromCharCode(c):String.fromCharCode(((c-=65536)>>10)+55296,c%1024+56320)}return n},tm=E9?Object.fromEntries:function(t){for(var r={},n=0,i=t;n<i.length;n++){var o=i[n],c=o[0],a=o[1];r[c]=a}return r},Ob=S9?function(t,r){return t.codePointAt(r)}:function(t,r){var n=t.length;if(!(r<0||r>=n)){var i=t.charCodeAt(r),o;return i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?i:(i-55296<<10)+(o-56320)+65536}},D9=C9?function(t){return t.trimStart()}:function(t){return t.replace(b9,"")},T9=x9?function(t){return t.trimEnd()}:function(t){return t.replace(y9,"")};function Db(e,t){return new RegExp(e,t)}var hd;if(ud){var rm=Db("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");hd=function(t,r){var n;rm.lastIndex=r;var i=rm.exec(t);return(n=i[1])!==null&&n!==void 0?n:""}}else hd=function(t,r){for(var n=[];;){var i=Ob(t,r);if(i===void 0||Tb(i)||L9(i))break;n.push(i),r+=i>=65536?2:1}return fd.apply(void 0,n)};var P9=function(){function e(t,r){r===void 0&&(r={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!r.ignoreTag,this.locale=r.locale,this.requiresOtherClause=!!r.requiresOtherClause,this.shouldParseSkeletons=!!r.shouldParseSkeletons}return e.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(t,r,n){for(var i=[];!this.isEOF();){var o=this.char();if(o===123){var c=this.parseArgument(t,n);if(c.err)return c;i.push(c.val)}else{if(o===125&&t>0)break;if(o===35&&(r==="plural"||r==="selectordinal")){var a=this.clonePosition();this.bump(),i.push({type:Fr.pound,location:tr(a,this.clonePosition())})}else if(o===60&&!this.ignoreTag&&this.peek()===47){if(n)break;return this.error(Jt.UNMATCHED_CLOSING_TAG,tr(this.clonePosition(),this.clonePosition()))}else if(o===60&&!this.ignoreTag&&dd(this.peek()||0)){var c=this.parseTag(t,r);if(c.err)return c;i.push(c.val)}else{var c=this.parseLiteral(t,r);if(c.err)return c;i.push(c.val)}}}return{val:i,err:null}},e.prototype.parseTag=function(t,r){var n=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Fr.literal,value:"<".concat(i,"/>"),location:tr(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(t+1,r,!0);if(o.err)return o;var c=o.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!dd(this.char()))return this.error(Jt.INVALID_TAG,tr(a,this.clonePosition()));var m=this.clonePosition(),f=this.parseTagName();return i!==f?this.error(Jt.UNMATCHED_CLOSING_TAG,tr(m,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Fr.tag,value:i,children:c,location:tr(n,this.clonePosition())},err:null}:this.error(Jt.INVALID_TAG,tr(a,this.clonePosition())))}else return this.error(Jt.UNCLOSED_TAG,tr(n,this.clonePosition()))}else return this.error(Jt.INVALID_TAG,tr(n,this.clonePosition()))},e.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&$9(this.char());)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(t,r){for(var n=this.clonePosition(),i="";;){var o=this.tryParseQuote(r);if(o){i+=o;continue}var c=this.tryParseUnquoted(t,r);if(c){i+=c;continue}var a=this.tryParseLeftAngleBracket();if(a){i+=a;continue}break}var m=tr(n,this.clonePosition());return{val:{type:Fr.literal,value:i,location:m},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!R9(this.peek()||0))?(this.bump(),"<"):null},e.prototype.tryParseQuote=function(t){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(t==="plural"||t==="selectordinal")break;return null;default:return null}this.bump();var r=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(n===39)if(this.peek()===39)r.push(39),this.bump();else{this.bump();break}else r.push(n);this.bump()}return fd.apply(void 0,r)},e.prototype.tryParseUnquoted=function(t,r){if(this.isEOF())return null;var n=this.char();return n===60||n===123||n===35&&(r==="plural"||r==="selectordinal")||n===125&&t>0?null:(this.bump(),fd(n))},e.prototype.parseArgument=function(t,r){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Jt.EXPECT_ARGUMENT_CLOSING_BRACE,tr(n,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(Jt.EMPTY_ARGUMENT,tr(n,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(Jt.MALFORMED_ARGUMENT,tr(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Jt.EXPECT_ARGUMENT_CLOSING_BRACE,tr(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Fr.argument,value:i,location:tr(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Jt.EXPECT_ARGUMENT_CLOSING_BRACE,tr(n,this.clonePosition())):this.parseArgumentOptions(t,r,i,n);default:return this.error(Jt.MALFORMED_ARGUMENT,tr(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),r=this.offset(),n=hd(this.message,r),i=r+n.length;this.bumpTo(i);var o=this.clonePosition(),c=tr(t,o);return{value:n,location:c}},e.prototype.parseArgumentOptions=function(t,r,n,i){var o,c=this.clonePosition(),a=this.parseIdentifierIfPossible().value,m=this.clonePosition();switch(a){case"":return this.error(Jt.EXPECT_ARGUMENT_TYPE,tr(c,m));case"number":case"date":case"time":{this.bumpSpace();var f=null;if(this.bumpIf(",")){this.bumpSpace();var g=this.clonePosition(),u=this.parseSimpleArgStyleIfPossible();if(u.err)return u;var d=T9(u.val);if(d.length===0)return this.error(Jt.EXPECT_ARGUMENT_STYLE,tr(this.clonePosition(),this.clonePosition()));var p=tr(g,this.clonePosition());f={style:d,styleLocation:p}}var h=this.tryParseArgumentClose(i);if(h.err)return h;var v=tr(i,this.clonePosition());if(f&&em(f==null?void 0:f.style,"::",0)){var w=D9(f.style.slice(2));if(a==="number"){var u=this.parseNumberSkeletonFromString(w,f.styleLocation);return u.err?u:{val:{type:Fr.number,value:n,location:v,style:u.val},err:null}}else{if(w.length===0)return this.error(Jt.EXPECT_DATE_TIME_SKELETON,v);var _=w;this.locale&&(_=m9(w,this.locale));var d={type:Va.dateTime,pattern:_,location:f.styleLocation,parsedOptions:this.shouldParseSkeletons?l9(_):{}},y=a==="date"?Fr.date:Fr.time;return{val:{type:y,value:n,location:v,style:d},err:null}}}return{val:{type:a==="number"?Fr.number:a==="date"?Fr.date:Fr.time,value:n,location:v,style:(o=f==null?void 0:f.style)!==null&&o!==void 0?o:null},err:null}}case"plural":case"selectordinal":case"select":{var C=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Jt.EXPECT_SELECT_ARGUMENT_OPTIONS,tr(C,gr({},C)));this.bumpSpace();var I=this.parseIdentifierIfPossible(),D=0;if(a!=="select"&&I.value==="offset"){if(!this.bumpIf(":"))return this.error(Jt.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,tr(this.clonePosition(),this.clonePosition()));this.bumpSpace();var u=this.tryParseDecimalInteger(Jt.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Jt.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(u.err)return u;this.bumpSpace(),I=this.parseIdentifierIfPossible(),D=u.val}var O=this.tryParsePluralOrSelectOptions(t,a,r,I);if(O.err)return O;var h=this.tryParseArgumentClose(i);if(h.err)return h;var E=tr(i,this.clonePosition());return a==="select"?{val:{type:Fr.select,value:n,options:tm(O.val),location:E},err:null}:{val:{type:Fr.plural,value:n,options:tm(O.val),offset:D,pluralType:a==="plural"?"cardinal":"ordinal",location:E},err:null}}default:return this.error(Jt.INVALID_ARGUMENT_TYPE,tr(c,m))}},e.prototype.tryParseArgumentClose=function(t){return this.isEOF()||this.char()!==125?this.error(Jt.EXPECT_ARGUMENT_CLOSING_BRACE,tr(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,r=this.clonePosition();!this.isEOF();){var n=this.char();switch(n){case 39:{this.bump();var i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Jt.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,tr(i,this.clonePosition()));this.bump();break}case 123:{t+=1,this.bump();break}case 125:{if(t>0)t-=1;else return{val:this.message.slice(r.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(r.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(t,r){var n=[];try{n=f9(t)}catch{return this.error(Jt.INVALID_NUMBER_SKELETON,r)}return{val:{type:Va.number,tokens:n,location:r,parsedOptions:this.shouldParseSkeletons?g9(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(t,r,n,i){for(var o,c=!1,a=[],m=new Set,f=i.value,g=i.location;;){if(f.length===0){var u=this.clonePosition();if(r!=="select"&&this.bumpIf("=")){var d=this.tryParseDecimalInteger(Jt.EXPECT_PLURAL_ARGUMENT_SELECTOR,Jt.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;g=tr(u,this.clonePosition()),f=this.message.slice(u.offset,this.offset())}else break}if(m.has(f))return this.error(r==="select"?Jt.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Jt.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,g);f==="other"&&(c=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error(r==="select"?Jt.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Jt.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,tr(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(t+1,r,n);if(h.err)return h;var v=this.tryParseArgumentClose(p);if(v.err)return v;a.push([f,{value:h.val,location:tr(p,this.clonePosition())}]),m.add(f),this.bumpSpace(),o=this.parseIdentifierIfPossible(),f=o.value,g=o.location}return a.length===0?this.error(r==="select"?Jt.EXPECT_SELECT_ARGUMENT_SELECTOR:Jt.EXPECT_PLURAL_ARGUMENT_SELECTOR,tr(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!c?this.error(Jt.MISSING_OTHER_CLAUSE,tr(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(t,r){var n=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,c=0;!this.isEOF();){var a=this.char();if(a>=48&&a<=57)o=!0,c=c*10+(a-48),this.bump();else break}var m=tr(i,this.clonePosition());return o?(c*=n,A9(c)?{val:c,err:null}:this.error(r,m)):this.error(t,m)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var r=Ob(this.message,t);if(r===void 0)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return r},e.prototype.error=function(t,r){return{val:null,err:{kind:t,message:this.message,location:r}}},e.prototype.bump=function(){if(!this.isEOF()){var t=this.char();t===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},e.prototype.bumpIf=function(t){if(em(this.message,t,this.offset())){for(var r=0;r<t.length;r++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(t){var r=this.offset(),n=this.message.indexOf(t,r);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var r=this.offset();if(r===t)break;if(r>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Tb(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),r=this.offset(),n=this.message.charCodeAt(r+(t>=65536?2:1));return n??null},e}();function dd(e){return e>=97&&e<=122||e>=65&&e<=90}function R9(e){return dd(e)||e===47}function $9(e){return e===45||e===46||e>=48&&e<=57||e===95||e>=97&&e<=122||e>=65&&e<=90||e==183||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function Tb(e){return e>=9&&e<=13||e===32||e===133||e>=8206&&e<=8207||e===8232||e===8233}function L9(e){return e>=33&&e<=35||e===36||e>=37&&e<=39||e===40||e===41||e===42||e===43||e===44||e===45||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||e===91||e===92||e===93||e===94||e===96||e===123||e===124||e===125||e===126||e===161||e>=162&&e<=165||e===166||e===167||e===169||e===171||e===172||e===174||e===176||e===177||e===182||e===187||e===191||e===215||e===247||e>=8208&&e<=8213||e>=8214&&e<=8215||e===8216||e===8217||e===8218||e>=8219&&e<=8220||e===8221||e===8222||e===8223||e>=8224&&e<=8231||e>=8240&&e<=8248||e===8249||e===8250||e>=8251&&e<=8254||e>=8257&&e<=8259||e===8260||e===8261||e===8262||e>=8263&&e<=8273||e===8274||e===8275||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||e===8608||e>=8609&&e<=8610||e===8611||e>=8612&&e<=8613||e===8614||e>=8615&&e<=8621||e===8622||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||e===8658||e===8659||e===8660||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||e===8968||e===8969||e===8970||e===8971||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||e===9001||e===9002||e>=9003&&e<=9083||e===9084||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||e===9655||e>=9656&&e<=9664||e===9665||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||e===9839||e>=9840&&e<=10087||e===10088||e===10089||e===10090||e===10091||e===10092||e===10093||e===10094||e===10095||e===10096||e===10097||e===10098||e===10099||e===10100||e===10101||e>=10132&&e<=10175||e>=10176&&e<=10180||e===10181||e===10182||e>=10183&&e<=10213||e===10214||e===10215||e===10216||e===10217||e===10218||e===10219||e===10220||e===10221||e===10222||e===10223||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||e===10627||e===10628||e===10629||e===10630||e===10631||e===10632||e===10633||e===10634||e===10635||e===10636||e===10637||e===10638||e===10639||e===10640||e===10641||e===10642||e===10643||e===10644||e===10645||e===10646||e===10647||e===10648||e>=10649&&e<=10711||e===10712||e===10713||e===10714||e===10715||e>=10716&&e<=10747||e===10748||e===10749||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||e===11158||e>=11159&&e<=11263||e>=11776&&e<=11777||e===11778||e===11779||e===11780||e===11781||e>=11782&&e<=11784||e===11785||e===11786||e===11787||e===11788||e===11789||e>=11790&&e<=11798||e===11799||e>=11800&&e<=11801||e===11802||e===11803||e===11804||e===11805||e>=11806&&e<=11807||e===11808||e===11809||e===11810||e===11811||e===11812||e===11813||e===11814||e===11815||e===11816||e===11817||e>=11818&&e<=11822||e===11823||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||e===11840||e===11841||e===11842||e>=11843&&e<=11855||e>=11856&&e<=11857||e===11858||e>=11859&&e<=11903||e>=12289&&e<=12291||e===12296||e===12297||e===12298||e===12299||e===12300||e===12301||e===12302||e===12303||e===12304||e===12305||e>=12306&&e<=12307||e===12308||e===12309||e===12310||e===12311||e===12312||e===12313||e===12314||e===12315||e===12316||e===12317||e>=12318&&e<=12319||e===12320||e===12336||e===64830||e===64831||e>=65093&&e<=65094}function pd(e){e.forEach(function(t){if(delete t.location,_b(t)||wb(t))for(var r in t.options)delete t.options[r].location,pd(t.options[r].value);else vb(t)&&Sb(t.style)||(bb(t)||yb(t))&&ld(t.style)?delete t.style.location:Eb(t)&&pd(t.children)})}function N9(e,t){t===void 0&&(t={}),t=gr({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var r=new P9(e,t).parse();if(r.err){var n=SyntaxError(Jt[r.err.kind]);throw n.location=r.err.location,n.originalMessage=r.err.message,n}return t!=null&&t.captureLocation||pd(r.val),r.val}function xh(e,t){var r=t&&t.cache?t.cache:B9,n=t&&t.serializer?t.serializer:U9,i=t&&t.strategy?t.strategy:M9;return i(e,{cache:r,serializer:n})}function k9(e){return e==null||typeof e=="number"||typeof e=="boolean"}function Pb(e,t,r,n){var i=k9(n)?n:r(n),o=t.get(i);return typeof o>"u"&&(o=e.call(this,n),t.set(i,o)),o}function Rb(e,t,r){var n=Array.prototype.slice.call(arguments,3),i=r(n),o=t.get(i);return typeof o>"u"&&(o=e.apply(this,n),t.set(i,o)),o}function Qd(e,t,r,n,i){return r.bind(t,e,n,i)}function M9(e,t){var r=e.length===1?Pb:Rb;return Qd(e,this,r,t.cache.create(),t.serializer)}function j9(e,t){return Qd(e,this,Rb,t.cache.create(),t.serializer)}function F9(e,t){return Qd(e,this,Pb,t.cache.create(),t.serializer)}var U9=function(){return JSON.stringify(arguments)};function ep(){this.cache=Object.create(null)}ep.prototype.get=function(e){return this.cache[e]};ep.prototype.set=function(e,t){this.cache[e]=t};var B9={create:function(){return new ep}},Ih={variadic:j9,monadic:F9},Ga;(function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"})(Ga||(Ga={}));var Qu=function(e){Ju(t,e);function t(r,n,i){var o=e.call(this,r)||this;return o.code=n,o.originalMessage=i,o}return t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),nm=function(e){Ju(t,e);function t(r,n,i,o){return e.call(this,'Invalid values for "'.concat(r,'": "').concat(n,'". Options are "').concat(Object.keys(i).join('", "'),'"'),Ga.INVALID_VALUE,o)||this}return t}(Qu),H9=function(e){Ju(t,e);function t(r,n,i){return e.call(this,'Value for "'.concat(r,'" must be of type ').concat(n),Ga.INVALID_VALUE,i)||this}return t}(Qu),q9=function(e){Ju(t,e);function t(r,n){return e.call(this,'The intl string context variable "'.concat(r,'" was not provided to the string "').concat(n,'"'),Ga.MISSING_VALUE,n)||this}return t}(Qu),Yn;(function(e){e[e.literal=0]="literal",e[e.object=1]="object"})(Yn||(Yn={}));function W9(e){return e.length<2?e:e.reduce(function(t,r){var n=t[t.length-1];return!n||n.type!==Yn.literal||r.type!==Yn.literal?t.push(r):n.value+=r.value,t},[])}function z9(e){return typeof e=="function"}function hu(e,t,r,n,i,o,c){if(e.length===1&&Y0(e[0]))return[{type:Yn.literal,value:e[0].value}];for(var a=[],m=0,f=e;m<f.length;m++){var g=f[m];if(Y0(g)){a.push({type:Yn.literal,value:g.value});continue}if(a9(g)){typeof o=="number"&&a.push({type:Yn.literal,value:r.getNumberFormat(t).format(o)});continue}var u=g.value;if(!(i&&u in i))throw new q9(u,c);var d=i[u];if(o9(g)){(!d||typeof d=="string"||typeof d=="number")&&(d=typeof d=="string"||typeof d=="number"?String(d):""),a.push({type:typeof d=="string"?Yn.literal:Yn.object,value:d});continue}if(bb(g)){var p=typeof g.style=="string"?n.date[g.style]:ld(g.style)?g.style.parsedOptions:void 0;a.push({type:Yn.literal,value:r.getDateTimeFormat(t,p).format(d)});continue}if(yb(g)){var p=typeof g.style=="string"?n.time[g.style]:ld(g.style)?g.style.parsedOptions:n.time.medium;a.push({type:Yn.literal,value:r.getDateTimeFormat(t,p).format(d)});continue}if(vb(g)){var p=typeof g.style=="string"?n.number[g.style]:Sb(g.style)?g.style.parsedOptions:void 0;p&&p.scale&&(d=d*(p.scale||1)),a.push({type:Yn.literal,value:r.getNumberFormat(t,p).format(d)});continue}if(Eb(g)){var h=g.children,v=g.value,w=i[v];if(!z9(w))throw new H9(v,"function",c);var _=hu(h,t,r,n,i,o),y=w(_.map(function(D){return D.value}));Array.isArray(y)||(y=[y]),a.push.apply(a,y.map(function(D){return{type:typeof D=="string"?Yn.literal:Yn.object,value:D}}))}if(_b(g)){var C=g.options[d]||g.options.other;if(!C)throw new nm(g.value,d,Object.keys(g.options),c);a.push.apply(a,hu(C.value,t,r,n,i));continue}if(wb(g)){var C=g.options["=".concat(d)];if(!C){if(!Intl.PluralRules)throw new Qu(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Ga.MISSING_INTL_API,c);var I=r.getPluralRules(t,{type:g.pluralType}).select(d-(g.offset||0));C=g.options[I]||g.options.other}if(!C)throw new nm(g.value,d,Object.keys(g.options),c);a.push.apply(a,hu(C.value,t,r,n,i,d-(g.offset||0)));continue}}return W9(a)}function V9(e,t){return t?gr(gr(gr({},e||{}),t||{}),Object.keys(e).reduce(function(r,n){return r[n]=gr(gr({},e[n]),t[n]||{}),r},{})):e}function G9(e,t){return t?Object.keys(e).reduce(function(r,n){return r[n]=V9(e[n],t[n]),r},gr({},e)):e}function Ah(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function K9(e){return e===void 0&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:xh(function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((t=Intl.NumberFormat).bind.apply(t,Sh([void 0],r,!1)))},{cache:Ah(e.number),strategy:Ih.variadic}),getDateTimeFormat:xh(function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((t=Intl.DateTimeFormat).bind.apply(t,Sh([void 0],r,!1)))},{cache:Ah(e.dateTime),strategy:Ih.variadic}),getPluralRules:xh(function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((t=Intl.PluralRules).bind.apply(t,Sh([void 0],r,!1)))},{cache:Ah(e.pluralRules),strategy:Ih.variadic})}}var $b=function(){function e(t,r,n,i){var o=this;if(r===void 0&&(r=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(c){var a=o.formatToParts(c);if(a.length===1)return a[0].value;var m=a.reduce(function(f,g){return!f.length||g.type!==Yn.literal||typeof f[f.length-1]!="string"?f.push(g.value):f[f.length-1]+=g.value,f},[]);return m.length<=1?m[0]||"":m},this.formatToParts=function(c){return hu(o.ast,o.locales,o.formatters,o.formats,c,void 0,o.message)},this.resolvedOptions=function(){return{locale:o.resolvedLocale.toString()}},this.getAst=function(){return o.ast},this.locales=r,this.resolvedLocale=e.resolveLocale(r),typeof t=="string"){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:i==null?void 0:i.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=G9(e.formats,n),this.formatters=i&&i.formatters||K9(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(t){var r=Intl.NumberFormat.supportedLocalesOf(t);return r.length>0?new Intl.Locale(r[0]):new Intl.Locale(typeof t=="string"?t:t[0])},e.__parse=N9,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();function Z9(e,t){if(t==null)return;if(t in e)return e[t];const r=t.split(".");let n=e;for(let i=0;i<r.length;i++)if(typeof n=="object"){if(i>0){const o=r.slice(i,r.length).join(".");if(o in n){n=n[o];break}}n=n[r[i]]}else n=void 0;return n}const Ro={},Y9=(e,t,r)=>r&&(t in Ro||(Ro[t]={}),e in Ro[t]||(Ro[t][e]=r),r),Lb=(e,t)=>{if(t==null)return;if(t in Ro&&e in Ro[t])return Ro[t][e];const r=sl(t);for(let n=0;n<r.length;n++){const i=r[n],o=J9(i,e);if(o)return Y9(e,t,o)}};let tp;const il=Hd({});function X9(e){return tp[e]||null}function Nb(e){return e in tp}function J9(e,t){if(!Nb(e))return null;const r=X9(e);return Z9(r,t)}function Q9(e){if(e==null)return;const t=sl(e);for(let r=0;r<t.length;r++){const n=t[r];if(Nb(n))return n}}function du(e,...t){delete Ro[e],il.update(r=>(r[e]=s9.all([r[e]||{},...t]),r))}Ja([il],([e])=>Object.keys(e));il.subscribe(e=>tp=e);const pu={};function e7(e,t){pu[e].delete(t),pu[e].size===0&&delete pu[e]}function kb(e){return pu[e]}function t7(e){return sl(e).map(t=>{const r=kb(t);return[t,r?[...r]:[]]}).filter(([,t])=>t.length>0)}function xu(e){return e==null?!1:sl(e).some(t=>{var r;return(r=kb(t))==null?void 0:r.size})}function r7(e,t){return Promise.all(t.map(n=>(e7(e,n),n().then(i=>i.default||i)))).then(n=>du(e,...n))}const Sc={};function Mb(e){if(!xu(e))return e in Sc?Sc[e]:Promise.resolve();const t=t7(e);return Sc[e]=Promise.all(t.map(([r,n])=>r7(r,n))).then(()=>{if(xu(e))return Mb(e);delete Sc[e]}),Sc[e]}var im=Object.getOwnPropertySymbols,n7=Object.prototype.hasOwnProperty,i7=Object.prototype.propertyIsEnumerable,s7=(e,t)=>{var r={};for(var n in e)n7.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&im)for(var n of im(e))t.indexOf(n)<0&&i7.call(e,n)&&(r[n]=e[n]);return r};const o7={number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}};function a7({locale:e,id:t}){console.warn(`[svelte-i18n] The message "${t}" was not found in "${sl(e).join('", "')}".${xu(jo())?`

Note: there are at least one loader still registered to this locale that wasn't executed.`:""}`)}const c7={fallbackLocale:null,loadingDelay:200,formats:o7,warnOnMissingMessages:!0,handleMissingMessage:void 0,ignoreTag:!0},Nc=c7;function Ka(){return Nc}function l7(e){const t=e,{formats:r}=t,n=s7(t,["formats"]);let i=e.fallbackLocale;if(e.initialLocale)try{$b.resolveLocale(e.initialLocale)&&(i=e.initialLocale)}catch{console.warn(`[svelte-i18n] The initial locale "${e.initialLocale}" is not a valid locale.`)}return n.warnOnMissingMessages&&(delete n.warnOnMissingMessages,n.handleMissingMessage==null?n.handleMissingMessage=a7:console.warn('[svelte-i18n] The "warnOnMissingMessages" option is deprecated. Please use the "handleMissingMessage" option instead.')),Object.assign(Nc,n,{initialLocale:i}),r&&("number"in r&&Object.assign(Nc.formats.number,r.number),"date"in r&&Object.assign(Nc.formats.date,r.date),"time"in r&&Object.assign(Nc.formats.time,r.time)),la.set(i)}const Oh=Hd(!1);var u7=Object.defineProperty,f7=Object.defineProperties,h7=Object.getOwnPropertyDescriptors,sm=Object.getOwnPropertySymbols,d7=Object.prototype.hasOwnProperty,p7=Object.prototype.propertyIsEnumerable,om=(e,t,r)=>t in e?u7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g7=(e,t)=>{for(var r in t||(t={}))d7.call(t,r)&&om(e,r,t[r]);if(sm)for(var r of sm(t))p7.call(t,r)&&om(e,r,t[r]);return e},m7=(e,t)=>f7(e,h7(t));let gd;const Iu=Hd(null);function am(e){return e.split("-").map((t,r,n)=>n.slice(0,r+1).join("-")).reverse()}function sl(e,t=Ka().fallbackLocale){const r=am(e);return t?[...new Set([...r,...am(t)])]:r}function jo(){return gd??void 0}Iu.subscribe(e=>{gd=e??void 0,typeof window<"u"&&e!=null&&document.documentElement.setAttribute("lang",e)});const v7=e=>{if(e&&Q9(e)&&xu(e)){const{loadingDelay:t}=Ka();let r;return typeof window<"u"&&jo()!=null&&t?r=window.setTimeout(()=>Oh.set(!0),t):Oh.set(!0),Mb(e).then(()=>{Iu.set(e)}).finally(()=>{clearTimeout(r),Oh.set(!1)})}return Iu.set(e)},la=m7(g7({},Iu),{set:v7}),b7=()=>typeof window>"u"?null:window.navigator.language||window.navigator.languages[0],ef=e=>{const t=Object.create(null);return n=>{const i=JSON.stringify(n);return i in t?t[i]:t[i]=e(n)}};var y7=Object.defineProperty,Au=Object.getOwnPropertySymbols,jb=Object.prototype.hasOwnProperty,Fb=Object.prototype.propertyIsEnumerable,cm=(e,t,r)=>t in e?y7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rp=(e,t)=>{for(var r in t||(t={}))jb.call(t,r)&&cm(e,r,t[r]);if(Au)for(var r of Au(t))Fb.call(t,r)&&cm(e,r,t[r]);return e},Qa=(e,t)=>{var r={};for(var n in e)jb.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Au)for(var n of Au(e))t.indexOf(n)<0&&Fb.call(e,n)&&(r[n]=e[n]);return r};const Gc=(e,t)=>{const{formats:r}=Ka();if(e in r&&t in r[e])return r[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},_7=ef(e=>{var t=e,{locale:r,format:n}=t,i=Qa(t,["locale","format"]);if(r==null)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return n&&(i=Gc("number",n)),new Intl.NumberFormat(r,i)}),w7=ef(e=>{var t=e,{locale:r,format:n}=t,i=Qa(t,["locale","format"]);if(r==null)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return n?i=Gc("date",n):Object.keys(i).length===0&&(i=Gc("date","short")),new Intl.DateTimeFormat(r,i)}),E7=ef(e=>{var t=e,{locale:r,format:n}=t,i=Qa(t,["locale","format"]);if(r==null)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return n?i=Gc("time",n):Object.keys(i).length===0&&(i=Gc("time","short")),new Intl.DateTimeFormat(r,i)}),S7=(e={})=>{var t=e,{locale:r=jo()}=t,n=Qa(t,["locale"]);return _7(rp({locale:r},n))},C7=(e={})=>{var t=e,{locale:r=jo()}=t,n=Qa(t,["locale"]);return w7(rp({locale:r},n))},x7=(e={})=>{var t=e,{locale:r=jo()}=t,n=Qa(t,["locale"]);return E7(rp({locale:r},n))},I7=ef((e,t=jo())=>new $b(e,t,Ka().formats,{ignoreTag:Ka().ignoreTag})),A7=(e,t={})=>{var r,n,i,o;let c=t;typeof e=="object"&&(c=e,e=c.id);const{values:a,locale:m=jo(),default:f}=c;if(m==null)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let g=Lb(e,m);if(!g)g=(o=(i=(n=(r=Ka()).handleMissingMessage)==null?void 0:n.call(r,{locale:m,id:e,defaultValue:f}))!=null?i:f)!=null?o:e;else if(typeof g!="string")return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof g}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),g;if(!a)return g;let u=g;try{u=I7(g,m).format(a)}catch(d){d instanceof Error&&console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,d.message)}return u},O7=(e,t)=>x7(t).format(e),D7=(e,t)=>C7(t).format(e),T7=(e,t)=>S7(t).format(e),P7=(e,t=jo())=>Lb(e,t),js=Ja([la,il],()=>A7);Ja([la],()=>O7);Ja([la],()=>D7);Ja([la],()=>T7);Ja([la,il],()=>P7);let Ub=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");var Bb={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>{return r={7629:(i,o,c)=>{const a=c(375),m=c(8571),f=c(9474),g=c(1687),u=c(8652),d=c(8160),p=c(3292),h=c(6354),v=c(8901),w=c(9708),_=c(6914),y=c(2294),C=c(6133),I=c(1152),D=c(8863),O=c(2036),E={Base:class{constructor(b){this.type=b,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new y.Ids,this._preferences=null,this._refs=new C.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return a(typeof w.describe=="function","Manifest functionality disabled"),w.describe(this)}allow(){for(var b=arguments.length,x=new Array(b),A=0;A<b;A++)x[A]=arguments[A];return d.verifyFlat(x,"allow"),this._values(x,"_valids")}alter(b){a(b&&typeof b=="object"&&!Array.isArray(b),"Invalid targets argument"),a(!this._inRuleset(),"Cannot set alterations inside a ruleset");const x=this.clone();x.$_terms.alterations=x.$_terms.alterations||[];for(const A in b){const N=b[A];a(typeof N=="function","Alteration adjuster for",A,"must be a function"),x.$_terms.alterations.push({target:A,adjuster:N})}return x.$_temp.ruleset=!1,x}artifact(b){return a(b!==void 0,"Artifact cannot be undefined"),a(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",b)}cast(b){return a(b===!1||typeof b=="string","Invalid to value"),a(b===!1||this._definition.cast[b],"Type",this.type,"does not support casting to",b),this.$_setFlag("cast",b===!1?void 0:b)}default(b,x){return this._default("default",b,x)}description(b){return a(b&&typeof b=="string","Description must be a non-empty string"),this.$_setFlag("description",b)}empty(b){const x=this.clone();return b!==void 0&&(b=x.$_compile(b,{override:!1})),x.$_setFlag("empty",b,{clone:!1})}error(b){return a(b,"Missing error"),a(b instanceof Error||typeof b=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",b)}example(b){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a(b!==void 0,"Missing example"),d.assertOptions(x,["override"]),this._inner("examples",b,{single:!0,override:x.override})}external(b,x){return typeof b=="object"&&(a(!x,"Cannot combine options with description"),x=b.description,b=b.method),a(typeof b=="function","Method must be a function"),a(x===void 0||x&&typeof x=="string","Description must be a non-empty string"),this._inner("externals",{method:b,description:x},{single:!0})}failover(b,x){return this._default("failover",b,x)}forbidden(){return this.presence("forbidden")}id(b){return b?(a(typeof b=="string","id must be a non-empty string"),a(/^[^\.]+$/.test(b),"id cannot contain period character"),this.$_setFlag("id",b)):this.$_setFlag("id",void 0)}invalid(){for(var b=arguments.length,x=new Array(b),A=0;A<b;A++)x[A]=arguments[A];return this._values(x,"_invalids")}label(b){return a(b&&typeof b=="string","Label name must be a non-empty string"),this.$_setFlag("label",b)}meta(b){return a(b!==void 0,"Meta cannot be undefined"),this._inner("metas",b,{single:!0})}note(){for(var b=arguments.length,x=new Array(b),A=0;A<b;A++)x[A]=arguments[A];a(x.length,"Missing notes");for(const N of x)a(N&&typeof N=="string","Notes must be non-empty strings");return this._inner("notes",x)}only(){let b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return a(typeof b=="boolean","Invalid mode:",b),this.$_setFlag("only",b)}optional(){return this.presence("optional")}prefs(b){a(b,"Missing preferences"),a(b.context===void 0,"Cannot override context"),a(b.externals===void 0,"Cannot override externals"),a(b.warnings===void 0,"Cannot override warnings"),a(b.debug===void 0,"Cannot override debug"),d.checkPreferences(b);const x=this.clone();return x._preferences=d.preferences(x._preferences,b),x}presence(b){return a(["optional","required","forbidden"].includes(b),"Unknown presence mode",b),this.$_setFlag("presence",b)}raw(){let b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("result",b?"raw":void 0)}result(b){return a(["raw","strip"].includes(b),"Unknown result mode",b),this.$_setFlag("result",b)}required(){return this.presence("required")}strict(b){const x=this.clone(),A=b!==void 0&&!b;return x._preferences=d.preferences(x._preferences,{convert:A}),x}strip(){let b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("result",b?"strip":void 0)}tag(){for(var b=arguments.length,x=new Array(b),A=0;A<b;A++)x[A]=arguments[A];a(x.length,"Missing tags");for(const N of x)a(N&&typeof N=="string","Tags must be non-empty strings");return this._inner("tags",x)}unit(b){return a(b&&typeof b=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",b)}valid(){for(var b=arguments.length,x=new Array(b),A=0;A<b;A++)x[A]=arguments[A];d.verifyFlat(x,"valid");const N=this.allow(...x);return N.$_setFlag("only",!!N._valids,{clone:!1}),N}when(b,x){const A=this.clone();A.$_terms.whens||(A.$_terms.whens=[]);const N=p.when(A,b,x);if(!["any","link"].includes(A.type)){const j=N.is?[N]:N.switch;for(const B of j)a(!B.then||B.then.type==="any"||B.then.type===A.type,"Cannot combine",A.type,"with",B.then&&B.then.type),a(!B.otherwise||B.otherwise.type==="any"||B.otherwise.type===A.type,"Cannot combine",A.type,"with",B.otherwise&&B.otherwise.type)}return A.$_terms.whens.push(N),A.$_mutateRebuild()}cache(b){a(!this._inRuleset(),"Cannot set caching inside a ruleset"),a(!this._cache,"Cannot override schema cache"),a(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const x=this.clone();return x._cache=b||u.provider.provision(),x.$_temp.ruleset=!1,x}clone(){const b=Object.create(Object.getPrototypeOf(this));return this._assign(b)}concat(b){a(d.isSchema(b),"Invalid schema object"),a(this.type==="any"||b.type==="any"||b.type===this.type,"Cannot merge type",this.type,"with another type:",b.type),a(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),a(!b._inRuleset(),"Cannot concatenate a schema with open ruleset");let x=this.clone();if(this.type==="any"&&b.type!=="any"){const A=b.clone();for(const N of Object.keys(x))N!=="type"&&(A[N]=x[N]);x=A}x._ids.concat(b._ids),x._refs.register(b,C.toSibling),x._preferences=x._preferences?d.preferences(x._preferences,b._preferences):b._preferences,x._valids=O.merge(x._valids,b._valids,b._invalids),x._invalids=O.merge(x._invalids,b._invalids,b._valids);for(const A of b._singleRules.keys())x._singleRules.has(A)&&(x._rules=x._rules.filter(N=>N.keep||N.name!==A),x._singleRules.delete(A));for(const A of b._rules)b._definition.rules[A.method].multi||x._singleRules.set(A.name,A),x._rules.push(A);if(x._flags.empty&&b._flags.empty){x._flags.empty=x._flags.empty.concat(b._flags.empty);const A=Object.assign({},b._flags);delete A.empty,g(x._flags,A)}else if(b._flags.empty){x._flags.empty=b._flags.empty;const A=Object.assign({},b._flags);delete A.empty,g(x._flags,A)}else g(x._flags,b._flags);for(const A in b.$_terms){const N=b.$_terms[A];N?x.$_terms[A]?x.$_terms[A]=x.$_terms[A].concat(N):x.$_terms[A]=N.slice():x.$_terms[A]||(x.$_terms[A]=N)}return this.$_root._tracer&&this.$_root._tracer._combine(x,[this,b]),x.$_mutateRebuild()}extend(b){return a(!b.base,"Cannot extend type with another base"),v.type(this,b)}extract(b){return b=Array.isArray(b)?b:b.split("."),this._ids.reach(b)}fork(b,x){a(!this._inRuleset(),"Cannot fork inside a ruleset");let A=this;for(let N of[].concat(b))N=Array.isArray(N)?N:N.split("."),A=A._ids.fork(N,x,A);return A.$_temp.ruleset=!1,A}rule(b){const x=this._definition;d.assertOptions(b,Object.keys(x.modifiers)),a(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const A=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;a(A>=0&&A<this._rules.length,"Cannot apply rules to empty ruleset");const N=this.clone();for(let j=A;j<N._rules.length;++j){const B=N._rules[j],$=m(B);for(const L in b)x.modifiers[L]($,b[L]),a($.name===B.name,"Cannot change rule name");N._rules[j]=$,N._singleRules.get($.name)===B&&N._singleRules.set($.name,$)}return N.$_temp.ruleset=!1,N.$_mutateRebuild()}get ruleset(){a(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const b=this.clone();return b.$_temp.ruleset=b._rules.length,b}get $(){return this.ruleset}tailor(b){b=[].concat(b),a(!this._inRuleset(),"Cannot tailor inside a ruleset");let x=this;if(this.$_terms.alterations)for(const{target:A,adjuster:N}of this.$_terms.alterations)b.includes(A)&&(x=N(x),a(d.isSchema(x),"Alteration adjuster for",A,"failed to return a schema object"));return x=x.$_modify({each:A=>A.tailor(b),ref:!1}),x.$_temp.ruleset=!1,x.$_mutateRebuild()}tracer(){return I.location?I.location(this):this}validate(b,x){return D.entry(b,this,x)}validateAsync(b,x){return D.entryAsync(b,this,x)}$_addRule(b){typeof b=="string"&&(b={name:b}),a(b&&typeof b=="object","Invalid options"),a(b.name&&typeof b.name=="string","Invalid rule name");for(const B in b)a(B[0]!=="_","Cannot set private rule properties");const x=Object.assign({},b);x._resolve=[],x.method=x.method||x.name;const A=this._definition.rules[x.method],N=x.args;a(A,"Unknown rule",x.method);const j=this.clone();if(N){a(Object.keys(N).length===1||Object.keys(N).length===this._definition.rules[x.name].args.length,"Invalid rule definition for",this.type,x.name);for(const B in N){let $=N[B];if(A.argsByName){const L=A.argsByName.get(B);if(L.ref&&d.isResolvable($))x._resolve.push(B),j.$_mutateRegister($);else if(L.normalize&&($=L.normalize($),N[B]=$),L.assert){const q=d.validateArg($,B,L);a(!q,q,"or reference")}}$!==void 0?N[B]=$:delete N[B]}}return A.multi||(j._ruleRemove(x.name,{clone:!1}),j._singleRules.set(x.name,x)),j.$_temp.ruleset===!1&&(j.$_temp.ruleset=null),A.priority?j._rules.unshift(x):j._rules.push(x),j}$_compile(b,x){return p.schema(this.$_root,b,x)}$_createError(b,x,A,N,j){let B=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};const $=B.flags!==!1?this._flags:{},L=B.messages?_.merge(this._definition.messages,B.messages):this._definition.messages;return new h.Report(b,x,A,$,L,N,j)}$_getFlag(b){return this._flags[b]}$_getRule(b){return this._singleRules.get(b)}$_mapLabels(b){return b=Array.isArray(b)?b:b.split("."),this._ids.labels(b)}$_match(b,x,A,N){(A=Object.assign({},A)).abortEarly=!0,A._externals=!1,x.snapshot();const j=!D.validate(b,this,x,A,N).errors;return x.restore(),j}$_modify(b){return d.assertOptions(b,["each","once","ref","schema"]),y.schema(this,b)||this}$_mutateRebuild(){return a(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(b,x)=>{let{source:A,name:N,path:j,key:B}=x;const $=this._definition[A][N]&&this._definition[A][N].register;$!==!1&&this.$_mutateRegister(b,{family:$,key:B})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(b){let{family:x,key:A}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._refs.register(b,x),this._ids.register(b,{key:A})}$_property(b){return this._definition.properties[b]}$_reach(b){return this._ids.reach(b)}$_rootReferences(){return this._refs.roots()}$_setFlag(b,x){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};a(b[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const N=this._definition.flags[b]||{};if(f(x,N.default)&&(x=void 0),f(x,this._flags[b]))return this;const j=A.clone!==!1?this.clone():this;return x!==void 0?(j._flags[b]=x,j.$_mutateRegister(x)):delete j._flags[b],b[0]!=="_"&&(j.$_temp.ruleset=!1),j}$_parent(b){for(var x=arguments.length,A=new Array(x>1?x-1:0),N=1;N<x;N++)A[N-1]=arguments[N];return this[b][d.symbols.parent].call(this,...A)}$_validate(b,x,A){return D.validate(b,this,x,A)}_assign(b){b.type=this.type,b.$_root=this.$_root,b.$_temp=Object.assign({},this.$_temp),b.$_temp.whens={},b._ids=this._ids.clone(),b._preferences=this._preferences,b._valids=this._valids&&this._valids.clone(),b._invalids=this._invalids&&this._invalids.clone(),b._rules=this._rules.slice(),b._singleRules=m(this._singleRules,{shallow:!0}),b._refs=this._refs.clone(),b._flags=Object.assign({},this._flags),b._cache=null,b.$_terms={};for(const x in this.$_terms)b.$_terms[x]=this.$_terms[x]?this.$_terms[x].slice():null;b.$_super={};for(const x in this.$_super)b.$_super[x]=this._super[x].bind(b);return b}_bare(){const b=this.clone();b._reset();const x=b._definition.terms;for(const A in x){const N=x[A];b.$_terms[A]=N.init}return b.$_mutateRebuild()}_default(b,x){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return d.assertOptions(A,"literal"),a(x!==void 0,"Missing",b,"value"),a(typeof x=="function"||!A.literal,"Only function value supports literal option"),typeof x=="function"&&A.literal&&(x={[d.symbols.literal]:!0,literal:x}),this.$_setFlag(b,x)}_generate(b,x,A){if(!this.$_terms.whens)return{schema:this};const N=[],j=[];for(let L=0;L<this.$_terms.whens.length;++L){const q=this.$_terms.whens[L];if(q.concat){N.push(q.concat),j.push(`${L}.concat`);continue}const W=q.ref?q.ref.resolve(b,x,A):b,z=q.is?[q]:q.switch,K=j.length;for(let se=0;se<z.length;++se){const{is:re,then:we,otherwise:fe}=z[se],me=`${L}${q.switch?"."+se:""}`;if(re.$_match(W,x.nest(re,`${me}.is`),A)){if(we){const ge=x.localize([...x.path,`${me}.then`],x.ancestors,x.schemas),{schema:Ie,id:ne}=we._generate(b,ge,A);N.push(Ie),j.push(`${me}.then${ne?`(${ne})`:""}`);break}}else if(fe){const ge=x.localize([...x.path,`${me}.otherwise`],x.ancestors,x.schemas),{schema:Ie,id:ne}=fe._generate(b,ge,A);N.push(Ie),j.push(`${me}.otherwise${ne?`(${ne})`:""}`);break}}if(q.break&&j.length>K)break}const B=j.join(", ");if(x.mainstay.tracer.debug(x,"rule","when",B),!B)return{schema:this};if(!x.mainstay.tracer.active&&this.$_temp.whens[B])return{schema:this.$_temp.whens[B],id:B};let $=this;this._definition.generate&&($=this._definition.generate(this,b,x,A));for(const L of N)$=$.concat(L);return this.$_root._tracer&&this.$_root._tracer._combine($,[this,...N]),this.$_temp.whens[B]=$,{schema:$,id:B}}_inner(b,x){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};a(!this._inRuleset(),`Cannot set ${b} inside a ruleset`);const N=this.clone();return N.$_terms[b]&&!A.override||(N.$_terms[b]=[]),A.single?N.$_terms[b].push(x):N.$_terms[b].push(...x),N.$_temp.ruleset=!1,N}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(b){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._singleRules.has(b))return this;const A=x.clone!==!1?this.clone():this;A._singleRules.delete(b);const N=[];for(let j=0;j<A._rules.length;++j){const B=A._rules[j];B.name!==b||B.keep?N.push(B):A._inRuleset()&&j<A.$_temp.ruleset&&--A.$_temp.ruleset}return A._rules=N,A}_values(b,x){d.verifyFlat(b,x.slice(1,-1));const A=this.clone(),N=b[0]===d.symbols.override;if(N&&(b=b.slice(1)),!A[x]&&b.length?A[x]=new O:N&&(A[x]=b.length?new O:null,A.$_mutateRebuild()),!A[x])return A;N&&A[x].override();for(const j of b){a(j!==void 0,"Cannot call allow/valid/invalid with undefined"),a(j!==d.symbols.override,"Override must be the first value");const B=x==="_invalids"?"_valids":"_invalids";A[B]&&(A[B].remove(j),A[B].length||(a(x==="_valids"||!A._flags.only,"Setting invalid value",j,"leaves schema rejecting all values due to previous valid rule"),A[B]=null)),A[x].add(j,A._refs)}return A}}};E.Base.prototype[d.symbols.any]={version:d.version,compile:p.compile,root:"$_root"},E.Base.prototype.isImmutable=!0,E.Base.prototype.deny=E.Base.prototype.invalid,E.Base.prototype.disallow=E.Base.prototype.invalid,E.Base.prototype.equal=E.Base.prototype.valid,E.Base.prototype.exist=E.Base.prototype.required,E.Base.prototype.not=E.Base.prototype.invalid,E.Base.prototype.options=E.Base.prototype.prefs,E.Base.prototype.preferences=E.Base.prototype.prefs,i.exports=new E.Base},8652:(i,o,c)=>{const a=c(375),m=c(8571),f=c(8160),g={max:1e3,supported:new Set(["undefined","boolean","number","string"])};o.provider={provision:u=>new g.Cache(u)},g.Cache=class{constructor(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f.assertOptions(u,["max"]),a(u.max===void 0||u.max&&u.max>0&&isFinite(u.max),"Invalid max cache size"),this._max=u.max||g.max,this._map=new Map,this._list=new g.List}get length(){return this._map.size}set(u,d){if(u!==null&&!g.supported.has(typeof u))return;let p=this._map.get(u);if(p)return p.value=d,void this._list.first(p);p=this._list.unshift({key:u,value:d}),this._map.set(u,p),this._compact()}get(u){const d=this._map.get(u);if(d)return this._list.first(d),m(d.value)}_compact(){if(this._map.size>this._max){const u=this._list.pop();this._map.delete(u.key)}}},g.List=class{constructor(){this.tail=null,this.head=null}unshift(u){return u.next=null,u.prev=this.head,this.head&&(this.head.next=u),this.head=u,this.tail||(this.tail=u),u}first(u){u!==this.head&&(this._remove(u),this.unshift(u))}pop(){return this._remove(this.tail)}_remove(u){const{next:d,prev:p}=u;return d.prev=p,p&&(p.next=d),u===this.tail&&(this.tail=d),u.prev=null,u.next=null,u}}},8160:(i,o,c)=>{const a=c(375),m=c(7916),f=c(5934);let g,u;const d={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};o.version=f.version,o.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},o.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},o.assertOptions=function(p,h){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Options";a(p&&typeof p=="object"&&!Array.isArray(p),"Options must be of type object");const w=Object.keys(p).filter(_=>!h.includes(_));a(w.length===0,`${v} contain unknown keys: ${w}`)},o.checkPreferences=function(p){u=u||c(3378);const h=u.preferences.validate(p);if(h.error)throw new m([h.error.details[0].message])},o.compare=function(p,h,v){switch(v){case"=":return p===h;case">":return p>h;case"<":return p<h;case">=":return p>=h;case"<=":return p<=h}},o.default=function(p,h){return p===void 0?h:p},o.isIsoDate=function(p){return d.isoDate.test(p)},o.isNumber=function(p){return typeof p=="number"&&!isNaN(p)},o.isResolvable=function(p){return!!p&&(p[o.symbols.ref]||p[o.symbols.template])},o.isSchema=function(p){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=p&&p[o.symbols.any];return!!v&&(a(h.legacy||v.version===o.version,"Cannot mix different versions of joi schemas"),!0)},o.isValues=function(p){return p[o.symbols.values]},o.limit=function(p){return Number.isSafeInteger(p)&&p>=0},o.preferences=function(p,h){g=g||c(6914),p=p||{},h=h||{};const v=Object.assign({},p,h);return h.errors&&p.errors&&(v.errors=Object.assign({},p.errors,h.errors),v.errors.wrap=Object.assign({},p.errors.wrap,h.errors.wrap)),h.messages&&(v.messages=g.compile(h.messages,p.messages)),delete v[o.symbols.prefs],v},o.tryWithPath=function(p,h){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{return p()}catch(w){throw w.path!==void 0?w.path=h+"."+w.path:w.path=h,v.append&&(w.message=`${w.message} (${w.path})`),w}},o.validateArg=function(p,h,v){let{assert:w,message:_}=v;if(o.isSchema(w)){const y=w.validate(p);return y.error?y.error.message:void 0}if(!w(p))return h?`${h} ${_}`:_},o.verifyFlat=function(p,h){for(const v of p)a(!Array.isArray(v),"Method no longer accepts array arguments:",h)}},3292:(i,o,c)=>{const a=c(375),m=c(8160),f=c(6133),g={};o.schema=function(u,d){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};m.assertOptions(p,["appendPath","override"]);try{return g.schema(u,d,p)}catch(h){throw p.appendPath&&h.path!==void 0&&(h.message=`${h.message} (${h.path})`),h}},g.schema=function(u,d,p){a(d!==void 0,"Invalid undefined schema"),Array.isArray(d)&&(a(d.length,"Invalid empty array schema"),d.length===1&&(d=d[0]));const h=function(v){for(var w=arguments.length,_=new Array(w>1?w-1:0),y=1;y<w;y++)_[y-1]=arguments[y];return p.override!==!1?v.valid(u.override,..._):v.valid(..._)};if(g.simple(d))return h(u,d);if(typeof d=="function")return u.custom(d);if(a(typeof d=="object","Invalid schema content:",typeof d),m.isResolvable(d))return h(u,d);if(m.isSchema(d))return d;if(Array.isArray(d)){for(const v of d)if(!g.simple(v))return u.alternatives().try(...d);return h(u,...d)}return d instanceof RegExp?u.string().regex(d):d instanceof Date?h(u.date(),d):(a(Object.getPrototypeOf(d)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),u.object().keys(d))},o.ref=function(u,d){return f.isRef(u)?u:f.create(u,d)},o.compile=function(u,d){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};m.assertOptions(p,["legacy"]);const h=d&&d[m.symbols.any];if(h)return a(p.legacy||h.version===m.version,"Cannot mix different versions of joi schemas:",h.version,m.version),d;if(typeof d!="object"||!p.legacy)return o.schema(u,d,{appendPath:!0});const v=g.walk(d);return v?v.compile(v.root,d):o.schema(u,d,{appendPath:!0})},g.walk=function(u){if(typeof u!="object")return null;if(Array.isArray(u)){for(const p of u){const h=g.walk(p);if(h)return h}return null}const d=u[m.symbols.any];if(d)return{root:u[d.root],compile:d.compile};a(Object.getPrototypeOf(u)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const p in u){const h=g.walk(u[p]);if(h)return h}return null},g.simple=function(u){return u===null||["boolean","string","number"].includes(typeof u)},o.when=function(u,d,p){if(p===void 0&&(a(d&&typeof d=="object","Missing options"),p=d,d=f.create(".")),Array.isArray(p)&&(p={switch:p}),m.assertOptions(p,["is","not","then","otherwise","switch","break"]),m.isSchema(d))return a(p.is===void 0,'"is" can not be used with a schema condition'),a(p.not===void 0,'"not" can not be used with a schema condition'),a(p.switch===void 0,'"switch" can not be used with a schema condition'),g.condition(u,{is:d,then:p.then,otherwise:p.otherwise,break:p.break});if(a(f.isRef(d)||typeof d=="string","Invalid condition:",d),a(p.not===void 0||p.is===void 0,'Cannot combine "is" with "not"'),p.switch===void 0){let v=p;p.not!==void 0&&(v={is:p.not,then:p.otherwise,otherwise:p.then,break:p.break});let w=v.is!==void 0?u.$_compile(v.is):u.$_root.invalid(null,!1,0,"").required();return a(v.then!==void 0||v.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),a(v.break===void 0||v.then===void 0||v.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),p.is===void 0||f.isRef(p.is)||m.isSchema(p.is)||(w=w.required()),g.condition(u,{ref:o.ref(d),is:w,then:v.then,otherwise:v.otherwise,break:v.break})}a(Array.isArray(p.switch),'"switch" must be an array'),a(p.is===void 0,'Cannot combine "switch" with "is"'),a(p.not===void 0,'Cannot combine "switch" with "not"'),a(p.then===void 0,'Cannot combine "switch" with "then"');const h={ref:o.ref(d),switch:[],break:p.break};for(let v=0;v<p.switch.length;++v){const w=p.switch[v],_=v===p.switch.length-1;m.assertOptions(w,_?["is","then","otherwise"]:["is","then"]),a(w.is!==void 0,'Switch statement missing "is"'),a(w.then!==void 0,'Switch statement missing "then"');const y={is:u.$_compile(w.is),then:u.$_compile(w.then)};if(f.isRef(w.is)||m.isSchema(w.is)||(y.is=y.is.required()),_){a(p.otherwise===void 0||w.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const C=p.otherwise!==void 0?p.otherwise:w.otherwise;C!==void 0&&(a(h.break===void 0,"Cannot specify both otherwise and break"),y.otherwise=u.$_compile(C))}h.switch.push(y)}return h},g.condition=function(u,d){for(const p of["then","otherwise"])d[p]===void 0?delete d[p]:d[p]=u.$_compile(d[p]);return d}},6354:(i,o,c)=>{const a=c(5688),m=c(8160),f=c(3328);o.Report=class{constructor(g,u,d,p,h,v,w){if(this.code=g,this.flags=p,this.messages=h,this.path=v.path,this.prefs=w,this.state=v,this.value=u,this.message=null,this.template=null,this.local=d||{},this.local.label=o.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const _=this.path[this.path.length-1];typeof _!="object"&&(this.local.key=_)}}_setTemplate(g){if(this.template=g,!this.flags.label&&this.path.length===0){const u=this._template(this.template,"root");u&&(this.local.label=u)}}toString(){if(this.message)return this.message;const g=this.code;if(!this.prefs.errors.render)return this.code;const u=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return u===void 0?`Error code "${g}" is not defined, your custom type is missing the correct messages definition`:(this.message=u.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(g,u){return o.template(this.value,g,u||this.code,this.state,this.prefs)}},o.path=function(g){let u="";for(const d of g)typeof d!="object"&&(typeof d=="string"?(u&&(u+="."),u+=d):u+=`[${d}]`);return u},o.template=function(g,u,d,p,h){if(!u)return;if(f.isTemplate(u))return d!=="root"?u:null;let v=h.errors.language;if(m.isResolvable(v)&&(v=v.resolve(g,p,h)),v&&u[v]){if(u[v][d]!==void 0)return u[v][d];if(u[v]["*"]!==void 0)return u[v]["*"]}return u[d]?u[d]:u["*"]},o.label=function(g,u,d,p){if(g.label)return g.label;if(!d.errors.label)return"";let h=u.path;return d.errors.label==="key"&&u.path.length>1&&(h=u.path.slice(-1)),o.path(h)||o.template(null,d.messages,"root",u,d)||p&&o.template(null,p,"root",u,d)||"value"},o.process=function(g,u,d){if(!g)return null;const{override:p,message:h,details:v}=o.details(g);if(p)return p;if(d.errors.stack)return new o.ValidationError(h,v,u);const w=Error.stackTraceLimit;Error.stackTraceLimit=0;const _=new o.ValidationError(h,v,u);return Error.stackTraceLimit=w,_},o.details=function(g){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=[];const p=[];for(const h of g){if(h instanceof Error){if(u.override!==!1)return{override:h};const w=h.toString();d.push(w),p.push({message:w,type:"override",context:{error:h}});continue}const v=h.toString();d.push(v),p.push({message:v,path:h.path.filter(w=>typeof w!="object"),type:h.code,context:h.local})}return d.length>1&&(d=[...new Set(d)]),{message:d.join(". "),details:p}},o.ValidationError=class extends Error{constructor(g,u,d){super(g),this._original=d,this.details=u}static isError(g){return g instanceof o.ValidationError}},o.ValidationError.prototype.isJoi=!0,o.ValidationError.prototype.name="ValidationError",o.ValidationError.prototype.annotate=a.error},8901:(i,o,c)=>{const a=c(375),m=c(8571),f=c(8160),g=c(6914),u={};o.type=function(d,p){const h=Object.getPrototypeOf(d),v=m(h),w=d._assign(Object.create(v)),_=Object.assign({},p);delete _.base,v._definition=_;const y=h._definition||{};_.messages=g.merge(y.messages,_.messages),_.properties=Object.assign({},y.properties,_.properties),w.type=_.type,_.flags=Object.assign({},y.flags,_.flags);const C=Object.assign({},y.terms);if(_.terms)for(const E in _.terms){const b=_.terms[E];a(w.$_terms[E]===void 0,"Invalid term override for",_.type,E),w.$_terms[E]=b.init,C[E]=b}_.terms=C,_.args||(_.args=y.args),_.prepare=u.prepare(_.prepare,y.prepare),_.coerce&&(typeof _.coerce=="function"&&(_.coerce={method:_.coerce}),_.coerce.from&&!Array.isArray(_.coerce.from)&&(_.coerce={method:_.coerce.method,from:[].concat(_.coerce.from)})),_.coerce=u.coerce(_.coerce,y.coerce),_.validate=u.validate(_.validate,y.validate);const I=Object.assign({},y.rules);if(_.rules)for(const E in _.rules){const b=_.rules[E];a(typeof b=="object","Invalid rule definition for",_.type,E);let x=b.method;if(x===void 0&&(x=function(){return this.$_addRule(E)}),x&&(a(!v[E],"Rule conflict in",_.type,E),v[E]=x),a(!I[E],"Rule conflict in",_.type,E),I[E]=b,b.alias){const A=[].concat(b.alias);for(const N of A)v[N]=b.method}b.args&&(b.argsByName=new Map,b.args=b.args.map(A=>(typeof A=="string"&&(A={name:A}),a(!b.argsByName.has(A.name),"Duplicated argument name",A.name),f.isSchema(A.assert)&&(A.assert=A.assert.strict().label(A.name)),b.argsByName.set(A.name,A),A)))}_.rules=I;const D=Object.assign({},y.modifiers);if(_.modifiers)for(const E in _.modifiers){a(!v[E],"Rule conflict in",_.type,E);const b=_.modifiers[E];a(typeof b=="function","Invalid modifier definition for",_.type,E);const x=function(A){return this.rule({[E]:A})};v[E]=x,D[E]=b}if(_.modifiers=D,_.overrides){v._super=h,w.$_super={};for(const E in _.overrides)a(h[E],"Cannot override missing",E),_.overrides[E][f.symbols.parent]=h[E],w.$_super[E]=h[E].bind(w);Object.assign(v,_.overrides)}_.cast=Object.assign({},y.cast,_.cast);const O=Object.assign({},y.manifest,_.manifest);return O.build=u.build(_.manifest&&_.manifest.build,y.manifest&&y.manifest.build),_.manifest=O,_.rebuild=u.rebuild(_.rebuild,y.rebuild),w},u.build=function(d,p){return d&&p?function(h,v){return p(d(h,v),v)}:d||p},u.coerce=function(d,p){return d&&p?{from:d.from&&p.from?[...new Set([...d.from,...p.from])]:null,method(h,v){let w;if((!p.from||p.from.includes(typeof h))&&(w=p.method(h,v),w)){if(w.errors||w.value===void 0)return w;h=w.value}if(!d.from||d.from.includes(typeof h)){const _=d.method(h,v);if(_)return _}return w}}:d||p},u.prepare=function(d,p){return d&&p?function(h,v){const w=d(h,v);if(w){if(w.errors||w.value===void 0)return w;h=w.value}return p(h,v)||w}:d||p},u.rebuild=function(d,p){return d&&p?function(h){p(h),d(h)}:d||p},u.validate=function(d,p){return d&&p?function(h,v){const w=p(h,v);if(w){if(w.errors&&(!Array.isArray(w.errors)||w.errors.length))return w;h=w.value}return d(h,v)||w}:d||p}},5107:(i,o,c)=>{const a=c(375),m=c(8571),f=c(8652),g=c(8160),u=c(3292),d=c(6354),p=c(8901),h=c(9708),v=c(6133),w=c(3328),_=c(1152);let y;const C={types:{alternatives:c(4946),any:c(8068),array:c(546),boolean:c(4937),date:c(7500),function:c(390),link:c(8785),number:c(3832),object:c(8966),string:c(7417),symbol:c(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const I={_types:new Set(Object.keys(C.types))};for(const D of I._types)I[D]=function(){for(var O=arguments.length,E=new Array(O),b=0;b<O;b++)E[b]=arguments[b];return a(!E.length||["alternatives","link","object"].includes(D),"The",D,"type does not allow arguments"),C.generate(this,C.types[D],E)};for(const D of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])I[D]=function(){return this.any()[D](...arguments)};Object.assign(I,C.methods);for(const D in C.aliases){const O=C.aliases[D];I[D]=I[O]}return I.x=I.expression,_.setup&&_.setup(I),I}};C.methods={ValidationError:d.ValidationError,version:g.version,cache:f.provider,assert(I,D){for(var O=arguments.length,E=new Array(O>2?O-2:0),b=2;b<O;b++)E[b-2]=arguments[b];C.assert(I,D,!0,E)},attempt(I,D){for(var O=arguments.length,E=new Array(O>2?O-2:0),b=2;b<O;b++)E[b-2]=arguments[b];return C.assert(I,D,!1,E)},build(I){return a(typeof h.build=="function","Manifest functionality disabled"),h.build(this,I)},checkPreferences(I){g.checkPreferences(I)},compile(I,D){return u.compile(this,I,D)},defaults(I){a(typeof I=="function","modifier must be a function");const D=Object.assign({},this);for(const O of D._types){const E=I(D[O]());a(g.isSchema(E),"modifier must return a valid schema object"),D[O]=function(){for(var b=arguments.length,x=new Array(b),A=0;A<b;A++)x[A]=arguments[A];return C.generate(this,E,x)}}return D},expression(){for(var I=arguments.length,D=new Array(I),O=0;O<I;O++)D[O]=arguments[O];return new w(...D)},extend(){for(var I=arguments.length,D=new Array(I),O=0;O<I;O++)D[O]=arguments[O];g.verifyFlat(D,"extend"),y=y||c(3378),a(D.length,"You need to provide at least one extension"),this.assert(D,y.extensions);const E=Object.assign({},this);E._types=new Set(E._types);for(let b of D){typeof b=="function"&&(b=b(E)),this.assert(b,y.extension);const x=C.expandExtension(b,E);for(const A of x){a(E[A.type]===void 0||E._types.has(A.type),"Cannot override name",A.type);const N=A.base||this.any(),j=p.type(N,A);E._types.add(A.type),E[A.type]=function(){for(var B=arguments.length,$=new Array(B),L=0;L<B;L++)$[L]=arguments[L];return C.generate(this,j,$)}}}return E},isError:d.ValidationError.isError,isExpression:w.isTemplate,isRef:v.isRef,isSchema:g.isSchema,in(){return v.in(...arguments)},override:g.symbols.override,ref(){return v.create(...arguments)},types(){const I={};for(const D of this._types)I[D]=this[D]();for(const D in C.aliases)I[D]=this[D]();return I}},C.assert=function(I,D,O,E){const b=E[0]instanceof Error||typeof E[0]=="string"?E[0]:null,x=b!==null?E[1]:E[0],A=D.validate(I,g.preferences({errors:{stack:!0}},x||{}));let N=A.error;if(!N)return A.value;if(b instanceof Error)throw b;const j=O&&typeof N.annotate=="function"?N.annotate():N.message;throw N instanceof d.ValidationError==0&&(N=m(N)),N.message=b?`${b} ${j}`:j,N},C.generate=function(I,D,O){return a(I,"Must be invoked on a Joi instance."),D.$_root=I,D._definition.args&&O.length?D._definition.args(D,...O):D},C.expandExtension=function(I,D){if(typeof I.type=="string")return[I];const O=[];for(const E of D._types)if(I.type.test(E)){const b=Object.assign({},I);b.type=E,b.base=D[E](),O.push(b)}return O},i.exports=C.root()},6914:(i,o,c)=>{const a=c(375),m=c(8571),f=c(3328);o.compile=function(g,u){if(typeof g=="string")return a(!u,"Cannot set single message string"),new f(g);if(f.isTemplate(g))return a(!u,"Cannot set single message template"),g;a(typeof g=="object"&&!Array.isArray(g),"Invalid message options"),u=u?m(u):{};for(let d in g){const p=g[d];if(d==="root"||f.isTemplate(p)){u[d]=p;continue}if(typeof p=="string"){u[d]=new f(p);continue}a(typeof p=="object"&&!Array.isArray(p),"Invalid message for",d);const h=d;for(d in u[h]=u[h]||{},p){const v=p[d];d==="root"||f.isTemplate(v)?u[h][d]=v:(a(typeof v=="string","Invalid message for",d,"in",h),u[h][d]=new f(v))}}return u},o.decompile=function(g){const u={};for(let d in g){const p=g[d];if(d==="root"){u.root=p;continue}if(f.isTemplate(p)){u[d]=p.describe({compact:!0});continue}const h=d;for(d in u[h]={},p){const v=p[d];d!=="root"?u[h][d]=v.describe({compact:!0}):u[h].root=v}}return u},o.merge=function(g,u){if(!g)return o.compile(u);if(!u)return g;if(typeof u=="string")return new f(u);if(f.isTemplate(u))return u;const d=m(g);for(let p in u){const h=u[p];if(p==="root"||f.isTemplate(h)){d[p]=h;continue}if(typeof h=="string"){d[p]=new f(h);continue}a(typeof h=="object"&&!Array.isArray(h),"Invalid message for",p);const v=p;for(p in d[v]=d[v]||{},h){const w=h[p];p==="root"||f.isTemplate(w)?d[v][p]=w:(a(typeof w=="string","Invalid message for",p,"in",v),d[v][p]=new f(w))}}return d}},2294:(i,o,c)=>{const a=c(375),m=c(8160),f=c(6133),g={};o.Ids=g.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const u=new g.Ids;return u._byId=new Map(this._byId),u._byKey=new Map(this._byKey),u._schemaChain=this._schemaChain,u}concat(u){u._schemaChain&&(this._schemaChain=!0);for(const[d,p]of u._byId.entries())a(!this._byKey.has(d),"Schema id conflicts with existing key:",d),this._byId.set(d,p);for(const[d,p]of u._byKey.entries())a(!this._byId.has(d),"Schema key conflicts with existing id:",d),this._byKey.set(d,p)}fork(u,d,p){const h=this._collect(u);h.push({schema:p});const v=h.shift();let w={id:v.id,schema:d(v.schema)};a(m.isSchema(w.schema),"adjuster function failed to return a joi schema type");for(const _ of h)w={id:_.id,schema:g.fork(_.schema,w.id,w.schema)};return w.schema}labels(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const p=u[0],h=this._get(p);if(!h)return[...d,...u].join(".");const v=u.slice(1);return d=[...d,h.schema._flags.label||p],v.length?h.schema._ids.labels(v,d):d.join(".")}reach(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const p=u[0],h=this._get(p);a(h,"Schema does not contain path",[...d,...u].join("."));const v=u.slice(1);return v.length?h.schema._ids.reach(v,[...d,p]):h.schema}register(u){let{key:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!u||!m.isSchema(u))return;(u.$_property("schemaChain")||u._ids._schemaChain)&&(this._schemaChain=!0);const p=u._flags.id;if(p){const h=this._byId.get(p);a(!h||h.schema===u,"Cannot add different schemas with the same id:",p),a(!this._byKey.has(p),"Schema id conflicts with existing key:",p),this._byId.set(p,{schema:u,id:p})}d&&(a(!this._byKey.has(d),"Schema already contains key:",d),a(!this._byId.has(d),"Schema key conflicts with existing id:",d),this._byKey.set(d,{schema:u,id:d}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const h=u[0],v=this._get(h);a(v,"Schema does not contain path",[...d,...u].join(".")),p=[v,...p];const w=u.slice(1);return w.length?v.schema._ids._collect(w,[...d,h],p):p}_get(u){return this._byId.get(u)||this._byKey.get(u)}},g.fork=function(u,d,p){const h=o.schema(u,{each:(v,w)=>{let{key:_}=w;if(d===(v._flags.id||_))return p},ref:!1});return h?h.$_mutateRebuild():u},o.schema=function(u,d){let p;for(const h in u._flags){if(h[0]==="_")continue;const v=g.scan(u._flags[h],{source:"flags",name:h},d);v!==void 0&&(p=p||u.clone(),p._flags[h]=v)}for(let h=0;h<u._rules.length;++h){const v=u._rules[h],w=g.scan(v.args,{source:"rules",name:v.name},d);if(w!==void 0){p=p||u.clone();const _=Object.assign({},v);_.args=w,p._rules[h]=_,p._singleRules.get(v.name)===v&&p._singleRules.set(v.name,_)}}for(const h in u.$_terms){if(h[0]==="_")continue;const v=g.scan(u.$_terms[h],{source:"terms",name:h},d);v!==void 0&&(p=p||u.clone(),p.$_terms[h]=v)}return p},g.scan=function(u,d,p,h,v){const w=h||[];if(u===null||typeof u!="object")return;let _;if(Array.isArray(u)){for(let y=0;y<u.length;++y){const C=d.source==="terms"&&d.name==="keys"&&u[y].key,I=g.scan(u[y],d,p,[y,...w],C);I!==void 0&&(_=_||u.slice(),_[y]=I)}return _}if(p.schema!==!1&&m.isSchema(u)||p.ref!==!1&&f.isRef(u)){const y=p.each(u,{...d,path:w,key:v});return y===u?void 0:y}for(const y in u){if(y[0]==="_")continue;const C=g.scan(u[y],d,p,[y,...w],v);C!==void 0&&(_=_||Object.assign({},u),_[y]=C)}return _}},6133:(i,o,c)=>{const a=c(375),m=c(8571),f=c(9621),g=c(8160);let u;const d={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};o.create=function(p){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(typeof p=="string","Invalid reference key:",p),g.assertOptions(h,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),a(!h.prefix||typeof h.prefix=="object","options.prefix must be of type object");const v=Object.assign({},d.defaults,h);delete v.prefix;const w=v.separator,_=d.context(p,w,h.prefix);if(v.type=_.type,p=_.key,v.type==="value")if(_.root&&(a(!w||p[0]!==w,"Cannot specify relative path with root prefix"),v.ancestor="root",p||(p=null)),w&&w===p)p=null,v.ancestor=0;else if(v.ancestor!==void 0)a(!w||!p||p[0]!==w,"Cannot combine prefix with ancestor option");else{const[y,C]=d.ancestor(p,w);C&&(p=p.slice(C))===""&&(p=null),v.ancestor=y}return v.path=w?p===null?[]:p.split(w):[p],new d.Ref(v)},o.in=function(p){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.create(p,{...h,in:!0})},o.isRef=function(p){return!!p&&!!p[g.symbols.ref]},d.Ref=class{constructor(p){a(typeof p=="object","Invalid reference construction"),g.assertOptions(p,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),a([!1,void 0].includes(p.separator)||typeof p.separator=="string"&&p.separator.length===1,"Invalid separator"),a(!p.adjust||typeof p.adjust=="function","options.adjust must be a function"),a(!p.map||Array.isArray(p.map),"options.map must be an array"),a(!p.map||!p.adjust,"Cannot set both map and adjust options"),Object.assign(this,d.defaults,p),a(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(p,h,v,w){let _=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return a(!this.in||_.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(v.context,h,_):this.type==="local"?this._resolve(w,h,_):this.ancestor?this.ancestor==="root"?this._resolve(h.ancestors[h.ancestors.length-1],h,_):(a(this.ancestor<=h.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(h.ancestors[this.ancestor-1],h,_)):this._resolve(p,h,_)}_resolve(p,h,v){let w;if(this.type==="value"&&h.mainstay.shadow&&v.shadow!==!1&&(w=h.mainstay.shadow.get(this.absolute(h))),w===void 0&&(w=f(p,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(w=this.adjust(w)),this.map){const _=this.map.get(w);_!==void 0&&(w=_)}return h.mainstay&&h.mainstay.tracer.resolve(h,this,w),w}toString(){return this.display}absolute(p){return[...p.path.slice(0,-this.ancestor),...this.path]}clone(){return new d.Ref(this)}describe(){const p={path:this.path};this.type!=="value"&&(p.type=this.type),this.separator!=="."&&(p.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(p.ancestor=this.ancestor),this.map&&(p.map=[...this.map]);for(const h of["adjust","iterables","render"])this[h]!==null&&this[h]!==void 0&&(p[h]=this[h]);return this.in!==!1&&(p.in=!0),{ref:p}}updateDisplay(){const p=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${p}`);if(!this.separator)return void(this.display=`ref:${p}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${p}`);if(this.ancestor==="root")return void(this.display=`ref:root:${p}`);if(this.ancestor===1)return void(this.display=`ref:${p||".."}`);const h=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${h}${p||""}`}},d.Ref.prototype[g.symbols.ref]=!0,o.build=function(p){return(p=Object.assign({},d.defaults,p)).type==="value"&&p.ancestor===void 0&&(p.ancestor=1),new d.Ref(p)},d.context=function(p,h){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(p=p.trim(),v){const w=v.global===void 0?"$":v.global;if(w!==h&&p.startsWith(w))return{key:p.slice(w.length),type:"global"};const _=v.local===void 0?"#":v.local;if(_!==h&&p.startsWith(_))return{key:p.slice(_.length),type:"local"};const y=v.root===void 0?"/":v.root;if(y!==h&&p.startsWith(y))return{key:p.slice(y.length),type:"value",root:!0}}return{key:p,type:"value"}},d.ancestor=function(p,h){if(!h)return[1,0];if(p[0]!==h)return[1,0];if(p[1]!==h)return[0,1];let v=2;for(;p[v]===h;)++v;return[v-1,v]},o.toSibling=0,o.toParent=1,o.Manager=class{constructor(){this.refs=[]}register(p,h){if(p)if(h=h===void 0?o.toParent:h,Array.isArray(p))for(const v of p)this.register(v,h);else if(g.isSchema(p))for(const v of p._refs.refs)v.ancestor-h>=0&&this.refs.push({ancestor:v.ancestor-h,root:v.root});else o.isRef(p)&&p.type==="value"&&p.ancestor-h>=0&&this.refs.push({ancestor:p.ancestor-h,root:p.root}),u=u||c(3328),u.isTemplate(p)&&this.register(p.refs(),h)}get length(){return this.refs.length}clone(){const p=new o.Manager;return p.refs=m(this.refs),p}reset(){this.refs=[]}roots(){return this.refs.filter(p=>!p.ancestor).map(p=>p.root)}}},3378:(i,o,c)=>{const a=c(5107),m={};m.wrap=a.string().min(1).max(2).allow(!1),o.preferences=a.object({allowUnknown:a.boolean(),abortEarly:a.boolean(),artifacts:a.boolean(),cache:a.boolean(),context:a.object(),convert:a.boolean(),dateFormat:a.valid("date","iso","string","time","utc"),debug:a.boolean(),errors:{escapeHtml:a.boolean(),label:a.valid("path","key",!1),language:[a.string(),a.object().ref()],render:a.boolean(),stack:a.boolean(),wrap:{label:m.wrap,array:m.wrap,string:m.wrap}},externals:a.boolean(),messages:a.object(),noDefaults:a.boolean(),nonEnumerables:a.boolean(),presence:a.valid("required","optional","forbidden"),skipFunctions:a.boolean(),stripUnknown:a.object({arrays:a.boolean(),objects:a.boolean()}).or("arrays","objects").allow(!0,!1),warnings:a.boolean()}).strict(),m.nameRx=/^[a-zA-Z0-9]\w*$/,m.rule=a.object({alias:a.array().items(a.string().pattern(m.nameRx)).single(),args:a.array().items(a.string(),a.object({name:a.string().pattern(m.nameRx).required(),ref:a.boolean(),assert:a.alternatives([a.function(),a.object().schema()]).conditional("ref",{is:!0,then:a.required()}),normalize:a.function(),message:a.string().when("assert",{is:a.function(),then:a.required()})})),convert:a.boolean(),manifest:a.boolean(),method:a.function().allow(!1),multi:a.boolean(),validate:a.function()}),o.extension=a.object({type:a.alternatives([a.string(),a.object().regex()]).required(),args:a.function(),cast:a.object().pattern(m.nameRx,a.object({from:a.function().maxArity(1).required(),to:a.function().minArity(1).maxArity(2).required()})),base:a.object().schema().when("type",{is:a.object().regex(),then:a.forbidden()}),coerce:[a.function().maxArity(3),a.object({method:a.function().maxArity(3).required(),from:a.array().items(a.string()).single()})],flags:a.object().pattern(m.nameRx,a.object({setter:a.string(),default:a.any()})),manifest:{build:a.function().arity(2)},messages:[a.object(),a.string()],modifiers:a.object().pattern(m.nameRx,a.function().minArity(1).maxArity(2)),overrides:a.object().pattern(m.nameRx,a.function()),prepare:a.function().maxArity(3),rebuild:a.function().arity(1),rules:a.object().pattern(m.nameRx,m.rule),terms:a.object().pattern(m.nameRx,a.object({init:a.array().allow(null).required(),manifest:a.object().pattern(/.+/,[a.valid("schema","single"),a.object({mapped:a.object({from:a.string().required(),to:a.string().required()}).required()})])})),validate:a.function().maxArity(3)}).strict(),o.extensions=a.array().items(a.object(),a.function().arity(1)).strict(),m.desc={buffer:a.object({buffer:a.string()}),func:a.object({function:a.function().required(),options:{literal:!0}}),override:a.object({override:!0}),ref:a.object({ref:a.object({type:a.valid("value","global","local"),path:a.array().required(),separator:a.string().length(1).allow(!1),ancestor:a.number().min(0).integer().allow("root"),map:a.array().items(a.array().length(2)).min(1),adjust:a.function(),iterables:a.boolean(),in:a.boolean(),render:a.boolean()}).required()}),regex:a.object({regex:a.string().min(3)}),special:a.object({special:a.valid("deep").required()}),template:a.object({template:a.string().required(),options:a.object()}),value:a.object({value:a.alternatives([a.object(),a.array()]).required()})},m.desc.entity=a.alternatives([a.array().items(a.link("...")),a.boolean(),a.function(),a.number(),a.string(),m.desc.buffer,m.desc.func,m.desc.ref,m.desc.regex,m.desc.special,m.desc.template,m.desc.value,a.link("/")]),m.desc.values=a.array().items(null,a.boolean(),a.function(),a.number().allow(1/0,-1/0),a.string().allow(""),a.symbol(),m.desc.buffer,m.desc.func,m.desc.override,m.desc.ref,m.desc.regex,m.desc.template,m.desc.value),m.desc.messages=a.object().pattern(/.+/,[a.string(),m.desc.template,a.object().pattern(/.+/,[a.string(),m.desc.template])]),o.description=a.object({type:a.string().required(),flags:a.object({cast:a.string(),default:a.any(),description:a.string(),empty:a.link("/"),failover:m.desc.entity,id:a.string(),label:a.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:a.boolean(),unit:a.string()}).unknown(),preferences:{allowUnknown:a.boolean(),abortEarly:a.boolean(),artifacts:a.boolean(),cache:a.boolean(),convert:a.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:a.boolean(),label:["path","key"],language:[a.string(),m.desc.ref],wrap:{label:m.wrap,array:m.wrap}},externals:a.boolean(),messages:m.desc.messages,noDefaults:a.boolean(),nonEnumerables:a.boolean(),presence:["required","optional","forbidden"],skipFunctions:a.boolean(),stripUnknown:a.object({arrays:a.boolean(),objects:a.boolean()}).or("arrays","objects").allow(!0,!1),warnings:a.boolean()},allow:m.desc.values,invalid:m.desc.values,rules:a.array().min(1).items({name:a.string().required(),args:a.object().min(1),keep:a.boolean(),message:[a.string(),m.desc.messages],warn:a.boolean()}),keys:a.object().pattern(/.*/,a.link("/")),link:m.desc.ref}).pattern(/^[a-z]\w*$/,a.any())},493:(i,o,c)=>{const a=c(8571),m=c(9621),f=c(8160),g={value:Symbol("value")};i.exports=g.State=class{constructor(u,d,p){this.path=u,this.ancestors=d,this.mainstay=p.mainstay,this.schemas=p.schemas,this.debug=null}localize(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const h=new g.State(u,d,this);return p&&h.schemas&&(h.schemas=[g.schemas(p),...h.schemas]),h}nest(u,d){const p=new g.State(this.path,this.ancestors,this);return p.schemas=p.schemas&&[g.schemas(u),...p.schemas],p.debug=d,p}shadow(u,d){this.mainstay.shadow=this.mainstay.shadow||new g.Shadow,this.mainstay.shadow.set(this.path,u,d)}snapshot(){this.mainstay.shadow&&(this._snapshot=a(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}},g.schemas=function(u){return f.isSchema(u)?{schema:u}:u},g.Shadow=class{constructor(){this._values=null}set(u,d,p){if(!u.length||p==="strip"&&typeof u[u.length-1]=="number")return;this._values=this._values||new Map;let h=this._values;for(let v=0;v<u.length;++v){const w=u[v];let _=h.get(w);_||(_=new Map,h.set(w,_)),h=_}h[g.value]=d}get(u){const d=this.node(u);if(d)return d[g.value]}node(u){if(this._values)return m(this._values,u,{iterables:!0})}override(u,d){if(!this._values)return;const p=u.slice(0,-1),h=u[u.length-1],v=m(this._values,p,{iterables:!0});d?v.set(h,d):v&&v.delete(h)}}},3328:(i,o,c)=>{const a=c(375),m=c(8571),f=c(5277),g=c(1447),u=c(8160),d=c(6354),p=c(6133),h={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};i.exports=h.Template=class{constructor(v,w){a(typeof v=="string","Template source must be a string"),a(!v.includes("\0")&&!v.includes(""),"Template source cannot contain reserved control characters"),this.source=v,this.rendered=v,this._template=null,this._settings=m(w),this._parse()}_parse(){if(!this.source.includes("{"))return;const v=h.encode(this.source),w=h.split(v);let _=!1;const y=[],C=w.shift();C&&y.push(C);for(const I of w){const D=I[0]!=="{",O=D?"}":"}}",E=I.indexOf(O);if(E===-1||I[1]==="{"){y.push(`{${h.decode(I)}`);continue}let b=I.slice(D?0:1,E);const x=b[0]===":";x&&(b=b.slice(1));const A=this._ref(h.decode(b),{raw:D,wrapped:x});y.push(A),typeof A!="string"&&(_=!0);const N=I.slice(E+O.length);N&&y.push(h.decode(N))}_?this._template=y:this.rendered=y.join("")}static date(v,w){return h.dateFormat[w.dateFormat].call(v)}describe(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this._settings&&v.compact)return this.source;const w={template:this.source};return this._settings&&(w.options=this._settings),w}static build(v){return new h.Template(v.template,v.options)}isDynamic(){return!!this._template}static isTemplate(v){return!!v&&!!v[u.symbols.template]}refs(){if(!this._template)return;const v=[];for(const w of this._template)typeof w!="string"&&v.push(...w.refs);return v}resolve(v,w,_,y){return this._template&&this._template.length===1?this._part(this._template[0],v,w,_,y,{}):this.render(v,w,_,y)}_part(v){for(var w=arguments.length,_=new Array(w>1?w-1:0),y=1;y<w;y++)_[y-1]=arguments[y];return v.ref?v.ref.resolve(..._):v.formula.evaluate(_)}render(v,w,_,y){let C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!this.isDynamic())return this.rendered;const I=[];for(const D of this._template)if(typeof D=="string")I.push(D);else{const O=this._part(D,v,w,_,y,C),E=h.stringify(O,v,w,_,y,C);if(E!==void 0){const b=D.raw||(C.errors&&C.errors.escapeHtml)===!1?E:f(E);I.push(h.wrap(b,D.wrapped&&_.errors.wrap.label))}}return I.join("")}_ref(v,w){let{raw:_,wrapped:y}=w;const C=[],I=O=>{const E=p.create(O,this._settings);return C.push(E),b=>E.resolve(...b)};try{var D=new g.Parser(v,{reference:I,functions:h.functions,constants:h.constants})}catch(O){throw O.message=`Invalid template variable "${v}" fails due to: ${O.message}`,O}if(D.single){if(D.single.type==="reference"){const O=C[0];return{ref:O,raw:_,refs:C,wrapped:y||O.type==="local"&&O.key==="label"}}return h.stringify(D.single.value)}return{formula:D,raw:_,refs:C}}toString(){return this.source}},h.Template.prototype[u.symbols.template]=!0,h.Template.prototype.isImmutable=!0,h.encode=function(v){return v.replace(/\\(\{+)/g,(w,_)=>h.opens.slice(0,_.length)).replace(/\\(\}+)/g,(w,_)=>h.closes.slice(0,_.length))},h.decode=function(v){return v.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},h.split=function(v){const w=[];let _="";for(let y=0;y<v.length;++y){const C=v[y];if(C==="{"){let I="";for(;y+1<v.length&&v[y+1]==="{";)I+="{",++y;w.push(_),_=I}else _+=C}return w.push(_),w},h.wrap=function(v,w){return w?w.length===1?`${w}${v}${w}`:`${w[0]}${v}${w[1]}`:v},h.stringify=function(v,w,_,y,C){let I=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};const D=typeof v,O=y&&y.errors&&y.errors.wrap||{};let E=!1;if(p.isRef(v)&&v.render&&(E=v.in,v=v.resolve(w,_,y,C,{in:v.in,...I})),v===null)return"null";if(D==="string")return h.wrap(v,I.arrayItems&&O.string);if(D==="number"||D==="function"||D==="symbol")return v.toString();if(D!=="object")return JSON.stringify(v);if(v instanceof Date)return h.Template.date(v,y);if(v instanceof Map){const x=[];for(const[A,N]of v.entries())x.push(`${A.toString()} -> ${N.toString()}`);v=x}if(!Array.isArray(v))return v.toString();const b=[];for(const x of v)b.push(h.stringify(x,w,_,y,C,{arrayItems:!0,...I}));return h.wrap(b.join(", "),!E&&O.array)},h.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},h.functions={if:(v,w,_)=>v?w:_,length:v=>typeof v=="string"?v.length:v&&typeof v=="object"?Array.isArray(v)?v.length:Object.keys(v).length:null,msg(v){const[w,_,y,C,I]=this,D=I.messages;if(!D)return"";const O=d.template(w,D[0],v,_,y)||d.template(w,D[1],v,_,y);return O?O.render(w,_,y,C,I):""},number:v=>typeof v=="number"?v:typeof v=="string"?parseFloat(v):typeof v=="boolean"?v?1:0:v instanceof Date?v.getTime():null}},4946:(i,o,c)=>{const a=c(375),m=c(1687),f=c(8068),g=c(8160),u=c(3292),d=c(6354),p=c(6133),h={};i.exports=f.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:p.toSibling}},args(v){for(var w=arguments.length,_=new Array(w>1?w-1:0),y=1;y<w;y++)_[y-1]=arguments[y];return _.length===1&&Array.isArray(_[0])?v.try(..._[0]):v.try(..._)},validate(v,w){const{schema:_,error:y,state:C,prefs:I}=w;if(_._flags.match){const O=[],E=[];for(let x=0;x<_.$_terms.matches.length;++x){const A=_.$_terms.matches[x],N=C.nest(A.schema,`match.${x}`);N.snapshot();const j=A.schema.$_validate(v,N,I);j.errors?(E.push(j.errors),N.restore()):O.push(j.value)}if(O.length===0)return{errors:y("alternatives.any",{details:E.map(x=>d.details(x,{override:!1}))})};if(_._flags.match==="one")return O.length===1?{value:O[0]}:{errors:y("alternatives.one")};if(O.length!==_.$_terms.matches.length)return{errors:y("alternatives.all",{details:E.map(x=>d.details(x,{override:!1}))})};const b=x=>x.$_terms.matches.some(A=>A.schema.type==="object"||A.schema.type==="alternatives"&&b(A.schema));return b(_)?{value:O.reduce((x,A)=>m(x,A,{mergeArrays:!1}))}:{value:O[O.length-1]}}const D=[];for(let O=0;O<_.$_terms.matches.length;++O){const E=_.$_terms.matches[O];if(E.schema){const A=C.nest(E.schema,`match.${O}`);A.snapshot();const N=E.schema.$_validate(v,A,I);if(!N.errors)return N;A.restore(),D.push({schema:E.schema,reports:N.errors});continue}const b=E.ref?E.ref.resolve(v,C,I):v,x=E.is?[E]:E.switch;for(let A=0;A<x.length;++A){const N=x[A],{is:j,then:B,otherwise:$}=N,L=`match.${O}${E.switch?"."+A:""}`;if(j.$_match(b,C.nest(j,`${L}.is`),I)){if(B)return B.$_validate(v,C.nest(B,`${L}.then`),I)}else if($)return $.$_validate(v,C.nest($,`${L}.otherwise`),I)}}return h.errors(D,w)},rules:{conditional:{method(v,w){a(!this._flags._endedSwitch,"Unreachable condition"),a(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),a(w.break===void 0,"Cannot use break option with alternatives conditional");const _=this.clone(),y=u.when(_,v,w),C=y.is?[y]:y.switch;for(const I of C)if(I.then&&I.otherwise){_.$_setFlag("_endedSwitch",!0,{clone:!1});break}return _.$_terms.matches.push(y),_.$_mutateRebuild()}},match:{method(v){if(a(["any","one","all"].includes(v),"Invalid alternatives match mode",v),v!=="any")for(const w of this.$_terms.matches)a(w.schema,"Cannot combine match mode",v,"with conditional rules");return this.$_setFlag("match",v)}},try:{method(){for(var v=arguments.length,w=new Array(v),_=0;_<v;_++)w[_]=arguments[_];a(w.length,"Missing alternative schemas"),g.verifyFlat(w,"try"),a(!this._flags._endedSwitch,"Unreachable condition");const y=this.clone();for(const C of w)y.$_terms.matches.push({schema:y.$_compile(C)});return y.$_mutateRebuild()}}},overrides:{label(v){return this.$_parent("label",v).$_modify({each:(w,_)=>_.path[0]!=="is"?w.label(v):void 0,ref:!1})}},rebuild(v){v.$_modify({each:w=>{g.isSchema(w)&&w.type==="array"&&v.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(v,w){if(w.matches)for(const _ of w.matches){const{schema:y,ref:C,is:I,not:D,then:O,otherwise:E}=_;v=y?v.try(y):C?v.conditional(C,{is:I,then:O,not:D,otherwise:E,switch:_.switch}):v.conditional(I,{then:O,otherwise:E})}return v}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),h.errors=function(v,w){let{error:_,state:y}=w;if(!v.length)return{errors:_("alternatives.any")};if(v.length===1)return{errors:v[0].reports};const C=new Set,I=[];for(const{reports:D,schema:O}of v){if(D.length>1)return h.unmatched(v,_);const E=D[0];if(E instanceof d.Report==0)return h.unmatched(v,_);if(E.state.path.length!==y.path.length){I.push({type:O.type,report:E});continue}if(E.code==="any.only"){for(const A of E.local.valids)C.add(A);continue}const[b,x]=E.code.split(".");x==="base"?C.add(b):I.push({type:O.type,report:E})}return I.length?I.length===1?{errors:I[0].report}:h.unmatched(v,_):{errors:_("alternatives.types",{types:[...C]})}},h.unmatched=function(v,w){const _=[];for(const y of v)_.push(...y.reports);return{errors:w("alternatives.match",d.details(_,{override:!1}))}}},8068:(i,o,c)=>{const a=c(375),m=c(7629),f=c(8160),g=c(6914);i.exports=m.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(u,d){return a(typeof u=="function","Method must be a function"),a(d===void 0||d&&typeof d=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:u,description:d}})},validate(u,d,p){let{method:h}=p;try{return h(u,d)}catch(v){return d.error("any.custom",{error:v})}},args:["method","description"],multi:!0},messages:{method(u){return this.prefs({messages:u})}},shared:{method(u){a(f.isSchema(u)&&u._flags.id,"Schema must be a schema with an id");const d=this.clone();return d.$_terms.shared=d.$_terms.shared||[],d.$_terms.shared.push(u),d.$_mutateRegister(u),d}},warning:{method(u,d){return a(u&&typeof u=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:u,local:d},warn:!0})},validate(u,d,p){let{code:h,local:v}=p;return d.error(h,v)},args:["code","local"],multi:!0}},modifiers:{keep(u){let d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];u.keep=d},message(u,d){u.message=g.compile(d)},warn(u){let d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];u.warn=d}},manifest:{build(u,d){for(const p in d){const h=d[p];if(["examples","externals","metas","notes","tags"].includes(p))for(const v of h)u=u[p.slice(0,-1)](v);else if(p!=="alterations")if(p!=="whens"){if(p==="shared")for(const v of h)u=u.shared(v)}else for(const v of h){const{ref:w,is:_,not:y,then:C,otherwise:I,concat:D}=v;u=D?u.concat(D):w?u.when(w,{is:_,not:y,then:C,otherwise:I,switch:v.switch,break:v.break}):u.when(_,{then:C,otherwise:I,break:v.break})}else{const v={};for(const{target:w,adjuster:_}of h)v[w]=_;u=u.alter(v)}}return u}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(i,o,c)=>{const a=c(375),m=c(9474),f=c(9621),g=c(8068),u=c(8160),d=c(3292),p={};i.exports=g.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(h,v){let{schema:w,state:_,prefs:y}=v;if(!Array.isArray(h))return;const C=w.$_getRule("sort");return C?p.sort(w,h,C.args.options,_,y):void 0}},validate(h,v){let{schema:w,error:_}=v;if(!Array.isArray(h)){if(w._flags.single){const y=[h];return y[u.symbols.arraySingle]=!0,{value:y}}return{errors:_("array.base")}}if(w.$_getRule("items")||w.$_terms.externals)return{value:h.slice()}},rules:{has:{method(h){h=this.$_compile(h,{appendPath:!0});const v=this.$_addRule({name:"has",args:{schema:h}});return v.$_mutateRegister(h),v},validate(h,v,w){let{state:_,prefs:y,error:C}=v,{schema:I}=w;const D=[h,..._.ancestors];for(let E=0;E<h.length;++E){const b=_.localize([..._.path,E],D,I);if(I.$_match(h[E],b,y))return h}const O=I._flags.label;return O?C("array.hasKnown",{patternLabel:O}):C("array.hasUnknown",null)},multi:!0},items:{method(){for(var h=arguments.length,v=new Array(h),w=0;w<h;w++)v[w]=arguments[w];u.verifyFlat(v,"items");const _=this.$_addRule("items");for(let y=0;y<v.length;++y){const C=u.tryWithPath(()=>this.$_compile(v[y]),y,{append:!0});_.$_terms.items.push(C)}return _.$_mutateRebuild()},validate(h,v){let{schema:w,error:_,state:y,prefs:C,errorsArray:I}=v;const D=w.$_terms._requireds.slice(),O=w.$_terms.ordered.slice(),E=[...w.$_terms._inclusions,...D],b=!h[u.symbols.arraySingle];delete h[u.symbols.arraySingle];const x=I();let A=h.length;for(let N=0;N<A;++N){const j=h[N];let B=!1,$=!1;const L=b?N:new Number(N),q=[...y.path,L];if(!w._flags.sparse&&j===void 0){if(x.push(_("array.sparse",{key:L,path:q,pos:N,value:void 0},y.localize(q))),C.abortEarly)return x;O.shift();continue}const W=[h,...y.ancestors];for(const re of w.$_terms._exclusions)if(re.$_match(j,y.localize(q,W,re),C,{presence:"ignore"})){if(x.push(_("array.excludes",{pos:N,value:j},y.localize(q))),C.abortEarly)return x;B=!0,O.shift();break}if(B)continue;if(w.$_terms.ordered.length){if(O.length){const re=O.shift(),we=re.$_validate(j,y.localize(q,W,re),C);if(we.errors){if(x.push(...we.errors),C.abortEarly)return x}else if(re._flags.result==="strip")p.fastSplice(h,N),--N,--A;else{if(!w._flags.sparse&&we.value===void 0){if(x.push(_("array.sparse",{key:L,path:q,pos:N,value:void 0},y.localize(q))),C.abortEarly)return x;continue}h[N]=we.value}continue}if(!w.$_terms.items.length){if(x.push(_("array.orderedLength",{pos:N,limit:w.$_terms.ordered.length})),C.abortEarly)return x;break}}const z=[];let K=D.length;for(let re=0;re<K;++re){const we=y.localize(q,W,D[re]);we.snapshot();const fe=D[re].$_validate(j,we,C);if(z[re]=fe,!fe.errors){if(h[N]=fe.value,$=!0,p.fastSplice(D,re),--re,--K,!w._flags.sparse&&fe.value===void 0&&(x.push(_("array.sparse",{key:L,path:q,pos:N,value:void 0},y.localize(q))),C.abortEarly))return x;break}we.restore()}if($)continue;const se=C.stripUnknown&&!!C.stripUnknown.arrays||!1;K=E.length;for(const re of E){let we;const fe=D.indexOf(re);if(fe!==-1)we=z[fe];else{const me=y.localize(q,W,re);if(me.snapshot(),we=re.$_validate(j,me,C),!we.errors){re._flags.result==="strip"?(p.fastSplice(h,N),--N,--A):w._flags.sparse||we.value!==void 0?h[N]=we.value:(x.push(_("array.sparse",{key:L,path:q,pos:N,value:void 0},y.localize(q))),B=!0),$=!0;break}me.restore()}if(K===1){if(se){p.fastSplice(h,N),--N,--A,$=!0;break}if(x.push(...we.errors),C.abortEarly)return x;B=!0;break}}if(!B&&(w.$_terms._inclusions.length||w.$_terms._requireds.length)&&!$){if(se){p.fastSplice(h,N),--N,--A;continue}if(x.push(_("array.includes",{pos:N,value:j},y.localize(q))),C.abortEarly)return x}}return D.length&&p.fillMissedErrors(w,x,D,h,y,C),O.length&&(p.fillOrderedErrors(w,x,O,h,y,C),x.length||p.fillDefault(O,h,y,C)),x.length?x:h},priority:!0,manifest:!1},length:{method(h){return this.$_addRule({name:"length",args:{limit:h},operator:"="})},validate(h,v,w,_){let{limit:y}=w,{name:C,operator:I,args:D}=_;return u.compare(h.length,y,I)?h:v.error("array."+C,{limit:D.limit,value:h})},args:[{name:"limit",ref:!0,assert:u.limit,message:"must be a positive integer"}]},max:{method(h){return this.$_addRule({name:"max",method:"length",args:{limit:h},operator:"<="})}},min:{method(h){return this.$_addRule({name:"min",method:"length",args:{limit:h},operator:">="})}},ordered:{method(){for(var h=arguments.length,v=new Array(h),w=0;w<h;w++)v[w]=arguments[w];u.verifyFlat(v,"ordered");const _=this.$_addRule("items");for(let y=0;y<v.length;++y){const C=u.tryWithPath(()=>this.$_compile(v[y]),y,{append:!0});p.validateSingle(C,_),_.$_mutateRegister(C),_.$_terms.ordered.push(C)}return _.$_mutateRebuild()}},single:{method(h){const v=h===void 0||!!h;return a(!v||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",v)}},sort:{method(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};u.assertOptions(h,["by","order"]);const v={order:h.order||"ascending"};return h.by&&(v.by=d.ref(h.by,{ancestor:0}),a(!v.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:v}})},validate(h,v,w){let{error:_,state:y,prefs:C,schema:I}=v,{options:D}=w;const{value:O,errors:E}=p.sort(I,h,D,y,C);if(E)return E;for(let b=0;b<h.length;++b)if(h[b]!==O[b])return _("array.sort",{order:D.order,by:D.by?D.by.key:"value"});return h},convert:!0},sparse:{method(h){const v=h===void 0||!!h;return this._flags.sparse===v?this:(v?this.clone():this.$_addRule("items")).$_setFlag("sparse",v,{clone:!1})}},unique:{method(h){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(!h||typeof h=="function"||typeof h=="string","comparator must be a function or a string"),u.assertOptions(v,["ignoreUndefined","separator"]);const w={name:"unique",args:{options:v,comparator:h}};if(h)if(typeof h=="string"){const _=u.default(v.separator,".");w.path=_?h.split(_):[h]}else w.comparator=h;return this.$_addRule(w)},validate(h,v,w,_){let{state:y,error:C,schema:I}=v,{comparator:D,options:O}=w,{comparator:E,path:b}=_;const x={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},A=E||m,N=O.ignoreUndefined;for(let j=0;j<h.length;++j){const B=b?f(h[j],b):h[j],$=E?x.custom:x[typeof B];if(a($,"Failed to find unique map container for type",typeof B),$ instanceof Map){const L=$.entries();let q;for(;!(q=L.next()).done;)if(A(q.value[0],B)){const W=y.localize([...y.path,j],[h,...y.ancestors]),z={pos:j,value:h[j],dupePos:q.value[1],dupeValue:h[q.value[1]]};return b&&(z.path=D),C("array.unique",z,W)}$.set(B,j)}else{if((!N||B!==void 0)&&$[B]!==void 0){const L={pos:j,value:h[j],dupePos:$[B],dupeValue:h[$[B]]};return b&&(L.path=D),C("array.unique",L,y.localize([...y.path,j],[h,...y.ancestors]))}$[B]=j}}return h},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(h,v)=>new Set(h)}},rebuild(h){h.$_terms._inclusions=[],h.$_terms._exclusions=[],h.$_terms._requireds=[];for(const v of h.$_terms.items)p.validateSingle(v,h),v._flags.presence==="required"?h.$_terms._requireds.push(v):v._flags.presence==="forbidden"?h.$_terms._exclusions.push(v):h.$_terms._inclusions.push(v);for(const v of h.$_terms.ordered)p.validateSingle(v,h)},manifest:{build:(h,v)=>(v.items&&(h=h.items(...v.items)),v.ordered&&(h=h.ordered(...v.ordered)),h)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),p.fillMissedErrors=function(h,v,w,_,y,C){const I=[];let D=0;for(const O of w){const E=O._flags.label;E?I.push(E):++D}I.length?D?v.push(h.$_createError("array.includesRequiredBoth",_,{knownMisses:I,unknownMisses:D},y,C)):v.push(h.$_createError("array.includesRequiredKnowns",_,{knownMisses:I},y,C)):v.push(h.$_createError("array.includesRequiredUnknowns",_,{unknownMisses:D},y,C))},p.fillOrderedErrors=function(h,v,w,_,y,C){const I=[];for(const D of w)D._flags.presence==="required"&&I.push(D);I.length&&p.fillMissedErrors(h,v,I,_,y,C)},p.fillDefault=function(h,v,w,_){const y=[];let C=!0;for(let I=h.length-1;I>=0;--I){const D=h[I],O=[v,...w.ancestors],E=D.$_validate(void 0,w.localize(w.path,O,D),_).value;if(C){if(E===void 0)continue;C=!1}y.unshift(E)}y.length&&v.push(...y)},p.fastSplice=function(h,v){let w=v;for(;w<h.length;)h[w++]=h[w];--h.length},p.validateSingle=function(h,v){(h.type==="array"||h._flags._arrayItems)&&(a(!v._flags.single,"Cannot specify array item with single rule enabled"),v.$_setFlag("_arrayItems",!0,{clone:!1}))},p.sort=function(h,v,w,_,y){const C=w.order==="ascending"?1:-1,I=-1*C,D=C,O=(E,b)=>{let x=p.compare(E,b,I,D);if(x!==null||(w.by&&(E=w.by.resolve(E,_,y),b=w.by.resolve(b,_,y)),x=p.compare(E,b,I,D),x!==null))return x;const A=typeof E;if(A!==typeof b)throw h.$_createError("array.sort.mismatching",v,null,_,y);if(A!=="number"&&A!=="string")throw h.$_createError("array.sort.unsupported",v,{type:A},_,y);return A==="number"?(E-b)*C:E<b?I:D};try{return{value:v.slice().sort(O)}}catch(E){return{errors:E}}},p.compare=function(h,v,w,_){return h===v?0:h===void 0?1:v===void 0?-1:h===null?_:v===null?w:null}},4937:(i,o,c)=>{const a=c(375),m=c(8068),f=c(8160),g=c(2036),u={isBool:function(d){return typeof d=="boolean"}};i.exports=m.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(d,p){let{schema:h}=p;if(typeof d!="boolean"){if(typeof d=="string"){const v=h._flags.sensitive?d:d.toLowerCase();d=v==="true"||v!=="false"&&d}return typeof d!="boolean"&&(d=h.$_terms.truthy&&h.$_terms.truthy.has(d,null,null,!h._flags.sensitive)||(!h.$_terms.falsy||!h.$_terms.falsy.has(d,null,null,!h._flags.sensitive))&&d),{value:d}}},validate(d,p){let{error:h}=p;if(typeof d!="boolean")return{value:d,errors:h("boolean.base")}},rules:{truthy:{method(){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];f.verifyFlat(p,"truthy");const v=this.clone();v.$_terms.truthy=v.$_terms.truthy||new g;for(let w=0;w<p.length;++w){const _=p[w];a(_!==void 0,"Cannot call truthy with undefined"),v.$_terms.truthy.add(_)}return v}},falsy:{method(){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];f.verifyFlat(p,"falsy");const v=this.clone();v.$_terms.falsy=v.$_terms.falsy||new g;for(let w=0;w<p.length;++w){const _=p[w];a(_!==void 0,"Cannot call falsy with undefined"),v.$_terms.falsy.add(_)}return v}},sensitive:{method(){let d=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("sensitive",d)}}},cast:{number:{from:u.isBool,to:(d,p)=>d?1:0},string:{from:u.isBool,to:(d,p)=>d?"true":"false"}},manifest:{build:(d,p)=>(p.truthy&&(d=d.truthy(...p.truthy)),p.falsy&&(d=d.falsy(...p.falsy)),d)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(i,o,c)=>{const a=c(375),m=c(8068),f=c(8160),g=c(3328),u={isDate:function(d){return d instanceof Date}};i.exports=m.extend({type:"date",coerce:{from:["number","string"],method(d,p){let{schema:h}=p;return{value:u.parse(d,h._flags.format)||d}}},validate(d,p){let{schema:h,error:v,prefs:w}=p;if(d instanceof Date&&!isNaN(d.getTime()))return;const _=h._flags.format;return w.convert&&_&&typeof d=="string"?{value:d,errors:v("date.format",{format:_})}:{value:d,errors:v("date.base")}},rules:{compare:{method:!1,validate(d,p,h,v){let{date:w}=h,{name:_,operator:y,args:C}=v;const I=w==="now"?Date.now():w.getTime();return f.compare(d.getTime(),I,y)?d:p.error("date."+_,{limit:C.date,value:d})},args:[{name:"date",ref:!0,normalize:d=>d==="now"?d:u.parse(d),assert:d=>d!==null,message:"must have a valid date format"}]},format:{method(d){return a(["iso","javascript","unix"].includes(d),"Unknown date format",d),this.$_setFlag("format",d)}},greater:{method(d){return this.$_addRule({name:"greater",method:"compare",args:{date:d},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(d){return this.$_addRule({name:"less",method:"compare",args:{date:d},operator:"<"})}},max:{method(d){return this.$_addRule({name:"max",method:"compare",args:{date:d},operator:"<="})}},min:{method(d){return this.$_addRule({name:"min",method:"compare",args:{date:d},operator:">="})}},timestamp:{method(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"javascript";return a(["javascript","unix"].includes(d),'"type" must be one of "javascript, unix"'),this.format(d)}}},cast:{number:{from:u.isDate,to:(d,p)=>d.getTime()},string:{from:u.isDate,to(d,p){let{prefs:h}=p;return g.date(d,h)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),u.parse=function(d,p){if(d instanceof Date)return d;if(typeof d!="string"&&(isNaN(d)||!isFinite(d))||/^\s*$/.test(d))return null;if(p==="iso")return f.isIsoDate(d)?u.date(d.toString()):null;const h=d;if(typeof d=="string"&&/^[+-]?\d+(\.\d+)?$/.test(d)&&(d=parseFloat(d)),p){if(p==="javascript")return u.date(1*d);if(p==="unix")return u.date(1e3*d);if(typeof h=="string")return null}return u.date(d)},u.date=function(d){const p=new Date(d);return isNaN(p.getTime())?null:p}},390:(i,o,c)=>{const a=c(375),m=c(7824);i.exports=m.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(f){return a(Number.isSafeInteger(f)&&f>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:f}})},validate(f,g,u){let{n:d}=u;return f.length===d?f:g.error("function.arity",{n:d})}},class:{method(){return this.$_addRule("class")},validate:(f,g)=>/^\s*class\s/.test(f.toString())?f:g.error("function.class",{value:f})},minArity:{method(f){return a(Number.isSafeInteger(f)&&f>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:f}})},validate(f,g,u){let{n:d}=u;return f.length>=d?f:g.error("function.minArity",{n:d})}},maxArity:{method(f){return a(Number.isSafeInteger(f)&&f>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:f}})},validate(f,g,u){let{n:d}=u;return f.length<=d?f:g.error("function.maxArity",{n:d})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(i,o,c)=>{const a=c(978),m=c(375),f=c(8571),g=c(3652),u=c(8068),d=c(8160),p=c(3292),h=c(6354),v=c(6133),w=c(3328),_={renameDefaults:{alias:!1,multiple:!1,override:!1}};i.exports=u.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(y,C)=>y.keys(C),validate(y,C){let{schema:I,error:D,state:O,prefs:E}=C;if(!y||typeof y!==I.$_property("typeof")||Array.isArray(y))return{value:y,errors:D("object.base",{type:I.$_property("typeof")})};if(!(I.$_terms.renames||I.$_terms.dependencies||I.$_terms.keys||I.$_terms.patterns||I.$_terms.externals))return;y=_.clone(y,E);const b=[];if(I.$_terms.renames&&!_.rename(I,y,O,E,b))return{value:y,errors:b};if(!I.$_terms.keys&&!I.$_terms.patterns&&!I.$_terms.dependencies)return{value:y,errors:b};const x=new Set(Object.keys(y));if(I.$_terms.keys){const A=[y,...O.ancestors];for(const N of I.$_terms.keys){const j=N.key,B=y[j];x.delete(j);const $=O.localize([...O.path,j],A,N),L=N.schema.$_validate(B,$,E);if(L.errors){if(E.abortEarly)return{value:y,errors:L.errors};L.value!==void 0&&(y[j]=L.value),b.push(...L.errors)}else N.schema._flags.result==="strip"||L.value===void 0&&B!==void 0?delete y[j]:L.value!==void 0&&(y[j]=L.value)}}if(x.size||I._flags._hasPatternMatch){const A=_.unknown(I,y,x,b,O,E);if(A)return A}if(I.$_terms.dependencies)for(const A of I.$_terms.dependencies){if(A.key!==null&&_.isPresent(A.options)(A.key.resolve(y,O,E,null,{shadow:!1}))===!1)continue;const N=_.dependencies[A.rel](I,A,y,O,E);if(N){const j=I.$_createError(N.code,y,N.context,O,E);if(E.abortEarly)return{value:y,errors:j};b.push(j)}}return{value:y,errors:b}},rules:{and:{method(){for(var y=arguments.length,C=new Array(y),I=0;I<y;I++)C[I]=arguments[I];return d.verifyFlat(C,"and"),_.dependency(this,"and",null,C)}},append:{method(y){return y==null||Object.keys(y).length===0?this:this.keys(y)}},assert:{method(y,C,I){w.isTemplate(y)||(y=p.ref(y)),m(I===void 0||typeof I=="string","Message must be a string"),C=this.$_compile(C,{appendPath:!0});const D=this.$_addRule({name:"assert",args:{subject:y,schema:C,message:I}});return D.$_mutateRegister(y),D.$_mutateRegister(C),D},validate(y,C,I){let{error:D,prefs:O,state:E}=C,{subject:b,schema:x,message:A}=I;const N=b.resolve(y,E,O),j=v.isRef(b)?b.absolute(E):[];return x.$_match(N,E.localize(j,[y,...E.ancestors],x),O)?y:D("object.assert",{subject:b,message:A})},args:["subject","schema","message"],multi:!0},instance:{method(y,C){return m(typeof y=="function","constructor must be a function"),C=C||y.name,this.$_addRule({name:"instance",args:{constructor:y,name:C}})},validate(y,C,I){let{constructor:D,name:O}=I;return y instanceof D?y:C.error("object.instance",{type:O,value:y})},args:["constructor","name"]},keys:{method(y){m(y===void 0||typeof y=="object","Object schema must be a valid object"),m(!d.isSchema(y),"Object schema cannot be a joi schema");const C=this.clone();if(y)if(Object.keys(y).length){C.$_terms.keys=C.$_terms.keys?C.$_terms.keys.filter(I=>!y.hasOwnProperty(I.key)):new _.Keys;for(const I in y)d.tryWithPath(()=>C.$_terms.keys.push({key:I,schema:this.$_compile(y[I])}),I)}else C.$_terms.keys=new _.Keys;else C.$_terms.keys=null;return C.$_mutateRebuild()}},length:{method(y){return this.$_addRule({name:"length",args:{limit:y},operator:"="})},validate(y,C,I,D){let{limit:O}=I,{name:E,operator:b,args:x}=D;return d.compare(Object.keys(y).length,O,b)?y:C.error("object."+E,{limit:x.limit,value:y})},args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"}]},max:{method(y){return this.$_addRule({name:"max",method:"length",args:{limit:y},operator:"<="})}},min:{method(y){return this.$_addRule({name:"min",method:"length",args:{limit:y},operator:">="})}},nand:{method(){for(var y=arguments.length,C=new Array(y),I=0;I<y;I++)C[I]=arguments[I];return d.verifyFlat(C,"nand"),_.dependency(this,"nand",null,C)}},or:{method(){for(var y=arguments.length,C=new Array(y),I=0;I<y;I++)C[I]=arguments[I];return d.verifyFlat(C,"or"),_.dependency(this,"or",null,C)}},oxor:{method(){for(var y=arguments.length,C=new Array(y),I=0;I<y;I++)C[I]=arguments[I];return _.dependency(this,"oxor",null,C)}},pattern:{method(y,C){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const D=y instanceof RegExp;D||(y=this.$_compile(y,{appendPath:!0})),m(C!==void 0,"Invalid rule"),d.assertOptions(I,["fallthrough","matches"]),D&&m(!y.flags.includes("g")&&!y.flags.includes("y"),"pattern should not use global or sticky mode"),C=this.$_compile(C,{appendPath:!0});const O=this.clone();O.$_terms.patterns=O.$_terms.patterns||[];const E={[D?"regex":"schema"]:y,rule:C};return I.matches&&(E.matches=this.$_compile(I.matches),E.matches.type!=="array"&&(E.matches=E.matches.$_root.array().items(E.matches)),O.$_mutateRegister(E.matches),O.$_setFlag("_hasPatternMatch",!0,{clone:!1})),I.fallthrough&&(E.fallthrough=!0),O.$_terms.patterns.push(E),O.$_mutateRegister(C),O}},ref:{method(){return this.$_addRule("ref")},validate:(y,C)=>v.isRef(y)?y:C.error("object.refType",{value:y})},regex:{method(){return this.$_addRule("regex")},validate:(y,C)=>y instanceof RegExp?y:C.error("object.regex",{value:y})},rename:{method(y,C){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};m(typeof y=="string"||y instanceof RegExp,"Rename missing the from argument"),m(typeof C=="string"||C instanceof w,"Invalid rename to argument"),m(C!==y,"Cannot rename key to same name:",y),d.assertOptions(I,["alias","ignoreUndefined","override","multiple"]);const D=this.clone();D.$_terms.renames=D.$_terms.renames||[];for(const O of D.$_terms.renames)m(O.from!==y,"Cannot rename the same key multiple times");return C instanceof w&&D.$_mutateRegister(C),D.$_terms.renames.push({from:y,to:C,options:a(_.renameDefaults,I)}),D}},schema:{method(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"any";return this.$_addRule({name:"schema",args:{type:y}})},validate(y,C,I){let{type:D}=I;return!d.isSchema(y)||D!=="any"&&y.type!==D?C.error("object.schema",{type:D}):y}},unknown:{method(y){return this.$_setFlag("unknown",y!==!1)}},with:{method(y,C){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _.dependency(this,"with",y,C,I)}},without:{method(y,C){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _.dependency(this,"without",y,C,I)}},xor:{method(){for(var y=arguments.length,C=new Array(y),I=0;I<y;I++)C[I]=arguments[I];return d.verifyFlat(C,"xor"),_.dependency(this,"xor",null,C)}}},overrides:{default(y,C){return y===void 0&&(y=d.symbols.deepDefault),this.$_parent("default",y,C)}},rebuild(y){if(y.$_terms.keys){const C=new g.Sorter;for(const I of y.$_terms.keys)d.tryWithPath(()=>C.add(I,{after:I.schema.$_rootReferences(),group:I.key}),I.key);y.$_terms.keys=new _.Keys(...C.nodes)}},manifest:{build(y,C){if(C.keys&&(y=y.keys(C.keys)),C.dependencies)for(const{rel:I,key:D=null,peers:O,options:E}of C.dependencies)y=_.dependency(y,I,D,O,E);if(C.patterns)for(const{regex:I,schema:D,rule:O,fallthrough:E,matches:b}of C.patterns)y=y.pattern(I||D,O,{fallthrough:E,matches:b});if(C.renames)for(const{from:I,to:D,options:O}of C.renames)y=y.rename(I,D,O);return y}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),_.clone=function(y,C){if(typeof y=="object"){if(C.nonEnumerables)return f(y,{shallow:!0});const D=Object.create(Object.getPrototypeOf(y));return Object.assign(D,y),D}const I=function(){for(var D=arguments.length,O=new Array(D),E=0;E<D;E++)O[E]=arguments[E];return y.apply(this,O)};return I.prototype=f(y.prototype),Object.defineProperty(I,"name",{value:y.name,writable:!1}),Object.defineProperty(I,"length",{value:y.length,writable:!1}),Object.assign(I,y),I},_.dependency=function(y,C,I,D,O){m(I===null||typeof I=="string",C,"key must be a strings"),O||(O=D.length>1&&typeof D[D.length-1]=="object"?D.pop():{}),d.assertOptions(O,["separator","isPresent"]),D=[].concat(D);const E=d.default(O.separator,"."),b=[];for(const A of D)m(typeof A=="string",C,"peers must be strings"),b.push(p.ref(A,{separator:E,ancestor:0,prefix:!1}));I!==null&&(I=p.ref(I,{separator:E,ancestor:0,prefix:!1}));const x=y.clone();return x.$_terms.dependencies=x.$_terms.dependencies||[],x.$_terms.dependencies.push(new _.Dependency(C,I,b,D,O)),x},_.dependencies={and(y,C,I,D,O){const E=[],b=[],x=C.peers.length,A=_.isPresent(C.options);for(const N of C.peers)A(N.resolve(I,D,O,null,{shadow:!1}))===!1?E.push(N.key):b.push(N.key);if(E.length!==x&&b.length!==x)return{code:"object.and",context:{present:b,presentWithLabels:_.keysToLabels(y,b),missing:E,missingWithLabels:_.keysToLabels(y,E)}}},nand(y,C,I,D,O){const E=[],b=_.isPresent(C.options);for(const N of C.peers)b(N.resolve(I,D,O,null,{shadow:!1}))&&E.push(N.key);if(E.length!==C.peers.length)return;const x=C.paths[0],A=C.paths.slice(1);return{code:"object.nand",context:{main:x,mainWithLabel:_.keysToLabels(y,x),peers:A,peersWithLabels:_.keysToLabels(y,A)}}},or(y,C,I,D,O){const E=_.isPresent(C.options);for(const b of C.peers)if(E(b.resolve(I,D,O,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:C.paths,peersWithLabels:_.keysToLabels(y,C.paths)}}},oxor(y,C,I,D,O){const E=[],b=_.isPresent(C.options);for(const A of C.peers)b(A.resolve(I,D,O,null,{shadow:!1}))&&E.push(A.key);if(!E.length||E.length===1)return;const x={peers:C.paths,peersWithLabels:_.keysToLabels(y,C.paths)};return x.present=E,x.presentWithLabels=_.keysToLabels(y,E),{code:"object.oxor",context:x}},with(y,C,I,D,O){const E=_.isPresent(C.options);for(const b of C.peers)if(E(b.resolve(I,D,O,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:C.key.key,mainWithLabel:_.keysToLabels(y,C.key.key),peer:b.key,peerWithLabel:_.keysToLabels(y,b.key)}}},without(y,C,I,D,O){const E=_.isPresent(C.options);for(const b of C.peers)if(E(b.resolve(I,D,O,null,{shadow:!1})))return{code:"object.without",context:{main:C.key.key,mainWithLabel:_.keysToLabels(y,C.key.key),peer:b.key,peerWithLabel:_.keysToLabels(y,b.key)}}},xor(y,C,I,D,O){const E=[],b=_.isPresent(C.options);for(const A of C.peers)b(A.resolve(I,D,O,null,{shadow:!1}))&&E.push(A.key);if(E.length===1)return;const x={peers:C.paths,peersWithLabels:_.keysToLabels(y,C.paths)};return E.length===0?{code:"object.missing",context:x}:(x.present=E,x.presentWithLabels=_.keysToLabels(y,E),{code:"object.xor",context:x})}},_.keysToLabels=function(y,C){return Array.isArray(C)?C.map(I=>y.$_mapLabels(I)):y.$_mapLabels(C)},_.isPresent=function(y){return typeof y.isPresent=="function"?y.isPresent:C=>C!==void 0},_.rename=function(y,C,I,D,O){const E={};for(const b of y.$_terms.renames){const x=[],A=typeof b.from!="string";if(A)for(const N in C){if(C[N]===void 0&&b.options.ignoreUndefined||N===b.to)continue;const j=b.from.exec(N);j&&x.push({from:N,to:b.to,match:j})}else!Object.prototype.hasOwnProperty.call(C,b.from)||C[b.from]===void 0&&b.options.ignoreUndefined||x.push(b);for(const N of x){const j=N.from;let B=N.to;if(B instanceof w&&(B=B.render(C,I,D,N.match)),j!==B){if(!b.options.multiple&&E[B]&&(O.push(y.$_createError("object.rename.multiple",C,{from:j,to:B,pattern:A},I,D)),D.abortEarly)||Object.prototype.hasOwnProperty.call(C,B)&&!b.options.override&&!E[B]&&(O.push(y.$_createError("object.rename.override",C,{from:j,to:B,pattern:A},I,D)),D.abortEarly))return!1;C[j]===void 0?delete C[B]:C[B]=C[j],E[B]=!0,b.options.alias||delete C[j]}}}return!0},_.unknown=function(y,C,I,D,O,E){if(y.$_terms.patterns){let b=!1;const x=y.$_terms.patterns.map(N=>{if(N.matches)return b=!0,[]}),A=[C,...O.ancestors];for(const N of I){const j=C[N],B=[...O.path,N];for(let $=0;$<y.$_terms.patterns.length;++$){const L=y.$_terms.patterns[$];if(L.regex){const z=L.regex.test(N);if(O.mainstay.tracer.debug(O,"rule",`pattern.${$}`,z?"pass":"error"),!z)continue}else if(!L.schema.$_match(N,O.nest(L.schema,`pattern.${$}`),E))continue;I.delete(N);const q=O.localize(B,A,{schema:L.rule,key:N}),W=L.rule.$_validate(j,q,E);if(W.errors){if(E.abortEarly)return{value:C,errors:W.errors};D.push(...W.errors)}if(L.matches&&x[$].push(N),C[N]=W.value,!L.fallthrough)break}}if(b)for(let N=0;N<x.length;++N){const j=x[N];if(!j)continue;const B=y.$_terms.patterns[N].matches,$=O.localize(O.path,A,B),L=B.$_validate(j,$,E);if(L.errors){const q=h.details(L.errors,{override:!1});q.matches=j;const W=y.$_createError("object.pattern.match",C,q,O,E);if(E.abortEarly)return{value:C,errors:W};D.push(W)}}}if(I.size&&(y.$_terms.keys||y.$_terms.patterns)){if(E.stripUnknown&&!y._flags.unknown||E.skipFunctions){const b=!(!E.stripUnknown||E.stripUnknown!==!0&&!E.stripUnknown.objects);for(const x of I)b?(delete C[x],I.delete(x)):typeof C[x]=="function"&&I.delete(x)}if(!d.default(y._flags.unknown,E.allowUnknown))for(const b of I){const x=O.localize([...O.path,b],[]),A=y.$_createError("object.unknown",C[b],{child:b},x,E,{flags:!1});if(E.abortEarly)return{value:C,errors:A};D.push(A)}}},_.Dependency=class{constructor(y,C,I,D,O){this.rel=y,this.key=C,this.peers=I,this.paths=D,this.options=O}describe(){const y={rel:this.rel,peers:this.paths};return this.key!==null&&(y.key=this.key.key),this.peers[0].separator!=="."&&(y.options={...y.options,separator:this.peers[0].separator}),this.options.isPresent&&(y.options={...y.options,isPresent:this.options.isPresent}),y}},_.Keys=class extends Array{concat(y){const C=this.slice(),I=new Map;for(let D=0;D<C.length;++D)I.set(C[D].key,D);for(const D of y){const O=D.key,E=I.get(O);E!==void 0?C[E]={key:O,schema:C[E].schema.concat(D.schema)}:C.push(D)}return C}}},8785:(i,o,c)=>{const a=c(375),m=c(8068),f=c(8160),g=c(3292),u=c(6354),d={};i.exports=m.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(p,h)=>p.ref(h),validate(p,h){let{schema:v,state:w,prefs:_}=h;a(v.$_terms.link,"Uninitialized link schema");const y=d.generate(v,p,w,_),C=v.$_terms.link[0].ref;return y.$_validate(p,w.nest(y,`link:${C.display}:${y.type}`),_)},generate:(p,h,v,w)=>d.generate(p,h,v,w),rules:{ref:{method(p){a(!this.$_terms.link,"Cannot reinitialize schema"),p=g.ref(p),a(p.type==="value"||p.type==="local","Invalid reference type:",p.type),a(p.type==="local"||p.ancestor==="root"||p.ancestor>0,"Link cannot reference itself");const h=this.clone();return h.$_terms.link=[{ref:p}],h}},relative:{method(){let p=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("relative",p)}}},overrides:{concat(p){a(this.$_terms.link,"Uninitialized link schema"),a(f.isSchema(p),"Invalid schema object"),a(p.type!=="link","Cannot merge type link with another link");const h=this.clone();return h.$_terms.whens||(h.$_terms.whens=[]),h.$_terms.whens.push({concat:p}),h.$_mutateRebuild()}},manifest:{build:(p,h)=>(a(h.link,"Invalid link description missing link"),p.ref(h.link))}}),d.generate=function(p,h,v,w){let _=v.mainstay.links.get(p);if(_)return _._generate(h,v,w).schema;const y=p.$_terms.link[0].ref,{perspective:C,path:I}=d.perspective(y,v);d.assert(C,"which is outside of schema boundaries",y,p,v,w);try{_=I.length?C.$_reach(I):C}catch{d.assert(!1,"to non-existing schema",y,p,v,w)}return d.assert(_.type!=="link","which is another link",y,p,v,w),p._flags.relative||v.mainstay.links.set(p,_),_._generate(h,v,w).schema},d.perspective=function(p,h){if(p.type==="local"){for(const{schema:v,key:w}of h.schemas){if((v._flags.id||w)===p.path[0])return{perspective:v,path:p.path.slice(1)};if(v.$_terms.shared){for(const _ of v.$_terms.shared)if(_._flags.id===p.path[0])return{perspective:_,path:p.path.slice(1)}}}return{perspective:null,path:null}}return p.ancestor==="root"?{perspective:h.schemas[h.schemas.length-1].schema,path:p.path}:{perspective:h.schemas[p.ancestor]&&h.schemas[p.ancestor].schema,path:p.path}},d.assert=function(p,h,v,w,_,y){p||a(!1,`"${u.label(w._flags,_,y)}" contains link reference "${v.display}" ${h}`)}},3832:(i,o,c)=>{const a=c(375),m=c(8068),f=c(8160),g={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/};i.exports=m.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(u,d){let{schema:p,error:h}=d;if(!u.match(g.numberRx))return;u=u.trim();const v={value:parseFloat(u)};if(v.value===0&&(v.value=0),!p._flags.unsafe)if(u.match(/e/i)){if(g.extractSignificantDigits(u)!==g.extractSignificantDigits(String(v.value)))return v.errors=h("number.unsafe"),v}else{const w=v.value.toString();if(w.match(/e/i))return v;if(w!==g.normalizeDecimal(u))return v.errors=h("number.unsafe"),v}return v}},validate(u,d){let{schema:p,error:h,prefs:v}=d;if(u===1/0||u===-1/0)return{value:u,errors:h("number.infinity")};if(!f.isNumber(u))return{value:u,errors:h("number.base")};const w={value:u};if(v.convert){const _=p.$_getRule("precision");if(_){const y=Math.pow(10,_.args.limit);w.value=Math.round(w.value*y)/y}}return w.value===0&&(w.value=0),!p._flags.unsafe&&(u>Number.MAX_SAFE_INTEGER||u<Number.MIN_SAFE_INTEGER)&&(w.errors=h("number.unsafe")),w},rules:{compare:{method:!1,validate(u,d,p,h){let{limit:v}=p,{name:w,operator:_,args:y}=h;return f.compare(u,v,_)?u:d.error("number."+w,{limit:y.limit,value:u})},args:[{name:"limit",ref:!0,assert:f.isNumber,message:"must be a number"}]},greater:{method(u){return this.$_addRule({name:"greater",method:"compare",args:{limit:u},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(u,d)=>Math.trunc(u)-u==0?u:d.error("number.integer")},less:{method(u){return this.$_addRule({name:"less",method:"compare",args:{limit:u},operator:"<"})}},max:{method(u){return this.$_addRule({name:"max",method:"compare",args:{limit:u},operator:"<="})}},min:{method(u){return this.$_addRule({name:"min",method:"compare",args:{limit:u},operator:">="})}},multiple:{method(u){return this.$_addRule({name:"multiple",args:{base:u}})},validate(u,d,p,h){let{base:v}=p;return u*(1/v)%1==0?u:d.error("number.multiple",{multiple:h.args.base,value:u})},args:[{name:"base",ref:!0,assert:u=>typeof u=="number"&&isFinite(u)&&u>0,message:"must be a positive number"}],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(u,d)=>Number.isSafeInteger(u)&&u>=0&&u<=65535?u:d.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(u){return a(Number.isSafeInteger(u),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:u}})},validate(u,d,p){let{limit:h}=p;const v=u.toString().match(g.precisionRx);return Math.max((v[1]?v[1].length:0)-(v[2]?parseInt(v[2],10):0),0)<=h?u:d.error("number.precision",{limit:h,value:u})},convert:!0},sign:{method(u){return a(["negative","positive"].includes(u),"Invalid sign",u),this.$_addRule({name:"sign",args:{sign:u}})},validate(u,d,p){let{sign:h}=p;return h==="negative"&&u<0||h==="positive"&&u>0?u:d.error(`number.${h}`)}},unsafe:{method(){let u=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return a(typeof u=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",u)}}},cast:{string:{from:u=>typeof u=="number",to:(u,d)=>u.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),g.extractSignificantDigits=function(u){return u.replace(g.exponentialPartRegex,"").replace(g.dotRegex,"").replace(g.trailingZerosRegex,"").replace(g.leadingSignAndZerosRegex,"")},g.normalizeDecimal=function(u){return(u=u.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&u.endsWith("0")&&(u=u.replace(/0+$/,"")),u==="-0"?"0":u}},8966:(i,o,c)=>{const a=c(7824);i.exports=a.extend({type:"object",cast:{map:{from:m=>m&&typeof m=="object",to:(m,f)=>new Map(Object.entries(m))}}})},7417:(i,o,c)=>{const a=c(375),m=c(5380),f=c(1745),g=c(9959),u=c(6064),d=c(9926),p=c(5752),h=c(8068),v=c(8160),w={tlds:d instanceof Set&&{tlds:{allow:d,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:g.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};i.exports=h.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(_,y){let{schema:C,state:I,prefs:D}=y;const O=C.$_getRule("normalize");O&&(_=_.normalize(O.args.form));const E=C.$_getRule("case");E&&(_=E.args.direction==="upper"?_.toLocaleUpperCase():_.toLocaleLowerCase());const b=C.$_getRule("trim");if(b&&b.args.enabled&&(_=_.trim()),C.$_terms.replacements)for(const A of C.$_terms.replacements)_=_.replace(A.pattern,A.replacement);const x=C.$_getRule("hex");if(x&&x.args.options.byteAligned&&_.length%2!=0&&(_=`0${_}`),C.$_getRule("isoDate")){const A=w.isoDate(_);A&&(_=A)}if(C._flags.truncate){const A=C.$_getRule("max");if(A){let N=A.args.limit;if(v.isResolvable(N)&&(N=N.resolve(_,I,D),!v.limit(N)))return{value:_,errors:C.$_createError("any.ref",N,{ref:A.args.limit,arg:"limit",reason:"must be a positive integer"},I,D)};_=_.slice(0,N)}}return{value:_}}},validate(_,y){let{schema:C,error:I}=y;if(typeof _!="string")return{value:_,errors:I("string.base")};if(_===""){const D=C.$_getRule("min");return D&&D.args.limit===0?void 0:{value:_,errors:I("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(_,y)=>/^[a-zA-Z0-9]+$/.test(_)?_:y.error("string.alphanum")},base64:{method(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return v.assertOptions(_,["paddingRequired","urlSafe"]),_={urlSafe:!1,paddingRequired:!0,..._},a(typeof _.paddingRequired=="boolean","paddingRequired must be boolean"),a(typeof _.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:_}})},validate(_,y,C){let{options:I}=C;return w.base64Regex[I.paddingRequired][I.urlSafe].test(_)?_:y.error("string.base64")}},case:{method(_){return a(["lower","upper"].includes(_),"Invalid case:",_),this.$_addRule({name:"case",args:{direction:_}})},validate(_,y,C){let{direction:I}=C;return I==="lower"&&_===_.toLocaleLowerCase()||I==="upper"&&_===_.toLocaleUpperCase()?_:y.error(`string.${I}case`)},convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(_,y){let C=_.length,I=0,D=1;for(;C--;){const O=_.charAt(C)*D;I+=O-9*(O>9),D^=3}return I>0&&I%10==0?_:y.error("string.creditCard")}},dataUri:{method(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return v.assertOptions(_,["paddingRequired"]),_={paddingRequired:!0,..._},a(typeof _.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:_}})},validate(_,y,C){let{options:I}=C;const D=_.match(w.dataUriRegex);return D&&(!D[2]||D[2]!=="base64"||w.base64Regex[I.paddingRequired].false.test(D[3]))?_:y.error("string.dataUri")}},domain:{method(_){_&&v.assertOptions(_,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const y=w.addressOptions(_);return this.$_addRule({name:"domain",args:{options:_},address:y})},validate(_,y,C,I){let{address:D}=I;return m.isValid(_,D)?_:y.error("string.domain")}},email:{method(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v.assertOptions(_,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),a(_.multiple===void 0||typeof _.multiple=="boolean","multiple option must be an boolean");const y=w.addressOptions(_),C=new RegExp(`\\s*[${_.separator?u(_.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:_},regex:C,address:y})},validate(_,y,C,I){let{options:D}=C,{regex:O,address:E}=I;const b=D.multiple?_.split(O):[_],x=[];for(const A of b)f.isValid(A,E)||x.push(A);return x.length?y.error("string.email",{value:_,invalids:x}):_}},guid:{alias:"uuid",method(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v.assertOptions(_,["version","separator"]);let y="";if(_.version){const D=[].concat(_.version);a(D.length>=1,"version must have at least 1 valid version specified");const O=new Set;for(let E=0;E<D.length;++E){const b=D[E];a(typeof b=="string","version at position "+E+" must be a string");const x=w.guidVersions[b.toLowerCase()];a(x,"version at position "+E+" must be one of "+Object.keys(w.guidVersions).join(", ")),a(!O.has(x),"version at position "+E+" must not be a duplicate"),y+=x,O.add(x)}}a(w.guidSeparators.has(_.separator),'separator must be one of true, false, "-", or ":"');const C=_.separator===void 0?"[:-]?":_.separator===!0?"[:-]":_.separator===!1?"[]?":`\\${_.separator}`,I=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${C})[0-9A-F]{4}\\2?[${y||"0-9A-F"}][0-9A-F]{3}\\2?[${y?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:_},regex:I})},validate(_,y,C,I){let{regex:D}=I;const O=D.exec(_);return O?w.guidBrackets[O[1]]!==O[O.length-1]?y.error("string.guid"):_:y.error("string.guid")}},hex:{method(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return v.assertOptions(_,["byteAligned"]),_={byteAligned:!1,..._},a(typeof _.byteAligned=="boolean","byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:_}})},validate(_,y,C){let{options:I}=C;return w.hexRegex.test(_)?I.byteAligned&&_.length%2!=0?y.error("string.hexAlign"):_:y.error("string.hex")}},hostname:{method(){return this.$_addRule("hostname")},validate:(_,y)=>m.isValid(_,{minDomainSegments:1})||w.ipRegex.test(_)?_:y.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v.assertOptions(_,["cidr","version"]);const{cidr:y,versions:C,regex:I}=g.regex(_),D=_.version?C:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:y,version:D}},regex:I})},validate(_,y,C,I){let{options:D}=C,{regex:O}=I;return O.test(_)?_:D.version?y.error("string.ipVersion",{value:_,cidr:D.cidr,version:D.version}):y.error("string.ip",{value:_,cidr:D.cidr})}},isoDate:{method(){return this.$_addRule("isoDate")},validate(_,y){let{error:C}=y;return w.isoDate(_)?_:C("string.isoDate")}},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(_,y)=>w.isoDurationRegex.test(_)?_:y.error("string.isoDuration")},length:{method(_,y){return w.length(this,"length",_,"=",y)},validate(_,y,C,I){let{limit:D,encoding:O}=C,{name:E,operator:b,args:x}=I;const A=!O&&_.length;return v.compare(A,D,b)?_:y.error("string."+E,{limit:x.limit,value:_,encoding:O})},args:[{name:"limit",ref:!0,assert:v.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(_,y){return w.length(this,"max",_,"<=",y)},args:["limit","encoding"]},min:{method(_,y){return w.length(this,"min",_,">=",y)},args:["limit","encoding"]},normalize:{method(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"NFC";return a(w.normalizationForms.includes(_),"normalization form must be one of "+w.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:_}})},validate(_,y,C){let{error:I}=y,{form:D}=C;return _===_.normalize(D)?_:I("string.normalize",{value:_,form:D})},convert:!0},pattern:{alias:"regex",method(_){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(_ instanceof RegExp,"regex must be a RegExp"),a(!_.flags.includes("g")&&!_.flags.includes("y"),"regex should not use global or sticky mode"),typeof y=="string"&&(y={name:y}),v.assertOptions(y,["invert","name"]);const C=["string.pattern",y.invert?".invert":"",y.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:_,options:y},errorCode:C})},validate(_,y,C,I){let{regex:D,options:O}=C,{errorCode:E}=I;return D.test(_)^O.invert?_:y.error(E,{name:O.name,regex:D,value:_})},args:["regex","options"],multi:!0},replace:{method(_,y){typeof _=="string"&&(_=new RegExp(u(_),"g")),a(_ instanceof RegExp,"pattern must be a RegExp"),a(typeof y=="string","replacement must be a String");const C=this.clone();return C.$_terms.replacements||(C.$_terms.replacements=[]),C.$_terms.replacements.push({pattern:_,replacement:y}),C}},token:{method(){return this.$_addRule("token")},validate:(_,y)=>/^\w+$/.test(_)?_:y.error("string.token")},trim:{method(){let _=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return a(typeof _=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:_}})},validate(_,y,C){let{enabled:I}=C;return I&&_!==_.trim()?y.error("string.trim"):_},convert:!0},truncate:{method(){let _=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return a(typeof _=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",_)}},uppercase:{method(){return this.case("upper")}},uri:{method(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v.assertOptions(_,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),_.domain&&v.assertOptions(_.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:y,scheme:C}=p.regex(_),I=_.domain?w.addressOptions(_.domain):null;return this.$_addRule({name:"uri",args:{options:_},regex:y,domain:I,scheme:C})},validate(_,y,C,I){let{options:D}=C,{regex:O,domain:E,scheme:b}=I;if(["http:/","https:/"].includes(_))return y.error("string.uri");const x=O.exec(_);if(x){const A=x[1]||x[2];return!E||D.allowRelative&&!A||m.isValid(A,E)?_:y.error("string.domain",{value:A})}return D.relativeOnly?y.error("string.uriRelativeOnly"):D.scheme?y.error("string.uriCustomScheme",{scheme:b,value:_}):y.error("string.uri")}}},manifest:{build(_,y){if(y.replacements)for(const{pattern:C,replacement:I}of y.replacements)_=_.replace(C,I);return _}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),w.addressOptions=function(_){if(!_||(a(_.minDomainSegments===void 0||Number.isSafeInteger(_.minDomainSegments)&&_.minDomainSegments>0,"minDomainSegments must be a positive integer"),a(_.maxDomainSegments===void 0||Number.isSafeInteger(_.maxDomainSegments)&&_.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),_.tlds===!1))return _;if(_.tlds===!0||_.tlds===void 0)return a(w.tlds,"Built-in TLD list disabled"),Object.assign({},_,w.tlds);a(typeof _.tlds=="object","tlds must be true, false, or an object");const y=_.tlds.deny;if(y)return Array.isArray(y)&&(_=Object.assign({},_,{tlds:{deny:new Set(y)}})),a(_.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),a(!_.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),w.validateTlds(_.tlds.deny,"tlds.deny"),_;const C=_.tlds.allow;return C?C===!0?(a(w.tlds,"Built-in TLD list disabled"),Object.assign({},_,w.tlds)):(Array.isArray(C)&&(_=Object.assign({},_,{tlds:{allow:new Set(C)}})),a(_.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),w.validateTlds(_.tlds.allow,"tlds.allow"),_):_},w.validateTlds=function(_,y){for(const C of _)a(m.isValid(C,{minDomainSegments:1,maxDomainSegments:1}),`${y} must contain valid top level domain names`)},w.isoDate=function(_){if(!v.isIsoDate(_))return null;/.*T.*[+-]\d\d$/.test(_)&&(_+="00");const y=new Date(_);return isNaN(y.getTime())?null:y.toISOString()},w.length=function(_,y,C,I,D){return a(!D||!1,"Invalid encoding:",D),_.$_addRule({name:y,method:"length",args:{limit:C,encoding:D},operator:I})}},8826:(i,o,c)=>{const a=c(375),m=c(8068),f={};f.Map=class extends Map{slice(){return new f.Map(this)}},i.exports=m.extend({type:"symbol",terms:{map:{init:new f.Map}},coerce:{method(g,u){let{schema:d,error:p}=u;const h=d.$_terms.map.get(g);return h&&(g=h),d._flags.only&&typeof g!="symbol"?{value:g,errors:p("symbol.map",{map:d.$_terms.map})}:{value:g}}},validate(g,u){let{error:d}=u;if(typeof g!="symbol")return{value:g,errors:d("symbol.base")}},rules:{map:{method(g){g&&!g[Symbol.iterator]&&typeof g=="object"&&(g=Object.entries(g)),a(g&&g[Symbol.iterator],"Iterable must be an iterable or object");const u=this.clone(),d=[];for(const p of g){a(p&&p[Symbol.iterator],"Entry must be an iterable");const[h,v]=p;a(typeof h!="object"&&typeof h!="function"&&typeof h!="symbol","Key must not be of type object, function, or Symbol"),a(typeof v=="symbol","Value must be a Symbol"),u.$_terms.map.set(h,v),d.push(v)}return u.valid(...d)}}},manifest:{build:(g,u)=>(u.map&&(g=g.map(u.map)),g)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(i,o,c)=>{const a=c(375),m=c(8571),f=c(738),g=c(9621),u=c(8160),d=c(6354),p=c(493),h={result:Symbol("result")};o.entry=function(v,w,_){let y=u.defaults;_&&(a(_.warnings===void 0,"Cannot override warnings preference in synchronous validation"),a(_.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),y=u.preferences(u.defaults,_));const C=h.entry(v,w,y);a(!C.mainstay.externals.length,"Schema with external rules must use validateAsync()");const I={value:C.value};return C.error&&(I.error=C.error),C.mainstay.warnings.length&&(I.warning=d.details(C.mainstay.warnings)),C.mainstay.debug&&(I.debug=C.mainstay.debug),C.mainstay.artifacts&&(I.artifacts=C.mainstay.artifacts),I},o.entryAsync=async function(v,w,_){let y=u.defaults;_&&(y=u.preferences(u.defaults,_));const C=h.entry(v,w,y),I=C.mainstay;if(C.error)throw I.debug&&(C.error.debug=I.debug),C.error;if(I.externals.length){let O=C.value;const E=[];for(const b of I.externals){const x=b.state.path,A=b.schema.type==="link"?I.links.get(b.schema):null;let N,j,B=O;const $=x.length?[O]:[],L=x.length?g(v,x):v;if(x.length){N=x[x.length-1];let q=O;for(const W of x.slice(0,-1))q=q[W],$.unshift(q);j=$[0],B=j[N]}try{const q=(z,K)=>(A||b.schema).$_createError(z,B,K,b.state,y),W=await b.method(B,{schema:b.schema,linked:A,state:b.state,prefs:_,original:L,error:q,errorsArray:h.errorsArray,warn:(z,K)=>I.warnings.push((A||b.schema).$_createError(z,B,K,b.state,y)),message:(z,K)=>(A||b.schema).$_createError("external",B,K,b.state,y,{messages:z})});if(W===void 0||W===B)continue;if(W instanceof d.Report){if(I.tracer.log(b.schema,b.state,"rule","external","error"),E.push(W),y.abortEarly)break;continue}if(Array.isArray(W)&&W[u.symbols.errors]){if(I.tracer.log(b.schema,b.state,"rule","external","error"),E.push(...W),y.abortEarly)break;continue}j?(I.tracer.value(b.state,"rule",B,W,"external"),j[N]=W):(I.tracer.value(b.state,"rule",O,W,"external"),O=W)}catch(q){throw y.errors.label&&(q.message+=` (${b.label})`),q}}if(C.value=O,E.length)throw C.error=d.process(E,v,y),I.debug&&(C.error.debug=I.debug),C.error}if(!y.warnings&&!y.debug&&!y.artifacts)return C.value;const D={value:C.value};return I.warnings.length&&(D.warning=d.details(I.warnings)),I.debug&&(D.debug=I.debug),I.artifacts&&(D.artifacts=I.artifacts),D},h.Mainstay=class{constructor(v,w,_){this.externals=[],this.warnings=[],this.tracer=v,this.debug=w,this.links=_,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const v=this._snapshots.pop();this.externals=v.externals,this.warnings=v.warnings}},h.entry=function(v,w,_){const{tracer:y,cleanup:C}=h.tracer(w,_),I=_.debug?[]:null,D=w._ids._schemaChain?new Map:null,O=new h.Mainstay(y,I,D),E=w._ids._schemaChain?[{schema:w}]:null,b=new p([],[],{mainstay:O,schemas:E}),x=o.validate(v,w,b,_);C&&w.$_root.untrace();const A=d.process(x.errors,v,_);return{value:x.value,error:A,mainstay:O}},h.tracer=function(v,w){return v.$_root._tracer?{tracer:v.$_root._tracer._register(v)}:w.debug?(a(v.$_root.trace,"Debug mode not supported"),{tracer:v.$_root.trace()._register(v),cleanup:!0}):{tracer:h.ignore}},o.validate=function(v,w,_,y){let C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(w.$_terms.whens&&(w=w._generate(v,_,y).schema),w._preferences&&(y=h.prefs(w,y)),w._cache&&y.cache){const A=w._cache.get(v);if(_.mainstay.tracer.debug(_,"validate","cached",!!A),A)return A}const I=(A,N,j)=>w.$_createError(A,v,N,j||_,y),D={original:v,prefs:y,schema:w,state:_,error:I,errorsArray:h.errorsArray,warn:(A,N,j)=>_.mainstay.warnings.push(I(A,N,j)),message:(A,N)=>w.$_createError("custom",v,N,_,y,{messages:A})};_.mainstay.tracer.entry(w,_);const O=w._definition;if(O.prepare&&v!==void 0&&y.convert){const A=O.prepare(v,D);if(A){if(_.mainstay.tracer.value(_,"prepare",v,A.value),A.errors)return h.finalize(A.value,[].concat(A.errors),D);v=A.value}}if(O.coerce&&v!==void 0&&y.convert&&(!O.coerce.from||O.coerce.from.includes(typeof v))){const A=O.coerce.method(v,D);if(A){if(_.mainstay.tracer.value(_,"coerced",v,A.value),A.errors)return h.finalize(A.value,[].concat(A.errors),D);v=A.value}}const E=w._flags.empty;E&&E.$_match(h.trim(v,w),_.nest(E),u.defaults)&&(_.mainstay.tracer.value(_,"empty",v,void 0),v=void 0);const b=C.presence||w._flags.presence||(w._flags._endedSwitch?null:y.presence);if(v===void 0){if(b==="forbidden")return h.finalize(v,null,D);if(b==="required")return h.finalize(v,[w.$_createError("any.required",v,null,_,y)],D);if(b==="optional"){if(w._flags.default!==u.symbols.deepDefault)return h.finalize(v,null,D);_.mainstay.tracer.value(_,"default",v,{}),v={}}}else if(b==="forbidden")return h.finalize(v,[w.$_createError("any.unknown",v,null,_,y)],D);const x=[];if(w._valids){const A=w._valids.get(v,_,y,w._flags.insensitive);if(A)return y.convert&&(_.mainstay.tracer.value(_,"valids",v,A.value),v=A.value),_.mainstay.tracer.filter(w,_,"valid",A),h.finalize(v,null,D);if(w._flags.only){const N=w.$_createError("any.only",v,{valids:w._valids.values({display:!0})},_,y);if(y.abortEarly)return h.finalize(v,[N],D);x.push(N)}}if(w._invalids){const A=w._invalids.get(v,_,y,w._flags.insensitive);if(A){_.mainstay.tracer.filter(w,_,"invalid",A);const N=w.$_createError("any.invalid",v,{invalids:w._invalids.values({display:!0})},_,y);if(y.abortEarly)return h.finalize(v,[N],D);x.push(N)}}if(O.validate){const A=O.validate(v,D);if(A&&(_.mainstay.tracer.value(_,"base",v,A.value),v=A.value,A.errors)){if(!Array.isArray(A.errors))return x.push(A.errors),h.finalize(v,x,D);if(A.errors.length)return x.push(...A.errors),h.finalize(v,x,D)}}return w._rules.length?h.rules(v,x,D):h.finalize(v,x,D)},h.rules=function(v,w,_){const{schema:y,state:C,prefs:I}=_;for(const D of y._rules){const O=y._definition.rules[D.method];if(O.convert&&I.convert){C.mainstay.tracer.log(y,C,"rule",D.name,"full");continue}let E,b=D.args;if(D._resolve.length){b=Object.assign({},b);for(const A of D._resolve){const N=O.argsByName.get(A),j=b[A].resolve(v,C,I),B=N.normalize?N.normalize(j):j,$=u.validateArg(B,null,N);if($){E=y.$_createError("any.ref",j,{arg:A,ref:b[A],reason:$},C,I);break}b[A]=B}}E=E||O.validate(v,_,b,D);const x=h.rule(E,D);if(x.errors){if(C.mainstay.tracer.log(y,C,"rule",D.name,"error"),D.warn){C.mainstay.warnings.push(...x.errors);continue}if(I.abortEarly)return h.finalize(v,x.errors,_);w.push(...x.errors)}else C.mainstay.tracer.log(y,C,"rule",D.name,"pass"),C.mainstay.tracer.value(C,"rule",v,x.value,D.name),v=x.value}return h.finalize(v,w,_)},h.rule=function(v,w){return v instanceof d.Report?(h.error(v,w),{errors:[v],value:null}):Array.isArray(v)&&v[u.symbols.errors]?(v.forEach(_=>h.error(_,w)),{errors:v,value:null}):{errors:null,value:v}},h.error=function(v,w){return w.message&&v._setTemplate(w.message),v},h.finalize=function(v,w,_){w=w||[];const{schema:y,state:C,prefs:I}=_;if(w.length){const O=h.default("failover",void 0,w,_);O!==void 0&&(C.mainstay.tracer.value(C,"failover",v,O),v=O,w=[])}if(w.length&&y._flags.error)if(typeof y._flags.error=="function"){w=y._flags.error(w),Array.isArray(w)||(w=[w]);for(const O of w)a(O instanceof Error||O instanceof d.Report,"error() must return an Error object")}else w=[y._flags.error];if(v===void 0){const O=h.default("default",v,w,_);C.mainstay.tracer.value(C,"default",v,O),v=O}if(y._flags.cast&&v!==void 0){const O=y._definition.cast[y._flags.cast];if(O.from(v)){const E=O.to(v,_);C.mainstay.tracer.value(C,"cast",v,E,y._flags.cast),v=E}}if(y.$_terms.externals&&I.externals&&I._externals!==!1)for(const{method:O}of y.$_terms.externals)C.mainstay.externals.push({method:O,schema:y,state:C,label:d.label(y._flags,C,I)});const D={value:v,errors:w.length?w:null};return y._flags.result&&(D.value=y._flags.result==="strip"?void 0:_.original,C.mainstay.tracer.value(C,y._flags.result,v,D.value),C.shadow(v,y._flags.result)),y._cache&&I.cache!==!1&&!y._refs.length&&y._cache.set(_.original,D),v===void 0||D.errors||y._flags.artifact===void 0||(C.mainstay.artifacts=C.mainstay.artifacts||new Map,C.mainstay.artifacts.has(y._flags.artifact)||C.mainstay.artifacts.set(y._flags.artifact,[]),C.mainstay.artifacts.get(y._flags.artifact).push(C.path)),D},h.prefs=function(v,w){const _=w===u.defaults;return _&&v._preferences[u.symbols.prefs]?v._preferences[u.symbols.prefs]:(w=u.preferences(w,v._preferences),_&&(v._preferences[u.symbols.prefs]=w),w)},h.default=function(v,w,_,y){const{schema:C,state:I,prefs:D}=y,O=C._flags[v];if(D.noDefaults||O===void 0)return w;if(I.mainstay.tracer.log(C,I,"rule",v,"full"),!O)return O;if(typeof O=="function"){const E=O.length?[m(I.ancestors[0]),y]:[];try{return O(...E)}catch(b){return void _.push(C.$_createError(`any.${v}`,null,{error:b},I,D))}}return typeof O!="object"?O:O[u.symbols.literal]?O.literal:u.isResolvable(O)?O.resolve(w,I,D):m(O)},h.trim=function(v,w){if(typeof v!="string")return v;const _=w.$_getRule("trim");return _&&_.args.enabled?v.trim():v},h.ignore={active:!1,debug:f,entry:f,filter:f,log:f,resolve:f,value:f},h.errorsArray=function(){const v=[];return v[u.symbols.errors]=!0,v}},2036:(i,o,c)=>{const a=c(375),m=c(9474),f=c(8160),g={};i.exports=g.Values=class{constructor(u,d){this._values=new Set(u),this._refs=new Set(d),this._lowercase=g.lowercases(u),this._override=!1}get length(){return this._values.size+this._refs.size}add(u,d){f.isResolvable(u)?this._refs.has(u)||(this._refs.add(u),d&&d.register(u)):this.has(u,null,null,!1)||(this._values.add(u),typeof u=="string"&&this._lowercase.set(u.toLowerCase(),u))}static merge(u,d,p){if(u=u||new g.Values,d){if(d._override)return d.clone();for(const h of[...d._values,...d._refs])u.add(h)}if(p)for(const h of[...p._values,...p._refs])u.remove(h);return u.length?u:null}remove(u){f.isResolvable(u)?this._refs.delete(u):(this._values.delete(u),typeof u=="string"&&this._lowercase.delete(u.toLowerCase()))}has(u,d,p,h){return!!this.get(u,d,p,h)}get(u,d,p,h){if(!this.length)return!1;if(this._values.has(u))return{value:u};if(typeof u=="string"&&u&&h){const v=this._lowercase.get(u.toLowerCase());if(v)return{value:v}}if(!this._refs.size&&typeof u!="object")return!1;if(typeof u=="object"){for(const v of this._values)if(m(v,u))return{value:v}}if(d)for(const v of this._refs){const w=v.resolve(u,d,p,null,{in:!0});if(w===void 0)continue;const _=v.in&&typeof w=="object"?Array.isArray(w)?w:Object.keys(w):[w];for(const y of _)if(typeof y==typeof u){if(h&&u&&typeof u=="string"){if(y.toLowerCase()===u.toLowerCase())return{value:y,ref:v}}else if(m(y,u))return{value:y,ref:v}}}return!1}override(){this._override=!0}values(u){if(u&&u.display){const d=[];for(const p of[...this._values,...this._refs])p!==void 0&&d.push(p);return d}return Array.from([...this._values,...this._refs])}clone(){const u=new g.Values(this._values,this._refs);return u._override=this._override,u}concat(u){a(!u._override,"Cannot concat override set of values");const d=new g.Values([...this._values,...u._values],[...this._refs,...u._refs]);return d._override=this._override,d}describe(){const u=[];this._override&&u.push({override:!0});for(const d of this._values.values())u.push(d&&typeof d=="object"?{value:d}:d);for(const d of this._refs.values())u.push(d.describe());return u}},g.Values.prototype[f.symbols.values]=!0,g.Values.prototype.slice=g.Values.prototype.clone,g.lowercases=function(u){const d=new Map;if(u)for(const p of u)typeof p=="string"&&d.set(p.toLowerCase(),p);return d}},978:(i,o,c)=>{const a=c(375),m=c(8571),f=c(1687),g=c(9621),u={};i.exports=function(d,p){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(a(d&&typeof d=="object","Invalid defaults value: must be an object"),a(!p||p===!0||typeof p=="object","Invalid source value: must be true, falsy or an object"),a(typeof h=="object","Invalid options: must be an object"),!p)return null;if(h.shallow)return u.applyToDefaultsWithShallow(d,p,h);const v=m(d);if(p===!0)return v;const w=h.nullOverride!==void 0&&h.nullOverride;return f(v,p,{nullOverride:w,mergeArrays:!1})},u.applyToDefaultsWithShallow=function(d,p,h){const v=h.shallow;a(Array.isArray(v),"Invalid keys");const w=new Map,_=p===!0?null:new Set;for(let I of v){I=Array.isArray(I)?I:I.split(".");const D=g(d,I);D&&typeof D=="object"?w.set(D,_&&g(p,I)||D):_&&_.add(I)}const y=m(d,{},w);if(!_)return y;for(const I of _)u.reachCopy(y,p,I);const C=h.nullOverride!==void 0&&h.nullOverride;return f(y,p,{nullOverride:C,mergeArrays:!1})},u.reachCopy=function(d,p,h){for(const _ of h){if(!(_ in p))return;const y=p[_];if(typeof y!="object"||y===null)return;p=y}const v=p;let w=d;for(let _=0;_<h.length-1;++_){const y=h[_];typeof w[y]!="object"&&(w[y]={}),w=w[y]}w[h[h.length-1]]=v}},375:(i,o,c)=>{const a=c(7916);i.exports=function(m){if(!m){for(var f=arguments.length,g=new Array(f>1?f-1:0),u=1;u<f;u++)g[u-1]=arguments[u];throw g.length===1&&g[0]instanceof Error?g[0]:new a(g)}}},8571:(i,o,c)=>{const a=c(9621),m=c(4277),f=c(7043),g={needsProtoHack:new Set([m.set,m.map,m.weakSet,m.weakMap])};i.exports=g.clone=function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof u!="object"||u===null)return u;let h=g.clone,v=p;if(d.shallow){if(d.shallow!==!0)return g.cloneWithShallow(u,d);h=C=>C}else if(v){const C=v.get(u);if(C)return C}else v=new Map;const w=m.getInternalProto(u);if(w===m.buffer)return!1;if(w===m.date)return new Date(u.getTime());if(w===m.regex)return new RegExp(u);const _=g.base(u,w,d);if(_===u)return u;if(v&&v.set(u,_),w===m.set)for(const C of u)_.add(h(C,d,v));else if(w===m.map)for(const[C,I]of u)_.set(C,h(I,d,v));const y=f.keys(u,d);for(const C of y){if(C==="__proto__")continue;if(w===m.array&&C==="length"){_.length=u.length;continue}const I=Object.getOwnPropertyDescriptor(u,C);I?I.get||I.set?Object.defineProperty(_,C,I):I.enumerable?_[C]=h(u[C],d,v):Object.defineProperty(_,C,{enumerable:!1,writable:!0,configurable:!0,value:h(u[C],d,v)}):Object.defineProperty(_,C,{enumerable:!0,writable:!0,configurable:!0,value:h(u[C],d,v)})}return _},g.cloneWithShallow=function(u,d){const p=d.shallow;(d=Object.assign({},d)).shallow=!1;const h=new Map;for(const v of p){const w=a(u,v);typeof w!="object"&&typeof w!="function"||h.set(w,w)}return g.clone(u,d,h)},g.base=function(u,d,p){if(p.prototype===!1)return g.needsProtoHack.has(d)?new d.constructor:d===m.array?[]:{};const h=Object.getPrototypeOf(u);if(h&&h.isImmutable)return u;if(d===m.array){const v=[];return h!==d&&Object.setPrototypeOf(v,h),v}if(g.needsProtoHack.has(d)){const v=new h.constructor;return h!==d&&Object.setPrototypeOf(v,h),v}return Object.create(h)}},9474:(i,o,c)=>{const a=c(4277),m={mismatched:null};i.exports=function(f,g,u){return u=Object.assign({prototype:!0},u),!!m.isDeepEqual(f,g,u,[])},m.isDeepEqual=function(f,g,u,d){if(f===g)return f!==0||1/f==1/g;const p=typeof f;if(p!==typeof g||f===null||g===null)return!1;if(p==="function"){if(!u.deepFunction||f.toString()!==g.toString())return!1}else if(p!=="object")return f!=f&&g!=g;const h=m.getSharedType(f,g,!!u.prototype);switch(h){case a.buffer:return!1;case a.promise:return f===g;case a.regex:return f.toString()===g.toString();case m.mismatched:return!1}for(let v=d.length-1;v>=0;--v)if(d[v].isSame(f,g))return!0;d.push(new m.SeenEntry(f,g));try{return!!m.isDeepEqualObj(h,f,g,u,d)}finally{d.pop()}},m.getSharedType=function(f,g,u){if(u)return Object.getPrototypeOf(f)!==Object.getPrototypeOf(g)?m.mismatched:a.getInternalProto(f);const d=a.getInternalProto(f);return d!==a.getInternalProto(g)?m.mismatched:d},m.valueOf=function(f){const g=f.valueOf;if(g===void 0)return f;try{return g.call(f)}catch(u){return u}},m.hasOwnEnumerableProperty=function(f,g){return Object.prototype.propertyIsEnumerable.call(f,g)},m.isSetSimpleEqual=function(f,g){for(const u of Set.prototype.values.call(f))if(!Set.prototype.has.call(g,u))return!1;return!0},m.isDeepEqualObj=function(f,g,u,d,p){const{isDeepEqual:h,valueOf:v,hasOwnEnumerableProperty:w}=m,{keys:_,getOwnPropertySymbols:y}=Object;if(f===a.array){if(!d.part){if(g.length!==u.length)return!1;for(let E=0;E<g.length;++E)if(!h(g[E],u[E],d,p))return!1;return!0}for(const E of g)for(const b of u)if(h(E,b,d,p))return!0}else if(f===a.set){if(g.size!==u.size)return!1;if(!m.isSetSimpleEqual(g,u)){const E=new Set(Set.prototype.values.call(u));for(const b of Set.prototype.values.call(g)){if(E.delete(b))continue;let x=!1;for(const A of E)if(h(b,A,d,p)){E.delete(A),x=!0;break}if(!x)return!1}}}else if(f===a.map){if(g.size!==u.size)return!1;for(const[E,b]of Map.prototype.entries.call(g))if(b===void 0&&!Map.prototype.has.call(u,E)||!h(b,Map.prototype.get.call(u,E),d,p))return!1}else if(f===a.error&&(g.name!==u.name||g.message!==u.message))return!1;const C=v(g),I=v(u);if((g!==C||u!==I)&&!h(C,I,d,p))return!1;const D=_(g);if(!d.part&&D.length!==_(u).length&&!d.skip)return!1;let O=0;for(const E of D)if(d.skip&&d.skip.includes(E))u[E]===void 0&&++O;else if(!w(u,E)||!h(g[E],u[E],d,p))return!1;if(!d.part&&D.length-O!==_(u).length)return!1;if(d.symbols!==!1){const E=y(g),b=new Set(y(u));for(const x of E){if(!d.skip||!d.skip.includes(x)){if(w(g,x)){if(!w(u,x)||!h(g[x],u[x],d,p))return!1}else if(w(u,x))return!1}b.delete(x)}for(const x of b)if(w(u,x))return!1}return!0},m.SeenEntry=class{constructor(f,g){this.obj=f,this.ref=g}isSame(f,g){return this.obj===f&&this.ref===g}}},7916:(i,o,c)=>{const a=c(8761);i.exports=class extends Error{constructor(m){super(m.filter(f=>f!=="").map(f=>typeof f=="string"?f:f instanceof Error?f.message:a(f)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,o.assert)}}},5277:i=>{const o={};i.exports=function(c){if(!c)return"";let a="";for(let m=0;m<c.length;++m){const f=c.charCodeAt(m);o.isSafe(f)?a+=c[m]:a+=o.escapeHtmlChar(f)}return a},o.escapeHtmlChar=function(c){return o.namedHtml.get(c)||(c>=256?"&#"+c+";":`&#x${c.toString(16).padStart(2,"0")};`)},o.isSafe=function(c){return o.safeCharCodes.has(c)},o.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),o.safeCharCodes=function(){const c=new Set;for(let a=32;a<123;++a)(a>=97||a>=65&&a<=90||a>=48&&a<=57||a===32||a===46||a===44||a===45||a===58||a===95)&&c.add(a);return c}()},6064:i=>{i.exports=function(o){return o.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:i=>{i.exports=function(){}},1687:(i,o,c)=>{const a=c(375),m=c(8571),f=c(7043),g={};i.exports=g.merge=function(u,d,p){if(a(u&&typeof u=="object","Invalid target value: must be an object"),a(d==null||typeof d=="object","Invalid source value: must be null, undefined, or an object"),!d)return u;if(p=Object.assign({nullOverride:!0,mergeArrays:!0},p),Array.isArray(d)){a(Array.isArray(u),"Cannot merge array onto an object"),p.mergeArrays||(u.length=0);for(let v=0;v<d.length;++v)u.push(m(d[v],{symbols:p.symbols}));return u}const h=f.keys(d,p);for(let v=0;v<h.length;++v){const w=h[v];if(w==="__proto__"||!Object.prototype.propertyIsEnumerable.call(d,w))continue;const _=d[w];if(_&&typeof _=="object"){if(u[w]===_)continue;!u[w]||typeof u[w]!="object"||Array.isArray(u[w])!==Array.isArray(_)||_ instanceof Date||_ instanceof RegExp?u[w]=m(_,{symbols:p.symbols}):g.merge(u[w],_,p)}else(_!=null||p.nullOverride)&&(u[w]=_)}return u}},9621:(i,o,c)=>{const a=c(375),m={};i.exports=function(f,g,u){if(g===!1||g==null)return f;typeof(u=u||{})=="string"&&(u={separator:u});const d=Array.isArray(g);a(!d||!u.separator,"Separator option is not valid for array-based chain");const p=d?g:g.split(u.separator||".");let h=f;for(let v=0;v<p.length;++v){let w=p[v];const _=u.iterables&&m.iterables(h);if(Array.isArray(h)||_==="set"){const y=Number(w);Number.isInteger(y)&&(w=y<0?h.length+y:y)}if(!h||typeof h=="function"&&u.functions===!1||!_&&h[w]===void 0){a(!u.strict||v+1===p.length,"Missing segment",w,"in reach path ",g),a(typeof h=="object"||u.functions===!0||typeof h!="function","Invalid segment",w,"in reach path ",g),h=u.default;break}h=_?_==="set"?[...h][w]:h.get(w):h[w]}return h},m.iterables=function(f){return f instanceof Set?"set":f instanceof Map?"map":void 0}},8761:i=>{i.exports=function(){try{return JSON.stringify(...arguments)}catch(o){return"[Cannot display object: "+o.message+"]"}}},4277:(i,o)=>{const c={};o=i.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},c.typeMap=new Map([["[object Error]",o.error],["[object Map]",o.map],["[object Promise]",o.promise],["[object Set]",o.set],["[object WeakMap]",o.weakMap],["[object WeakSet]",o.weakSet]]),o.getInternalProto=function(a){if(Array.isArray(a))return o.array;if(a instanceof Date)return o.date;if(a instanceof RegExp)return o.regex;if(a instanceof Error)return o.error;const m=Object.prototype.toString.call(a);return c.typeMap.get(m)||o.generic}},7043:(i,o)=>{o.keys=function(c){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).symbols!==!1?Reflect.ownKeys(c):Object.getOwnPropertyNames(c)}},3652:(i,o,c)=>{const a=c(375),m={};o.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(f,g){const u=[].concat((g=g||{}).before||[]),d=[].concat(g.after||[]),p=g.group||"?",h=g.sort||0;a(!u.includes(p),`Item cannot come before itself: ${p}`),a(!u.includes("?"),"Item cannot come before unassociated items"),a(!d.includes(p),`Item cannot come after itself: ${p}`),a(!d.includes("?"),"Item cannot come after unassociated items"),Array.isArray(f)||(f=[f]);for(const v of f){const w={seq:this._items.length,sort:h,before:u,after:d,group:p,node:v};this._items.push(w)}if(!g.manual){const v=this._sort();a(v,"item",p!=="?"?`added into group ${p}`:"","created a dependencies error")}return this.nodes}merge(f){Array.isArray(f)||(f=[f]);for(const u of f)if(u)for(const d of u._items)this._items.push(Object.assign({},d));this._items.sort(m.mergeSort);for(let u=0;u<this._items.length;++u)this._items[u].seq=u;const g=this._sort();return a(g,"merge created a dependencies error"),this.nodes}sort(){const f=this._sort();return a(f,"sort created a dependencies error"),this.nodes}_sort(){const f={},g=Object.create(null),u=Object.create(null);for(const w of this._items){const _=w.seq,y=w.group;u[y]=u[y]||[],u[y].push(_),f[_]=w.before;for(const C of w.after)g[C]=g[C]||[],g[C].push(_)}for(const w in f){const _=[];for(const y in f[w]){const C=f[w][y];u[C]=u[C]||[],_.push(...u[C])}f[w]=_}for(const w in g)if(u[w])for(const _ of u[w])f[_].push(...g[w]);const d={};for(const w in f){const _=f[w];for(const y of _)d[y]=d[y]||[],d[y].push(w)}const p={},h=[];for(let w=0;w<this._items.length;++w){let _=w;if(d[w]){_=null;for(let y=0;y<this._items.length;++y){if(p[y]===!0)continue;d[y]||(d[y]=[]);const C=d[y].length;let I=0;for(let D=0;D<C;++D)p[d[y][D]]&&++I;if(I===C){_=y;break}}}_!==null&&(p[_]=!0,h.push(_))}if(h.length!==this._items.length)return!1;const v={};for(const w of this._items)v[w.seq]=w;this._items=[],this.nodes=[];for(const w of h){const _=v[w];this.nodes.push(_.node),this._items.push(_)}return!0}},m.mergeSort=(f,g)=>f.sort===g.sort?0:f.sort<g.sort?-1:1},5380:(i,o,c)=>{const a=c(443),m=c(2178),f={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:a.URL||URL};o.analyze=function(g){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!g)return m.code("DOMAIN_NON_EMPTY_STRING");if(typeof g!="string")throw new Error("Invalid input: domain must be a string");if(g.length>256)return m.code("DOMAIN_TOO_LONG");if(f.nonAsciiRx.test(g)){if(u.allowUnicode===!1)return m.code("DOMAIN_INVALID_UNICODE_CHARS");g=g.normalize("NFC")}if(f.domainControlRx.test(g))return m.code("DOMAIN_INVALID_CHARS");g=f.punycode(g),u.allowFullyQualified&&g[g.length-1]==="."&&(g=g.slice(0,-1));const d=u.minDomainSegments||f.minDomainSegments,p=g.split(".");if(p.length<d)return m.code("DOMAIN_SEGMENTS_COUNT");if(u.maxDomainSegments&&p.length>u.maxDomainSegments)return m.code("DOMAIN_SEGMENTS_COUNT_MAX");const h=u.tlds;if(h){const v=p[p.length-1].toLowerCase();if(h.deny&&h.deny.has(v)||h.allow&&!h.allow.has(v))return m.code("DOMAIN_FORBIDDEN_TLDS")}for(let v=0;v<p.length;++v){const w=p[v];if(!w.length)return m.code("DOMAIN_EMPTY_SEGMENT");if(w.length>63)return m.code("DOMAIN_LONG_SEGMENT");if(v<p.length-1){if(!f.domainSegmentRx.test(w))return m.code("DOMAIN_INVALID_CHARS")}else if(!f.tldSegmentRx.test(w))return m.code("DOMAIN_INVALID_TLDS_CHARS")}return null},o.isValid=function(g,u){return!o.analyze(g,u)},f.punycode=function(g){g.includes("%")&&(g=g.replace(/%/g,"%25"));try{return new f.URL(`http://${g}`).host}catch{return g}}},1745:(i,o,c)=>{const a=c(9848),m=c(5380),f=c(2178),g={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(a.TextEncoder||TextEncoder)};o.analyze=function(u,d){return g.email(u,d)},o.isValid=function(u,d){return!g.email(u,d)},g.email=function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof u!="string")throw new Error("Invalid input: email must be a string");if(!u)return f.code("EMPTY_STRING");const p=!g.nonAsciiRx.test(u);if(!p){if(d.allowUnicode===!1)return f.code("FORBIDDEN_UNICODE");u=u.normalize("NFC")}const h=u.split("@");if(h.length!==2)return h.length>2?f.code("MULTIPLE_AT_CHAR"):f.code("MISSING_AT_CHAR");const[v,w]=h;if(!v)return f.code("EMPTY_LOCAL");if(!d.ignoreLength){if(u.length>254)return f.code("ADDRESS_TOO_LONG");if(g.encoder.encode(v).length>64)return f.code("LOCAL_TOO_LONG")}return g.local(v,p)||m.analyze(w,d)},g.local=function(u,d){const p=u.split(".");for(const h of p){if(!h.length)return f.code("EMPTY_LOCAL_SEGMENT");if(d){if(!g.atextRx.test(h))return f.code("INVALID_LOCAL_CHARS")}else for(const v of h){if(g.atextRx.test(v))continue;const w=g.binary(v);if(!g.atomRx.test(w))return f.code("INVALID_LOCAL_CHARS")}}},g.binary=function(u){return Array.from(g.encoder.encode(u)).map(d=>String.fromCharCode(d)).join("")},g.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,g.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(i,o)=>{o.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},o.code=function(c){return{code:c,error:o.codes[c]}}},9959:(i,o,c)=>{const a=c(375),m=c(5752);o.regex=function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};a(f.cidr===void 0||typeof f.cidr=="string","options.cidr must be a string");const g=f.cidr?f.cidr.toLowerCase():"optional";a(["required","optional","forbidden"].includes(g),"options.cidr must be one of required, optional, forbidden"),a(f.version===void 0||typeof f.version=="string"||Array.isArray(f.version),"options.version must be a string or an array of string");let u=f.version||["ipv4","ipv6","ipvfuture"];Array.isArray(u)||(u=[u]),a(u.length>=1,"options.version must have at least 1 version specified");for(let h=0;h<u.length;++h)a(typeof u[h]=="string","options.version must only contain strings"),u[h]=u[h].toLowerCase(),a(["ipv4","ipv6","ipvfuture"].includes(u[h]),"options.version contains unknown version "+u[h]+" - must be one of ipv4, ipv6, ipvfuture");u=Array.from(new Set(u));const d=`(?:${u.map(h=>{if(g==="forbidden")return m.ip[h];const v=`\\/${h==="ipv4"?m.ip.v4Cidr:m.ip.v6Cidr}`;return g==="required"?`${m.ip[h]}${v}`:`${m.ip[h]}(?:${v})?`}).join("|")})`,p=new RegExp(`^${d}$`);return{cidr:g,versions:u,regex:p,raw:d}}},5752:(i,o,c)=>{const a=c(375),m=c(6064),f={generate:function(){const g={},u="\\dA-Fa-f",d="["+u+"]",p="\\w-\\.~",h="!\\$&'\\(\\)\\*\\+,;=",v="%"+u,w=p+v+h+":@",_="["+w+"]",y="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";g.ipv4address="(?:"+y+"\\.){3}"+y;const C=d+"{1,4}",I="(?:"+C+":"+C+"|"+g.ipv4address+")",D="(?:"+C+":){6}"+I,O="::(?:"+C+":){5}"+I,E="(?:"+C+")?::(?:"+C+":){4}"+I,b="(?:(?:"+C+":){0,1}"+C+")?::(?:"+C+":){3}"+I,x="(?:(?:"+C+":){0,2}"+C+")?::(?:"+C+":){2}"+I,A="(?:(?:"+C+":){0,3}"+C+")?::"+C+":"+I,N="(?:(?:"+C+":){0,4}"+C+")?::"+I,j="(?:(?:"+C+":){0,5}"+C+")?::"+C,B="(?:(?:"+C+":){0,6}"+C+")?::";g.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",g.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",g.ipv6address="(?:"+D+"|"+O+"|"+E+"|"+b+"|"+x+"|"+A+"|"+N+"|"+j+"|"+B+")",g.ipvFuture="v"+d+"+\\.["+p+h+":]+",g.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",g.schemeRegex=new RegExp(g.scheme);const $="["+p+v+h+":]*",L="["+p+v+h+"]{1,255}",q="(?:\\[(?:"+g.ipv6address+"|"+g.ipvFuture+")\\]|"+g.ipv4address+"|"+L+")",W="(?:"+$+"@)?"+q+"(?::\\d*)?",z="(?:"+$+"@)?("+q+")(?::\\d*)?",K=_+"*",se=_+"+",re="(?:\\/"+K+")*",we="\\/(?:"+se+re+")?",fe=se+re,me="["+p+v+h+"@]+"+re,ge="(?:\\/\\/\\/"+K+re+")";return g.hierPart="(?:(?:\\/\\/"+W+re+")|"+we+"|"+fe+"|"+ge+")",g.hierPartCapture="(?:(?:\\/\\/"+z+re+")|"+we+"|"+fe+")",g.relativeRef="(?:(?:\\/\\/"+W+re+")|"+we+"|"+me+"|)",g.relativeRefCapture="(?:(?:\\/\\/"+z+re+")|"+we+"|"+me+"|)",g.query="["+w+"\\/\\?]*(?=#|$)",g.queryWithSquareBrackets="["+w+"\\[\\]\\/\\?]*(?=#|$)",g.fragment="["+w+"\\/\\?]*",g}};f.rfc3986=f.generate(),o.ip={v4Cidr:f.rfc3986.ipv4Cidr,v6Cidr:f.rfc3986.ipv6Cidr,ipv4:f.rfc3986.ipv4address,ipv6:f.rfc3986.ipv6address,ipvfuture:f.rfc3986.ipvFuture},f.createRegex=function(g){const u=f.rfc3986,d="(?:\\?"+(g.allowQuerySquareBrackets?u.queryWithSquareBrackets:u.query)+")?(?:#"+u.fragment+")?",p=g.domain?u.relativeRefCapture:u.relativeRef;if(g.relativeOnly)return f.wrap(p+d);let h="";if(g.scheme){a(g.scheme instanceof RegExp||typeof g.scheme=="string"||Array.isArray(g.scheme),"scheme must be a RegExp, String, or Array");const _=[].concat(g.scheme);a(_.length>=1,"scheme must have at least 1 scheme specified");const y=[];for(let C=0;C<_.length;++C){const I=_[C];a(I instanceof RegExp||typeof I=="string","scheme at position "+C+" must be a RegExp or String"),I instanceof RegExp?y.push(I.source.toString()):(a(u.schemeRegex.test(I),"scheme at position "+C+" must be a valid scheme"),y.push(m(I)))}h=y.join("|")}const v="(?:"+(h?"(?:"+h+")":u.scheme)+":"+(g.domain?u.hierPartCapture:u.hierPart)+")",w=g.allowRelative?"(?:"+v+"|"+p+")":v;return f.wrap(w+d,h)},f.wrap=function(g,u){return{raw:g=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${g}`,regex:new RegExp(`^${g}$`),scheme:u}},f.uriRegex=f.createRegex({}),o.regex=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.scheme||g.allowRelative||g.relativeOnly||g.allowQuerySquareBrackets||g.domain?f.createRegex(g):f.uriRegex}},1447:(i,o)=>{const c={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};o.Parser=class{constructor(a){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!m[c.settings]&&m.constants)for(const f in m.constants){const g=m.constants[f];if(g!==null&&!["boolean","number","string"].includes(typeof g))throw new Error(`Formula constant ${f} contains invalid ${typeof g} value type`)}this.settings=m[c.settings]?m:Object.assign({[c.settings]:!0,constants:{},functions:{}},m),this.single=null,this._parts=null,this._parse(a)}_parse(a){let m=[],f="",g=0,u=!1;const d=h=>{if(g)throw new Error("Formula missing closing parenthesis");const v=m.length?m[m.length-1]:null;if(u||f||h){if(v&&v.type==="reference"&&h===")")return v.type="function",v.value=this._subFormula(f,v.value),void(f="");if(h===")"){const w=new o.Parser(f,this.settings);m.push({type:"segment",value:w})}else if(u){if(u==="]")return m.push({type:"reference",value:f}),void(f="");m.push({type:"literal",value:f})}else if(c.operatorCharacters.includes(f))v&&v.type==="operator"&&c.operators.includes(v.value+f)?v.value+=f:m.push({type:"operator",value:f});else if(f.match(c.numberRx))m.push({type:"constant",value:parseFloat(f)});else if(this.settings.constants[f]!==void 0)m.push({type:"constant",value:this.settings.constants[f]});else{if(!f.match(c.tokenRx))throw new Error(`Formula contains invalid token: ${f}`);m.push({type:"reference",value:f})}f=""}};for(const h of a)u?h===u?(d(),u=!1):f+=h:g?h==="("?(f+=h,++g):h===")"?(--g,g?f+=h:d(h)):f+=h:h in c.literals?u=c.literals[h]:h==="("?(d(),++g):c.operatorCharacters.includes(h)?(d(),f=h,d()):h!==" "?f+=h:d();d(),m=m.map((h,v)=>h.type!=="operator"||h.value!=="-"||v&&m[v-1].type!=="operator"?h:{type:"operator",value:"n"});let p=!1;for(const h of m){if(h.type==="operator"){if(c.operatorsPrefix.includes(h.value))continue;if(!p)throw new Error("Formula contains an operator in invalid position");if(!c.operators.includes(h.value))throw new Error(`Formula contains an unknown operator ${h.value}`)}else if(p)throw new Error("Formula missing expected operator");p=!p}if(!p)throw new Error("Formula contains invalid trailing operator");m.length===1&&["reference","literal","constant"].includes(m[0].type)&&(this.single={type:m[0].type==="reference"?"reference":"value",value:m[0].value}),this._parts=m.map(h=>{if(h.type==="operator")return c.operatorsPrefix.includes(h.value)?h:h.value;if(h.type!=="reference")return h.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(h.value))throw new Error(`Formula contains invalid reference ${h.value}`);return this.settings.reference?this.settings.reference(h.value):c.reference(h.value)})}_subFormula(a,m){const f=this.settings.functions[m];if(typeof f!="function")throw new Error(`Formula contains unknown function ${m}`);let g=[];if(a){let u="",d=0,p=!1;const h=()=>{if(!u)throw new Error(`Formula contains function ${m} with invalid arguments ${a}`);g.push(u),u=""};for(let v=0;v<a.length;++v){const w=a[v];p?(u+=w,w===p&&(p=!1)):w in c.literals&&!d?(u+=w,p=c.literals[w]):w!==","||d?(u+=w,w==="("?++d:w===")"&&--d):h()}h()}return g=g.map(u=>new o.Parser(u,this.settings)),function(u){const d=[];for(const p of g)d.push(p.evaluate(u));return f.call(u,...d)}}evaluate(a){const m=this._parts.slice();for(let f=m.length-2;f>=0;--f){const g=m[f];if(g&&g.type==="operator"){const u=m[f+1];m.splice(f+1,1);const d=c.evaluate(u,a);m[f]=c.single(g.value,d)}}return c.operatorsOrder.forEach(f=>{for(let g=1;g<m.length-1;)if(f.includes(m[g])){const u=m[g],d=c.evaluate(m[g-1],a),p=c.evaluate(m[g+1],a);m.splice(g,2);const h=c.calculate(u,d,p);m[g-1]=h===0?0:h}else g+=2}),c.evaluate(m[0],a)}},o.Parser.prototype[c.symbol]=!0,c.reference=function(a){return function(m){return m&&m[a]!==void 0?m[a]:null}},c.evaluate=function(a,m){return a===null?null:typeof a=="function"?a(m):a[c.symbol]?a.evaluate(m):a},c.single=function(a,m){if(a==="!")return!m;const f=-m;return f===0?0:f},c.calculate=function(a,m,f){if(a==="??")return c.exists(m)?m:f;if(typeof m=="string"||typeof f=="string"){if(a==="+")return(m=c.exists(m)?m:"")+(c.exists(f)?f:"")}else switch(a){case"^":return Math.pow(m,f);case"*":return m*f;case"/":return m/f;case"%":return m%f;case"+":return m+f;case"-":return m-f}switch(a){case"<":return m<f;case"<=":return m<=f;case">":return m>f;case">=":return m>=f;case"==":return m===f;case"!=":return m!==f;case"&&":return m&&f;case"||":return m||f}return null},c.exists=function(a){return a!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:i=>{i.exports={version:"17.9.1"}}},n={},function i(o){var c=n[o];if(c!==void 0)return c.exports;var a=n[o]={exports:{}};return r[o](a,a.exports,i),a.exports}(5107);var r,n})})(Bb);var R7=Bb.exports;const X=mo(R7);class lm extends Error{constructor(t){super(t.message),this.message=t.message,this.code=t.code,this.data=t.data}}const wr=(e,t)=>{let r;e.request?r=e.request.bind(e):e.sendAsync&&(r=$7(e));const n=async({method:i,params:o})=>{const c=i;if(t&&t[c]===null)throw new lm({code:4200,message:`The Provider does not support the requested method: ${i}`});if(t&&t[c])return t[c]({baseRequest:r,params:o});if(r)return r({method:i,params:o});throw new lm({code:4200,message:`The Provider does not support the requested method: ${i}`})};return e.request=n,e},$7=e=>({method:t,params:r})=>new Promise((n,i)=>{e.sendAsync({id:0,jsonrpc:"2.0",method:t,params:r},(o,{result:c})=>{o?i(JSON.parse(o)):n(c??null)})});var L7=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Dh=Math.ceil,Gi=Math.floor,pi="[BigNumber Error] ",um=pi+"Number primitive has more than 15 significant digits: ",fs=1e14,At=14,Th=9007199254740991,Ph=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Oo=1e7,Sn=1e9;function Hb(e){var t,r,n,i=y.prototype={constructor:y,toString:null,valueOf:null},o=new y(1),c=20,a=4,m=-7,f=21,g=-1e7,u=1e7,d=!1,p=1,h=0,v={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},w="0123456789abcdefghijklmnopqrstuvwxyz",_=!0;function y(b,x){var A,N,j,B,$,L,q,W,z=this;if(!(z instanceof y))return new y(b,x);if(x==null){if(b&&b._isBigNumber===!0){z.s=b.s,!b.c||b.e>u?z.c=z.e=null:b.e<g?z.c=[z.e=0]:(z.e=b.e,z.c=b.c.slice());return}if((L=typeof b=="number")&&b*0==0){if(z.s=1/b<0?(b=-b,-1):1,b===~~b){for(B=0,$=b;$>=10;$/=10,B++);B>u?z.c=z.e=null:(z.e=B,z.c=[b]);return}W=String(b)}else{if(!L7.test(W=String(b)))return n(z,W,L);z.s=W.charCodeAt(0)==45?(W=W.slice(1),-1):1}(B=W.indexOf("."))>-1&&(W=W.replace(".","")),($=W.search(/e/i))>0?(B<0&&(B=$),B+=+W.slice($+1),W=W.substring(0,$)):B<0&&(B=W.length)}else{if(zr(x,2,w.length,"Base"),x==10&&_)return z=new y(b),O(z,c+z.e+1,a);if(W=String(b),L=typeof b=="number"){if(b*0!=0)return n(z,W,L,x);if(z.s=1/b<0?(W=W.slice(1),-1):1,y.DEBUG&&W.replace(/^0\.0*|\./,"").length>15)throw Error(um+b)}else z.s=W.charCodeAt(0)===45?(W=W.slice(1),-1):1;for(A=w.slice(0,x),B=$=0,q=W.length;$<q;$++)if(A.indexOf(N=W.charAt($))<0){if(N=="."){if($>B){B=q;continue}}else if(!j&&(W==W.toUpperCase()&&(W=W.toLowerCase())||W==W.toLowerCase()&&(W=W.toUpperCase()))){j=!0,$=-1,B=0;continue}return n(z,String(b),L,x)}L=!1,W=r(W,x,10,z.s),(B=W.indexOf("."))>-1?W=W.replace(".",""):B=W.length}for($=0;W.charCodeAt($)===48;$++);for(q=W.length;W.charCodeAt(--q)===48;);if(W=W.slice($,++q)){if(q-=$,L&&y.DEBUG&&q>15&&(b>Th||b!==Gi(b)))throw Error(um+z.s*b);if((B=B-$-1)>u)z.c=z.e=null;else if(B<g)z.c=[z.e=0];else{if(z.e=B,z.c=[],$=(B+1)%At,B<0&&($+=At),$<q){for($&&z.c.push(+W.slice(0,$)),q-=At;$<q;)z.c.push(+W.slice($,$+=At));$=At-(W=W.slice($)).length}else $-=q;for(;$--;W+="0");z.c.push(+W)}}else z.c=[z.e=0]}y.clone=Hb,y.ROUND_UP=0,y.ROUND_DOWN=1,y.ROUND_CEIL=2,y.ROUND_FLOOR=3,y.ROUND_HALF_UP=4,y.ROUND_HALF_DOWN=5,y.ROUND_HALF_EVEN=6,y.ROUND_HALF_CEIL=7,y.ROUND_HALF_FLOOR=8,y.EUCLID=9,y.config=y.set=function(b){var x,A;if(b!=null)if(typeof b=="object"){if(b.hasOwnProperty(x="DECIMAL_PLACES")&&(A=b[x],zr(A,0,Sn,x),c=A),b.hasOwnProperty(x="ROUNDING_MODE")&&(A=b[x],zr(A,0,8,x),a=A),b.hasOwnProperty(x="EXPONENTIAL_AT")&&(A=b[x],A&&A.pop?(zr(A[0],-Sn,0,x),zr(A[1],0,Sn,x),m=A[0],f=A[1]):(zr(A,-Sn,Sn,x),m=-(f=A<0?-A:A))),b.hasOwnProperty(x="RANGE"))if(A=b[x],A&&A.pop)zr(A[0],-Sn,-1,x),zr(A[1],1,Sn,x),g=A[0],u=A[1];else if(zr(A,-Sn,Sn,x),A)g=-(u=A<0?-A:A);else throw Error(pi+x+" cannot be zero: "+A);if(b.hasOwnProperty(x="CRYPTO"))if(A=b[x],A===!!A)if(A)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))d=A;else throw d=!A,Error(pi+"crypto unavailable");else d=A;else throw Error(pi+x+" not true or false: "+A);if(b.hasOwnProperty(x="MODULO_MODE")&&(A=b[x],zr(A,0,9,x),p=A),b.hasOwnProperty(x="POW_PRECISION")&&(A=b[x],zr(A,0,Sn,x),h=A),b.hasOwnProperty(x="FORMAT"))if(A=b[x],typeof A=="object")v=A;else throw Error(pi+x+" not an object: "+A);if(b.hasOwnProperty(x="ALPHABET"))if(A=b[x],typeof A=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(A))_=A.slice(0,10)=="0123456789",w=A;else throw Error(pi+x+" invalid: "+A)}else throw Error(pi+"Object expected: "+b);return{DECIMAL_PLACES:c,ROUNDING_MODE:a,EXPONENTIAL_AT:[m,f],RANGE:[g,u],CRYPTO:d,MODULO_MODE:p,POW_PRECISION:h,FORMAT:v,ALPHABET:w}},y.isBigNumber=function(b){if(!b||b._isBigNumber!==!0)return!1;if(!y.DEBUG)return!0;var x,A,N=b.c,j=b.e,B=b.s;e:if({}.toString.call(N)=="[object Array]"){if((B===1||B===-1)&&j>=-Sn&&j<=Sn&&j===Gi(j)){if(N[0]===0){if(j===0&&N.length===1)return!0;break e}if(x=(j+1)%At,x<1&&(x+=At),String(N[0]).length==x){for(x=0;x<N.length;x++)if(A=N[x],A<0||A>=fs||A!==Gi(A))break e;if(A!==0)return!0}}}else if(N===null&&j===null&&(B===null||B===1||B===-1))return!0;throw Error(pi+"Invalid BigNumber: "+b)},y.maximum=y.max=function(){return I(arguments,-1)},y.minimum=y.min=function(){return I(arguments,1)},y.random=function(){var b=9007199254740992,x=Math.random()*b&2097151?function(){return Gi(Math.random()*b)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(A){var N,j,B,$,L,q=0,W=[],z=new y(o);if(A==null?A=c:zr(A,0,Sn),$=Dh(A/At),d)if(crypto.getRandomValues){for(N=crypto.getRandomValues(new Uint32Array($*=2));q<$;)L=N[q]*131072+(N[q+1]>>>11),L>=9e15?(j=crypto.getRandomValues(new Uint32Array(2)),N[q]=j[0],N[q+1]=j[1]):(W.push(L%1e14),q+=2);q=$/2}else if(crypto.randomBytes){for(N=crypto.randomBytes($*=7);q<$;)L=(N[q]&31)*281474976710656+N[q+1]*1099511627776+N[q+2]*4294967296+N[q+3]*16777216+(N[q+4]<<16)+(N[q+5]<<8)+N[q+6],L>=9e15?crypto.randomBytes(7).copy(N,q):(W.push(L%1e14),q+=7);q=$/7}else throw d=!1,Error(pi+"crypto unavailable");if(!d)for(;q<$;)L=x(),L<9e15&&(W[q++]=L%1e14);for($=W[--q],A%=At,$&&A&&(L=Ph[At-A],W[q]=Gi($/L)*L);W[q]===0;W.pop(),q--);if(q<0)W=[B=0];else{for(B=-1;W[0]===0;W.splice(0,1),B-=At);for(q=1,L=W[0];L>=10;L/=10,q++);q<At&&(B-=At-q)}return z.e=B,z.c=W,z}}(),y.sum=function(){for(var b=1,x=arguments,A=new y(x[0]);b<x.length;)A=A.plus(x[b++]);return A},r=function(){var b="0123456789";function x(A,N,j,B){for(var $,L=[0],q,W=0,z=A.length;W<z;){for(q=L.length;q--;L[q]*=N);for(L[0]+=B.indexOf(A.charAt(W++)),$=0;$<L.length;$++)L[$]>j-1&&(L[$+1]==null&&(L[$+1]=0),L[$+1]+=L[$]/j|0,L[$]%=j)}return L.reverse()}return function(A,N,j,B,$){var L,q,W,z,K,se,re,we,fe=A.indexOf("."),me=c,ge=a;for(fe>=0&&(z=h,h=0,A=A.replace(".",""),we=new y(N),se=we.pow(A.length-fe),h=z,we.c=x(so(Vi(se.c),se.e,"0"),10,j,b),we.e=we.c.length),re=x(A,N,j,$?(L=w,b):(L=b,w)),W=z=re.length;re[--z]==0;re.pop());if(!re[0])return L.charAt(0);if(fe<0?--W:(se.c=re,se.e=W,se.s=B,se=t(se,we,me,ge,j),re=se.c,K=se.r,W=se.e),q=W+me+1,fe=re[q],z=j/2,K=K||q<0||re[q+1]!=null,K=ge<4?(fe!=null||K)&&(ge==0||ge==(se.s<0?3:2)):fe>z||fe==z&&(ge==4||K||ge==6&&re[q-1]&1||ge==(se.s<0?8:7)),q<1||!re[0])A=K?so(L.charAt(1),-me,L.charAt(0)):L.charAt(0);else{if(re.length=q,K)for(--j;++re[--q]>j;)re[q]=0,q||(++W,re=[1].concat(re));for(z=re.length;!re[--z];);for(fe=0,A="";fe<=z;A+=L.charAt(re[fe++]));A=so(A,W,L.charAt(0))}return A}}(),t=function(){function b(N,j,B){var $,L,q,W,z=0,K=N.length,se=j%Oo,re=j/Oo|0;for(N=N.slice();K--;)q=N[K]%Oo,W=N[K]/Oo|0,$=re*q+W*se,L=se*q+$%Oo*Oo+z,z=(L/B|0)+($/Oo|0)+re*W,N[K]=L%B;return z&&(N=[z].concat(N)),N}function x(N,j,B,$){var L,q;if(B!=$)q=B>$?1:-1;else for(L=q=0;L<B;L++)if(N[L]!=j[L]){q=N[L]>j[L]?1:-1;break}return q}function A(N,j,B,$){for(var L=0;B--;)N[B]-=L,L=N[B]<j[B]?1:0,N[B]=L*$+N[B]-j[B];for(;!N[0]&&N.length>1;N.splice(0,1));}return function(N,j,B,$,L){var q,W,z,K,se,re,we,fe,me,ge,Ie,ne,J,te,R,Z,Oe,Le=N.s==j.s?1:-1,Ne=N.c,ke=j.c;if(!Ne||!Ne[0]||!ke||!ke[0])return new y(!N.s||!j.s||(Ne?ke&&Ne[0]==ke[0]:!ke)?NaN:Ne&&Ne[0]==0||!ke?Le*0:Le/0);for(fe=new y(Le),me=fe.c=[],W=N.e-j.e,Le=B+W+1,L||(L=fs,W=Ki(N.e/At)-Ki(j.e/At),Le=Le/At|0),z=0;ke[z]==(Ne[z]||0);z++);if(ke[z]>(Ne[z]||0)&&W--,Le<0)me.push(1),K=!0;else{for(te=Ne.length,Z=ke.length,z=0,Le+=2,se=Gi(L/(ke[0]+1)),se>1&&(ke=b(ke,se,L),Ne=b(Ne,se,L),Z=ke.length,te=Ne.length),J=Z,ge=Ne.slice(0,Z),Ie=ge.length;Ie<Z;ge[Ie++]=0);Oe=ke.slice(),Oe=[0].concat(Oe),R=ke[0],ke[1]>=L/2&&R++;do{if(se=0,q=x(ke,ge,Z,Ie),q<0){if(ne=ge[0],Z!=Ie&&(ne=ne*L+(ge[1]||0)),se=Gi(ne/R),se>1)for(se>=L&&(se=L-1),re=b(ke,se,L),we=re.length,Ie=ge.length;x(re,ge,we,Ie)==1;)se--,A(re,Z<we?Oe:ke,we,L),we=re.length,q=1;else se==0&&(q=se=1),re=ke.slice(),we=re.length;if(we<Ie&&(re=[0].concat(re)),A(ge,re,Ie,L),Ie=ge.length,q==-1)for(;x(ke,ge,Z,Ie)<1;)se++,A(ge,Z<Ie?Oe:ke,Ie,L),Ie=ge.length}else q===0&&(se++,ge=[0]);me[z++]=se,ge[0]?ge[Ie++]=Ne[J]||0:(ge=[Ne[J]],Ie=1)}while((J++<te||ge[0]!=null)&&Le--);K=ge[0]!=null,me[0]||me.splice(0,1)}if(L==fs){for(z=1,Le=me[0];Le>=10;Le/=10,z++);O(fe,B+(fe.e=z+W*At-1)+1,$,K)}else fe.e=W,fe.r=+K;return fe}}();function C(b,x,A,N){var j,B,$,L,q;if(A==null?A=a:zr(A,0,8),!b.c)return b.toString();if(j=b.c[0],$=b.e,x==null)q=Vi(b.c),q=N==1||N==2&&($<=m||$>=f)?tu(q,$):so(q,$,"0");else if(b=O(new y(b),x,A),B=b.e,q=Vi(b.c),L=q.length,N==1||N==2&&(x<=B||B<=m)){for(;L<x;q+="0",L++);q=tu(q,B)}else if(x-=$,q=so(q,B,"0"),B+1>L){if(--x>0)for(q+=".";x--;q+="0");}else if(x+=B-L,x>0)for(B+1==L&&(q+=".");x--;q+="0");return b.s<0&&j?"-"+q:q}function I(b,x){for(var A,N,j=1,B=new y(b[0]);j<b.length;j++)N=new y(b[j]),(!N.s||(A=Yo(B,N))===x||A===0&&B.s===x)&&(B=N);return B}function D(b,x,A){for(var N=1,j=x.length;!x[--j];x.pop());for(j=x[0];j>=10;j/=10,N++);return(A=N+A*At-1)>u?b.c=b.e=null:A<g?b.c=[b.e=0]:(b.e=A,b.c=x),b}n=function(){var b=/^(-?)0([xbo])(?=\w[\w.]*$)/i,x=/^([^.]+)\.$/,A=/^\.([^.]+)$/,N=/^-?(Infinity|NaN)$/,j=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(B,$,L,q){var W,z=L?$:$.replace(j,"");if(N.test(z))B.s=isNaN(z)?null:z<0?-1:1;else{if(!L&&(z=z.replace(b,function(K,se,re){return W=(re=re.toLowerCase())=="x"?16:re=="b"?2:8,!q||q==W?se:K}),q&&(W=q,z=z.replace(x,"$1").replace(A,"0.$1")),$!=z))return new y(z,W);if(y.DEBUG)throw Error(pi+"Not a"+(q?" base "+q:"")+" number: "+$);B.s=null}B.c=B.e=null}}();function O(b,x,A,N){var j,B,$,L,q,W,z,K=b.c,se=Ph;if(K){e:{for(j=1,L=K[0];L>=10;L/=10,j++);if(B=x-j,B<0)B+=At,$=x,q=K[W=0],z=Gi(q/se[j-$-1]%10);else if(W=Dh((B+1)/At),W>=K.length)if(N){for(;K.length<=W;K.push(0));q=z=0,j=1,B%=At,$=B-At+1}else break e;else{for(q=L=K[W],j=1;L>=10;L/=10,j++);B%=At,$=B-At+j,z=$<0?0:Gi(q/se[j-$-1]%10)}if(N=N||x<0||K[W+1]!=null||($<0?q:q%se[j-$-1]),N=A<4?(z||N)&&(A==0||A==(b.s<0?3:2)):z>5||z==5&&(A==4||N||A==6&&(B>0?$>0?q/se[j-$]:0:K[W-1])%10&1||A==(b.s<0?8:7)),x<1||!K[0])return K.length=0,N?(x-=b.e+1,K[0]=se[(At-x%At)%At],b.e=-x||0):K[0]=b.e=0,b;if(B==0?(K.length=W,L=1,W--):(K.length=W+1,L=se[At-B],K[W]=$>0?Gi(q/se[j-$]%se[$])*L:0),N)for(;;)if(W==0){for(B=1,$=K[0];$>=10;$/=10,B++);for($=K[0]+=L,L=1;$>=10;$/=10,L++);B!=L&&(b.e++,K[0]==fs&&(K[0]=1));break}else{if(K[W]+=L,K[W]!=fs)break;K[W--]=0,L=1}for(B=K.length;K[--B]===0;K.pop());}b.e>u?b.c=b.e=null:b.e<g&&(b.c=[b.e=0])}return b}function E(b){var x,A=b.e;return A===null?b.toString():(x=Vi(b.c),x=A<=m||A>=f?tu(x,A):so(x,A,"0"),b.s<0?"-"+x:x)}return i.absoluteValue=i.abs=function(){var b=new y(this);return b.s<0&&(b.s=1),b},i.comparedTo=function(b,x){return Yo(this,new y(b,x))},i.decimalPlaces=i.dp=function(b,x){var A,N,j,B=this;if(b!=null)return zr(b,0,Sn),x==null?x=a:zr(x,0,8),O(new y(B),b+B.e+1,x);if(!(A=B.c))return null;if(N=((j=A.length-1)-Ki(this.e/At))*At,j=A[j])for(;j%10==0;j/=10,N--);return N<0&&(N=0),N},i.dividedBy=i.div=function(b,x){return t(this,new y(b,x),c,a)},i.dividedToIntegerBy=i.idiv=function(b,x){return t(this,new y(b,x),0,1)},i.exponentiatedBy=i.pow=function(b,x){var A,N,j,B,$,L,q,W,z,K=this;if(b=new y(b),b.c&&!b.isInteger())throw Error(pi+"Exponent not an integer: "+E(b));if(x!=null&&(x=new y(x)),L=b.e>14,!K.c||!K.c[0]||K.c[0]==1&&!K.e&&K.c.length==1||!b.c||!b.c[0])return z=new y(Math.pow(+E(K),L?b.s*(2-eu(b)):+E(b))),x?z.mod(x):z;if(q=b.s<0,x){if(x.c?!x.c[0]:!x.s)return new y(NaN);N=!q&&K.isInteger()&&x.isInteger(),N&&(K=K.mod(x))}else{if(b.e>9&&(K.e>0||K.e<-1||(K.e==0?K.c[0]>1||L&&K.c[1]>=24e7:K.c[0]<8e13||L&&K.c[0]<=9999975e7)))return B=K.s<0&&eu(b)?-0:0,K.e>-1&&(B=1/B),new y(q?1/B:B);h&&(B=Dh(h/At+2))}for(L?(A=new y(.5),q&&(b.s=1),W=eu(b)):(j=Math.abs(+E(b)),W=j%2),z=new y(o);;){if(W){if(z=z.times(K),!z.c)break;B?z.c.length>B&&(z.c.length=B):N&&(z=z.mod(x))}if(j){if(j=Gi(j/2),j===0)break;W=j%2}else if(b=b.times(A),O(b,b.e+1,1),b.e>14)W=eu(b);else{if(j=+E(b),j===0)break;W=j%2}K=K.times(K),B?K.c&&K.c.length>B&&(K.c.length=B):N&&(K=K.mod(x))}return N?z:(q&&(z=o.div(z)),x?z.mod(x):B?O(z,h,a,$):z)},i.integerValue=function(b){var x=new y(this);return b==null?b=a:zr(b,0,8),O(x,x.e+1,b)},i.isEqualTo=i.eq=function(b,x){return Yo(this,new y(b,x))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(b,x){return Yo(this,new y(b,x))>0},i.isGreaterThanOrEqualTo=i.gte=function(b,x){return(x=Yo(this,new y(b,x)))===1||x===0},i.isInteger=function(){return!!this.c&&Ki(this.e/At)>this.c.length-2},i.isLessThan=i.lt=function(b,x){return Yo(this,new y(b,x))<0},i.isLessThanOrEqualTo=i.lte=function(b,x){return(x=Yo(this,new y(b,x)))===-1||x===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(b,x){var A,N,j,B,$=this,L=$.s;if(b=new y(b,x),x=b.s,!L||!x)return new y(NaN);if(L!=x)return b.s=-x,$.plus(b);var q=$.e/At,W=b.e/At,z=$.c,K=b.c;if(!q||!W){if(!z||!K)return z?(b.s=-x,b):new y(K?$:NaN);if(!z[0]||!K[0])return K[0]?(b.s=-x,b):new y(z[0]?$:a==3?-0:0)}if(q=Ki(q),W=Ki(W),z=z.slice(),L=q-W){for((B=L<0)?(L=-L,j=z):(W=q,j=K),j.reverse(),x=L;x--;j.push(0));j.reverse()}else for(N=(B=(L=z.length)<(x=K.length))?L:x,L=x=0;x<N;x++)if(z[x]!=K[x]){B=z[x]<K[x];break}if(B&&(j=z,z=K,K=j,b.s=-b.s),x=(N=K.length)-(A=z.length),x>0)for(;x--;z[A++]=0);for(x=fs-1;N>L;){if(z[--N]<K[N]){for(A=N;A&&!z[--A];z[A]=x);--z[A],z[N]+=fs}z[N]-=K[N]}for(;z[0]==0;z.splice(0,1),--W);return z[0]?D(b,z,W):(b.s=a==3?-1:1,b.c=[b.e=0],b)},i.modulo=i.mod=function(b,x){var A,N,j=this;return b=new y(b,x),!j.c||!b.s||b.c&&!b.c[0]?new y(NaN):!b.c||j.c&&!j.c[0]?new y(j):(p==9?(N=b.s,b.s=1,A=t(j,b,0,3),b.s=N,A.s*=N):A=t(j,b,0,p),b=j.minus(A.times(b)),!b.c[0]&&p==1&&(b.s=j.s),b)},i.multipliedBy=i.times=function(b,x){var A,N,j,B,$,L,q,W,z,K,se,re,we,fe,me,ge=this,Ie=ge.c,ne=(b=new y(b,x)).c;if(!Ie||!ne||!Ie[0]||!ne[0])return!ge.s||!b.s||Ie&&!Ie[0]&&!ne||ne&&!ne[0]&&!Ie?b.c=b.e=b.s=null:(b.s*=ge.s,!Ie||!ne?b.c=b.e=null:(b.c=[0],b.e=0)),b;for(N=Ki(ge.e/At)+Ki(b.e/At),b.s*=ge.s,q=Ie.length,K=ne.length,q<K&&(we=Ie,Ie=ne,ne=we,j=q,q=K,K=j),j=q+K,we=[];j--;we.push(0));for(fe=fs,me=Oo,j=K;--j>=0;){for(A=0,se=ne[j]%me,re=ne[j]/me|0,$=q,B=j+$;B>j;)W=Ie[--$]%me,z=Ie[$]/me|0,L=re*W+z*se,W=se*W+L%me*me+we[B]+A,A=(W/fe|0)+(L/me|0)+re*z,we[B--]=W%fe;we[B]=A}return A?++N:we.splice(0,1),D(b,we,N)},i.negated=function(){var b=new y(this);return b.s=-b.s||null,b},i.plus=function(b,x){var A,N=this,j=N.s;if(b=new y(b,x),x=b.s,!j||!x)return new y(NaN);if(j!=x)return b.s=-x,N.minus(b);var B=N.e/At,$=b.e/At,L=N.c,q=b.c;if(!B||!$){if(!L||!q)return new y(j/0);if(!L[0]||!q[0])return q[0]?b:new y(L[0]?N:j*0)}if(B=Ki(B),$=Ki($),L=L.slice(),j=B-$){for(j>0?($=B,A=q):(j=-j,A=L),A.reverse();j--;A.push(0));A.reverse()}for(j=L.length,x=q.length,j-x<0&&(A=q,q=L,L=A,x=j),j=0;x;)j=(L[--x]=L[x]+q[x]+j)/fs|0,L[x]=fs===L[x]?0:L[x]%fs;return j&&(L=[j].concat(L),++$),D(b,L,$)},i.precision=i.sd=function(b,x){var A,N,j,B=this;if(b!=null&&b!==!!b)return zr(b,1,Sn),x==null?x=a:zr(x,0,8),O(new y(B),b,x);if(!(A=B.c))return null;if(j=A.length-1,N=j*At+1,j=A[j]){for(;j%10==0;j/=10,N--);for(j=A[0];j>=10;j/=10,N++);}return b&&B.e+1>N&&(N=B.e+1),N},i.shiftedBy=function(b){return zr(b,-Th,Th),this.times("1e"+b)},i.squareRoot=i.sqrt=function(){var b,x,A,N,j,B=this,$=B.c,L=B.s,q=B.e,W=c+4,z=new y("0.5");if(L!==1||!$||!$[0])return new y(!L||L<0&&(!$||$[0])?NaN:$?B:1/0);if(L=Math.sqrt(+E(B)),L==0||L==1/0?(x=Vi($),(x.length+q)%2==0&&(x+="0"),L=Math.sqrt(+x),q=Ki((q+1)/2)-(q<0||q%2),L==1/0?x="5e"+q:(x=L.toExponential(),x=x.slice(0,x.indexOf("e")+1)+q),A=new y(x)):A=new y(L+""),A.c[0]){for(q=A.e,L=q+W,L<3&&(L=0);;)if(j=A,A=z.times(j.plus(t(B,j,W,1))),Vi(j.c).slice(0,L)===(x=Vi(A.c)).slice(0,L))if(A.e<q&&--L,x=x.slice(L-3,L+1),x=="9999"||!N&&x=="4999"){if(!N&&(O(j,j.e+c+2,0),j.times(j).eq(B))){A=j;break}W+=4,L+=4,N=1}else{(!+x||!+x.slice(1)&&x.charAt(0)=="5")&&(O(A,A.e+c+2,1),b=!A.times(A).eq(B));break}}return O(A,A.e+c+1,a,b)},i.toExponential=function(b,x){return b!=null&&(zr(b,0,Sn),b++),C(this,b,x,1)},i.toFixed=function(b,x){return b!=null&&(zr(b,0,Sn),b=b+this.e+1),C(this,b,x)},i.toFormat=function(b,x,A){var N,j=this;if(A==null)b!=null&&x&&typeof x=="object"?(A=x,x=null):b&&typeof b=="object"?(A=b,b=x=null):A=v;else if(typeof A!="object")throw Error(pi+"Argument not an object: "+A);if(N=j.toFixed(b,x),j.c){var B,$=N.split("."),L=+A.groupSize,q=+A.secondaryGroupSize,W=A.groupSeparator||"",z=$[0],K=$[1],se=j.s<0,re=se?z.slice(1):z,we=re.length;if(q&&(B=L,L=q,q=B,we-=B),L>0&&we>0){for(B=we%L||L,z=re.substr(0,B);B<we;B+=L)z+=W+re.substr(B,L);q>0&&(z+=W+re.slice(B)),se&&(z="-"+z)}N=K?z+(A.decimalSeparator||"")+((q=+A.fractionGroupSize)?K.replace(new RegExp("\\d{"+q+"}\\B","g"),"$&"+(A.fractionGroupSeparator||"")):K):z}return(A.prefix||"")+N+(A.suffix||"")},i.toFraction=function(b){var x,A,N,j,B,$,L,q,W,z,K,se,re=this,we=re.c;if(b!=null&&(L=new y(b),!L.isInteger()&&(L.c||L.s!==1)||L.lt(o)))throw Error(pi+"Argument "+(L.isInteger()?"out of range: ":"not an integer: ")+E(L));if(!we)return new y(re);for(x=new y(o),W=A=new y(o),N=q=new y(o),se=Vi(we),B=x.e=se.length-re.e-1,x.c[0]=Ph[($=B%At)<0?At+$:$],b=!b||L.comparedTo(x)>0?B>0?x:W:L,$=u,u=1/0,L=new y(se),q.c[0]=0;z=t(L,x,0,1),j=A.plus(z.times(N)),j.comparedTo(b)!=1;)A=N,N=j,W=q.plus(z.times(j=W)),q=j,x=L.minus(z.times(j=x)),L=j;return j=t(b.minus(A),N,0,1),q=q.plus(j.times(W)),A=A.plus(j.times(N)),q.s=W.s=re.s,B=B*2,K=t(W,N,B,a).minus(re).abs().comparedTo(t(q,A,B,a).minus(re).abs())<1?[W,N]:[q,A],u=$,K},i.toNumber=function(){return+E(this)},i.toPrecision=function(b,x){return b!=null&&zr(b,1,Sn),C(this,b,x,2)},i.toString=function(b){var x,A=this,N=A.s,j=A.e;return j===null?N?(x="Infinity",N<0&&(x="-"+x)):x="NaN":(b==null?x=j<=m||j>=f?tu(Vi(A.c),j):so(Vi(A.c),j,"0"):b===10&&_?(A=O(new y(A),c+j+1,a),x=so(Vi(A.c),A.e,"0")):(zr(b,2,w.length,"Base"),x=r(so(Vi(A.c),j,"0"),10,b,N,!0)),N<0&&A.c[0]&&(x="-"+x)),x},i.valueOf=i.toJSON=function(){return E(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,e!=null&&y.set(e),y}function Ki(e){var t=e|0;return e>0||e===t?t:t-1}function Vi(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(t=e[n++]+"",r=At-t.length;r--;t="0"+t);o+=t}for(i=o.length;o.charCodeAt(--i)===48;);return o.slice(0,i+1||1)}function Yo(e,t){var r,n,i=e.c,o=t.c,c=e.s,a=t.s,m=e.e,f=t.e;if(!c||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:c;if(c!=a)return c;if(r=c<0,n=m==f,!i||!o)return n?0:!i^r?1:-1;if(!n)return m>f^r?1:-1;for(a=(m=i.length)<(f=o.length)?m:f,c=0;c<a;c++)if(i[c]!=o[c])return i[c]>o[c]^r?1:-1;return m==f?0:m>f^r?1:-1}function zr(e,t,r,n){if(e<t||e>r||e!==Gi(e))throw Error(pi+(n||"Argument")+(typeof e=="number"?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function eu(e){var t=e.c.length-1;return Ki(e.e/At)==t&&e.c[t]%2!=0}function tu(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function so(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(n=e.length,++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var ia=Hb();function qb(e){return new ia(e).div(1e18).toString(10)}var Lo;(function(e){e[e.ACCOUNT_ACCESS_REJECTED=4001]="ACCOUNT_ACCESS_REJECTED",e[e.ACCOUNT_ACCESS_ALREADY_REQUESTED=-32002]="ACCOUNT_ACCESS_ALREADY_REQUESTED",e[e.UNAUTHORIZED=4100]="UNAUTHORIZED",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.UNSUPPORTED_METHOD=4200]="UNSUPPORTED_METHOD",e[e.DISCONNECTED=4900]="DISCONNECTED",e[e.CHAIN_DISCONNECTED=4901]="CHAIN_DISCONNECTED",e[e.CHAIN_NOT_ADDED=4902]="CHAIN_NOT_ADDED",e[e.DOES_NOT_EXIST=-32601]="DOES_NOT_EXIST",e[e.UNRECOGNIZED_CHAIN_ID=-32603]="UNRECOGNIZED_CHAIN_ID"})(Lo||(Lo={}));function Qr(e,t){const r=e.validate(t);return r.error?r:null}const np=X.alternatives().try(X.string().pattern(/^0x[0-9a-fA-F]+$/),X.number().positive()),ip=X.string().valid("evm"),N7=X.object({url:X.string().required(),headers:X.object(),user:X.string(),password:X.string(),allowInsecureAuthentication:X.boolean(),allowGzip:X.boolean(),throttleLimit:X.number(),throttleSlotInterval:X.number(),throttleCallback:X.function(),timeout:X.number()}),k7=X.object({address:X.string().required(),icon:X.string().optional()}),M7=X.object({namespace:ip,id:np.required(),rpcUrl:X.string(),label:X.string(),token:X.string(),secondaryTokens:X.array().max(5).items(k7).optional(),icon:X.string(),color:X.string(),publicRpcUrl:X.string(),protectedRpcUrl:X.string(),blockExplorerUrl:X.string(),providerConnectionInfoValidation:N7});var Ou={exports:{}};Ou.exports;(function(e,t){var r=200,n="Expected a function",i="__lodash_hash_undefined__",o=1,c=2,a=1/0,m=9007199254740991,f="[object Arguments]",g="[object Array]",u="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Function]",v="[object GeneratorFunction]",w="[object Map]",_="[object Number]",y="[object Object]",C="[object Promise]",I="[object RegExp]",D="[object Set]",O="[object String]",E="[object Symbol]",b="[object WeakMap]",x="[object ArrayBuffer]",A="[object DataView]",N="[object Float32Array]",j="[object Float64Array]",B="[object Int8Array]",$="[object Int16Array]",L="[object Int32Array]",q="[object Uint8Array]",W="[object Uint8ClampedArray]",z="[object Uint16Array]",K="[object Uint32Array]",se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,we=/^\./,fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,me=/[\\^$.*+?()[\]{}|]/g,ge=/\\(\\)?/g,Ie=/^\[object .+?Constructor\]$/,ne=/^(?:0|[1-9]\d*)$/,J={};J[N]=J[j]=J[B]=J[$]=J[L]=J[q]=J[W]=J[z]=J[K]=!0,J[f]=J[g]=J[x]=J[u]=J[A]=J[d]=J[p]=J[h]=J[w]=J[_]=J[y]=J[I]=J[D]=J[O]=J[b]=!1;var te=typeof Vr=="object"&&Vr&&Vr.Object===Object&&Vr,R=typeof self=="object"&&self&&self.Object===Object&&self,Z=te||R||Function("return this")(),Oe=t&&!t.nodeType&&t,Le=Oe&&!0&&e&&!e.nodeType&&e,Ne=Le&&Le.exports===Oe,ke=Ne&&te.process,Et=function(){try{return ke&&ke.binding("util")}catch{}}(),dt=Et&&Et.isTypedArray;function ar(U,T,F,ee){for(var de=-1,_e=U?U.length:0;++de<_e;){var ve=U[de];T(ee,ve,F(ve),U)}return ee}function cr(U,T){for(var F=-1,ee=U?U.length:0;++F<ee;)if(T(U[F],F,U))return!0;return!1}function pt(U){return function(T){return T==null?void 0:T[U]}}function rt(U,T){for(var F=-1,ee=Array(U);++F<U;)ee[F]=T(F);return ee}function ct(U){return function(T){return U(T)}}function et(U,T){return U==null?void 0:U[T]}function gt(U){var T=!1;if(U!=null&&typeof U.toString!="function")try{T=!!(U+"")}catch{}return T}function ot(U){var T=-1,F=Array(U.size);return U.forEach(function(ee,de){F[++T]=[de,ee]}),F}function vt(U,T){return function(F){return U(T(F))}}function nt(U){var T=-1,F=Array(U.size);return U.forEach(function(ee){F[++T]=ee}),F}var it=Array.prototype,bt=Function.prototype,tt=Object.prototype,_t=Z["__core-js_shared__"],wt=function(){var U=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return U?"Symbol(src)_1."+U:""}(),Ot=bt.toString,yt=tt.hasOwnProperty,mt=tt.toString,mr=RegExp("^"+Ot.call(yt).replace(me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$r=Z.Symbol,vn=Z.Uint8Array,lr=tt.propertyIsEnumerable,en=it.splice,Hn=vt(Object.keys,Object),tn=qr(Z,"DataView"),rr=qr(Z,"Map"),Bt=qr(Z,"Promise"),ur=qr(Z,"Set"),fr=qr(Z,"WeakMap"),Kt=qr(Object,"create"),er=M(tn),Er=M(rr),Mt=M(Bt),hr=M(ur),dr=M(fr),ir=$r?$r.prototype:void 0,vr=ir?ir.valueOf:void 0,br=ir?ir.toString:void 0;function xt(U){var T=-1,F=U?U.length:0;for(this.clear();++T<F;){var ee=U[T];this.set(ee[0],ee[1])}}function Tr(){this.__data__=Kt?Kt(null):{}}function yr(U){return this.has(U)&&delete this.__data__[U]}function es(U){var T=this.__data__;if(Kt){var F=T[U];return F===i?void 0:F}return yt.call(T,U)?T[U]:void 0}function ms(U){var T=this.__data__;return Kt?T[U]!==void 0:yt.call(T,U)}function qn(U,T){var F=this.__data__;return F[U]=Kt&&T===void 0?i:T,this}xt.prototype.clear=Tr,xt.prototype.delete=yr,xt.prototype.get=es,xt.prototype.has=ms,xt.prototype.set=qn;function sr(U){var T=-1,F=U?U.length:0;for(this.clear();++T<F;){var ee=U[T];this.set(ee[0],ee[1])}}function Bs(){this.__data__=[]}function Hs(U){var T=this.__data__,F=Rn(T,U);if(F<0)return!1;var ee=T.length-1;return F==ee?T.pop():en.call(T,F,1),!0}function qs(U){var T=this.__data__,F=Rn(T,U);return F<0?void 0:T[F][1]}function Ws(U){return Rn(this.__data__,U)>-1}function In(U,T){var F=this.__data__,ee=Rn(F,U);return ee<0?F.push([U,T]):F[ee][1]=T,this}sr.prototype.clear=Bs,sr.prototype.delete=Hs,sr.prototype.get=qs,sr.prototype.has=Ws,sr.prototype.set=In;function Hr(U){var T=-1,F=U?U.length:0;for(this.clear();++T<F;){var ee=U[T];this.set(ee[0],ee[1])}}function ri(){this.__data__={hash:new xt,map:new(rr||sr),string:new xt}}function zs(U){return _n(this,U).delete(U)}function Wn(U){return _n(this,U).get(U)}function ts(U){return _n(this,U).has(U)}function An(U,T){return _n(this,U).set(U,T),this}Hr.prototype.clear=ri,Hr.prototype.delete=zs,Hr.prototype.get=Wn,Hr.prototype.has=ts,Hr.prototype.set=An;function bn(U){var T=-1,F=U?U.length:0;for(this.__data__=new Hr;++T<F;)this.add(U[T])}function rs(U){return this.__data__.set(U,i),this}function vs(U){return this.__data__.has(U)}bn.prototype.add=bn.prototype.push=rs,bn.prototype.has=vs;function Lr(U){this.__data__=new sr(U)}function Vs(){this.__data__=new sr}function ni(U){return this.__data__.delete(U)}function Gs(U){return this.__data__.get(U)}function Ks(U){return this.__data__.has(U)}function yn(U,T){var F=this.__data__;if(F instanceof sr){var ee=F.__data__;if(!rr||ee.length<r-1)return ee.push([U,T]),this;F=this.__data__=new Hr(ee)}return F.set(U,T),this}Lr.prototype.clear=Vs,Lr.prototype.delete=ni,Lr.prototype.get=Gs,Lr.prototype.has=Ks,Lr.prototype.set=yn;function bs(U,T){var F=Ge(U)||Ve(U)?rt(U.length,String):[],ee=F.length,de=!!ee;for(var _e in U)(T||yt.call(U,_e))&&!(de&&(_e=="length"||Ln(_e,ee)))&&F.push(_e);return F}function Rn(U,T){for(var F=U.length;F--;)if(Ee(U[F][0],T))return F;return-1}function ns(U,T,F,ee){return _i(U,function(de,_e,ve){T(ee,de,F(de),ve)}),ee}var _i=os(wi),is=Mi();function wi(U,T){return U&&is(U,T,kn)}function ii(U,T){T=Nn(T,U)?[T]:ss(T);for(var F=0,ee=T.length;U!=null&&F<ee;)U=U[oe(T[F++])];return F&&F==ee?U:void 0}function Ei(U){return mt.call(U)}function $i(U,T){return U!=null&&T in Object(U)}function Li(U,T,F,ee,de){return U===T?!0:U==null||T==null||!St(U)&&!Pt(T)?U!==U&&T!==T:si(U,T,Li,F,ee,de)}function si(U,T,F,ee,de,_e){var ve=Ge(U),We=Ge(T),Je=g,ut=g;ve||(Je=jr(U),Je=Je==f?y:Je),We||(ut=jr(T),ut=ut==f?y:ut);var Rt=Je==y&&!gt(U),Nt=ut==y&&!gt(T),Dt=Je==ut;if(Dt&&!Rt)return _e||(_e=new Lr),ve||an(U)?on(U,T,F,ee,de,_e):ji(U,T,Je,F,ee,de,_e);if(!(de&c)){var Vt=Rt&&yt.call(U,"__wrapped__"),Sr=Nt&&yt.call(T,"__wrapped__");if(Vt||Sr){var Pr=Vt?U.value():U,Nr=Sr?T.value():T;return _e||(_e=new Lr),F(Pr,Nr,ee,de,_e)}}return Dt?(_e||(_e=new Lr),Fi(U,T,F,ee,de,_e)):!1}function ys(U,T,F,ee){var de=F.length,_e=de,ve=!ee;if(U==null)return!_e;for(U=Object(U);de--;){var We=F[de];if(ve&&We[2]?We[1]!==U[We[0]]:!(We[0]in U))return!1}for(;++de<_e;){We=F[de];var Je=We[0],ut=U[Je],Rt=We[1];if(ve&&We[2]){if(ut===void 0&&!(Je in U))return!1}else{var Nt=new Lr;if(ee)var Dt=ee(ut,Rt,Je,U,T,Nt);if(!(Dt===void 0?Li(Rt,ut,ee,o|c,Nt):Dt))return!1}}return!0}function _s(U){if(!St(U)||xs(U))return!1;var T=at(U)||gt(U)?mr:Ie;return T.test(M(U))}function Ni(U){return Pt(U)&&Yt(U.length)&&!!J[mt.call(U)]}function oi(U){return typeof U=="function"?U:U==null?Gr:typeof U=="object"?Ge(U)?Es(U[0],U[1]):ws(U):ac(U)}function rn(U){if(!Is(U))return Hn(U);var T=[];for(var F in Object(U))yt.call(U,F)&&F!="constructor"&&T.push(F);return T}function ws(U){var T=Cs(U);return T.length==1&&T[0][2]?zt(T[0][0],T[0][1]):function(F){return F===U||ys(F,U,T)}}function Es(U,T){return Nn(U)&&Zt(T)?zt(oe(U),T):function(F){var ee=ci(F,U);return ee===void 0&&ee===T?Zs(F,U):Li(T,ee,void 0,o|c)}}function $n(U){return function(T){return ii(T,U)}}function ki(U){if(typeof U=="string")return U;if(Ar(U))return br?br.call(U):"";var T=U+"";return T=="0"&&1/U==-a?"-0":T}function ss(U){return Ge(U)?U:G(U)}function Ss(U,T){return function(F,ee){var de=Ge(F)?ar:ns,_e=T?T():{};return de(F,U,oi(ee),_e)}}function os(U,T){return function(F,ee){if(F==null)return F;if(!He(F))return U(F,ee);for(var de=F.length,_e=T?de:-1,ve=Object(F);(T?_e--:++_e<de)&&ee(ve[_e],_e,ve)!==!1;);return F}}function Mi(U){return function(T,F,ee){for(var de=-1,_e=Object(T),ve=ee(T),We=ve.length;We--;){var Je=ve[U?We:++de];if(F(_e[Je],Je,_e)===!1)break}return T}}function on(U,T,F,ee,de,_e){var ve=de&c,We=U.length,Je=T.length;if(We!=Je&&!(ve&&Je>We))return!1;var ut=_e.get(U);if(ut&&_e.get(T))return ut==T;var Rt=-1,Nt=!0,Dt=de&o?new bn:void 0;for(_e.set(U,T),_e.set(T,U);++Rt<We;){var Vt=U[Rt],Sr=T[Rt];if(ee)var Pr=ve?ee(Sr,Vt,Rt,T,U,_e):ee(Vt,Sr,Rt,U,T,_e);if(Pr!==void 0){if(Pr)continue;Nt=!1;break}if(Dt){if(!cr(T,function(Nr,ln){if(!Dt.has(ln)&&(Vt===Nr||F(Vt,Nr,ee,de,_e)))return Dt.add(ln)})){Nt=!1;break}}else if(!(Vt===Sr||F(Vt,Sr,ee,de,_e))){Nt=!1;break}}return _e.delete(U),_e.delete(T),Nt}function ji(U,T,F,ee,de,_e,ve){switch(F){case A:if(U.byteLength!=T.byteLength||U.byteOffset!=T.byteOffset)return!1;U=U.buffer,T=T.buffer;case x:return!(U.byteLength!=T.byteLength||!ee(new vn(U),new vn(T)));case u:case d:case _:return Ee(+U,+T);case p:return U.name==T.name&&U.message==T.message;case I:case O:return U==T+"";case w:var We=ot;case D:var Je=_e&c;if(We||(We=nt),U.size!=T.size&&!Je)return!1;var ut=ve.get(U);if(ut)return ut==T;_e|=o,ve.set(U,T);var Rt=on(We(U),We(T),ee,de,_e,ve);return ve.delete(U),Rt;case E:if(vr)return vr.call(U)==vr.call(T)}return!1}function Fi(U,T,F,ee,de,_e){var ve=de&c,We=kn(U),Je=We.length,ut=kn(T),Rt=ut.length;if(Je!=Rt&&!ve)return!1;for(var Nt=Je;Nt--;){var Dt=We[Nt];if(!(ve?Dt in T:yt.call(T,Dt)))return!1}var Vt=_e.get(U);if(Vt&&_e.get(T))return Vt==T;var Sr=!0;_e.set(U,T),_e.set(T,U);for(var Pr=ve;++Nt<Je;){Dt=We[Nt];var Nr=U[Dt],ln=T[Dt];if(ee)var Si=ve?ee(ln,Nr,Dt,T,U,_e):ee(Nr,ln,Dt,U,T,_e);if(!(Si===void 0?Nr===ln||F(Nr,ln,ee,de,_e):Si)){Sr=!1;break}Pr||(Pr=Dt=="constructor")}if(Sr&&!Pr){var As=U.constructor,Ci=T.constructor;As!=Ci&&"constructor"in U&&"constructor"in T&&!(typeof As=="function"&&As instanceof As&&typeof Ci=="function"&&Ci instanceof Ci)&&(Sr=!1)}return _e.delete(U),_e.delete(T),Sr}function _n(U,T){var F=U.__data__;return ai(T)?F[typeof T=="string"?"string":"hash"]:F.map}function Cs(U){for(var T=kn(U),F=T.length;F--;){var ee=T[F],de=U[ee];T[F]=[ee,de,Zt(de)]}return T}function qr(U,T){var F=et(U,T);return _s(F)?F:void 0}var jr=Ei;(tn&&jr(new tn(new ArrayBuffer(1)))!=A||rr&&jr(new rr)!=w||Bt&&jr(Bt.resolve())!=C||ur&&jr(new ur)!=D||fr&&jr(new fr)!=b)&&(jr=function(U){var T=mt.call(U),F=T==y?U.constructor:void 0,ee=F?M(F):void 0;if(ee)switch(ee){case er:return A;case Er:return w;case Mt:return C;case hr:return D;case dr:return b}return T});function wn(U,T,F){T=Nn(T,U)?[T]:ss(T);for(var ee,de=-1,ve=T.length;++de<ve;){var _e=oe(T[de]);if(!(ee=U!=null&&F(U,_e)))break;U=U[_e]}if(ee)return ee;var ve=U?U.length:0;return!!ve&&Yt(ve)&&Ln(_e,ve)&&(Ge(U)||Ve(U))}function Ln(U,T){return T=T??m,!!T&&(typeof U=="number"||ne.test(U))&&U>-1&&U%1==0&&U<T}function Nn(U,T){if(Ge(U))return!1;var F=typeof U;return F=="number"||F=="symbol"||F=="boolean"||U==null||Ar(U)?!0:re.test(U)||!se.test(U)||T!=null&&U in Object(T)}function ai(U){var T=typeof U;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?U!=="__proto__":U===null}function xs(U){return!!wt&&wt in U}function Is(U){var T=U&&U.constructor,F=typeof T=="function"&&T.prototype||tt;return U===F}function Zt(U){return U===U&&!St(U)}function zt(U,T){return function(F){return F==null?!1:F[U]===T&&(T!==void 0||U in Object(F))}}var G=ce(function(U){U=cn(U);var T=[];return we.test(U)&&T.push(""),U.replace(fe,function(F,ee,de,_e){T.push(de?_e.replace(ge,"$1"):ee||F)}),T});function oe(U){if(typeof U=="string"||Ar(U))return U;var T=U+"";return T=="0"&&1/U==-a?"-0":T}function M(U){if(U!=null){try{return Ot.call(U)}catch{}try{return U+""}catch{}}return""}var Y=Ss(function(U,T,F){U[F?0:1].push(T)},function(){return[[],[]]});function ce(U,T){if(typeof U!="function"||T&&typeof T!="function")throw new TypeError(n);var F=function(){var ee=arguments,de=T?T.apply(this,ee):ee[0],_e=F.cache;if(_e.has(de))return _e.get(de);var ve=U.apply(this,ee);return F.cache=_e.set(de,ve),ve};return F.cache=new(ce.Cache||Hr),F}ce.Cache=Hr;function Ee(U,T){return U===T||U!==U&&T!==T}function Ve(U){return qe(U)&&yt.call(U,"callee")&&(!lr.call(U,"callee")||mt.call(U)==f)}var Ge=Array.isArray;function He(U){return U!=null&&Yt(U.length)&&!at(U)}function qe(U){return Pt(U)&&He(U)}function at(U){var T=St(U)?mt.call(U):"";return T==h||T==v}function Yt(U){return typeof U=="number"&&U>-1&&U%1==0&&U<=m}function St(U){var T=typeof U;return!!U&&(T=="object"||T=="function")}function Pt(U){return!!U&&typeof U=="object"}function Ar(U){return typeof U=="symbol"||Pt(U)&&mt.call(U)==E}var an=dt?ct(dt):Ni;function cn(U){return U==null?"":ki(U)}function ci(U,T,F){var ee=U==null?void 0:ii(U,T);return ee===void 0?F:ee}function Zs(U,T){return U!=null&&wn(U,T,$i)}function kn(U){return He(U)?bs(U):rn(U)}function Gr(U){return U}function ac(U){return Nn(U)?pt(oe(U)):$n(U)}e.exports=Y})(Ou,Ou.exports);var j7=Ou.exports;const F7=mo(j7);var Du={exports:{}};Du.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",i=800,o=16,c=9007199254740991,a="[object Arguments]",m="[object Array]",f="[object AsyncFunction]",g="[object Boolean]",u="[object Date]",d="[object Error]",p="[object Function]",h="[object GeneratorFunction]",v="[object Map]",w="[object Number]",_="[object Null]",y="[object Object]",C="[object Proxy]",I="[object RegExp]",D="[object Set]",O="[object String]",E="[object Undefined]",b="[object WeakMap]",x="[object ArrayBuffer]",A="[object DataView]",N="[object Float32Array]",j="[object Float64Array]",B="[object Int8Array]",$="[object Int16Array]",L="[object Int32Array]",q="[object Uint8Array]",W="[object Uint8ClampedArray]",z="[object Uint16Array]",K="[object Uint32Array]",se=/[\\^$.*+?()[\]{}|]/g,re=/^\[object .+?Constructor\]$/,we=/^(?:0|[1-9]\d*)$/,fe={};fe[N]=fe[j]=fe[B]=fe[$]=fe[L]=fe[q]=fe[W]=fe[z]=fe[K]=!0,fe[a]=fe[m]=fe[x]=fe[g]=fe[A]=fe[u]=fe[d]=fe[p]=fe[v]=fe[w]=fe[y]=fe[I]=fe[D]=fe[O]=fe[b]=!1;var me=typeof Vr=="object"&&Vr&&Vr.Object===Object&&Vr,ge=typeof self=="object"&&self&&self.Object===Object&&self,Ie=me||ge||Function("return this")(),ne=t&&!t.nodeType&&t,J=ne&&!0&&e&&!e.nodeType&&e,te=J&&J.exports===ne,R=te&&me.process,Z=function(){try{var M=J&&J.require&&J.require("util").types;return M||R&&R.binding&&R.binding("util")}catch{}}(),Oe=Z&&Z.isTypedArray;function Le(M,Y,ce){switch(ce.length){case 0:return M.call(Y);case 1:return M.call(Y,ce[0]);case 2:return M.call(Y,ce[0],ce[1]);case 3:return M.call(Y,ce[0],ce[1],ce[2])}return M.apply(Y,ce)}function Ne(M,Y){for(var ce=-1,Ee=Array(M);++ce<M;)Ee[ce]=Y(ce);return Ee}function ke(M){return function(Y){return M(Y)}}function Et(M,Y){return M==null?void 0:M[Y]}function dt(M,Y){return function(ce){return M(Y(ce))}}var ar=Array.prototype,cr=Function.prototype,pt=Object.prototype,rt=Ie["__core-js_shared__"],ct=cr.toString,et=pt.hasOwnProperty,gt=function(){var M=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||"");return M?"Symbol(src)_1."+M:""}(),ot=pt.toString,vt=ct.call(Object),nt=RegExp("^"+ct.call(et).replace(se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=te?Ie.Buffer:void 0,bt=Ie.Symbol,tt=Ie.Uint8Array,_t=it?it.allocUnsafe:void 0,wt=dt(Object.getPrototypeOf,Object),Ot=Object.create,yt=pt.propertyIsEnumerable,mt=ar.splice,mr=bt?bt.toStringTag:void 0,$r=function(){try{var M=$i(Object,"defineProperty");return M({},"",{}),M}catch{}}(),vn=it?it.isBuffer:void 0,lr=Math.max,en=Date.now,Hn=$i(Ie,"Map"),tn=$i(Object,"create"),rr=function(){function M(){}return function(Y){if(!wn(Y))return{};if(Ot)return Ot(Y);M.prototype=Y;var ce=new M;return M.prototype=void 0,ce}}();function Bt(M){var Y=-1,ce=M==null?0:M.length;for(this.clear();++Y<ce;){var Ee=M[Y];this.set(Ee[0],Ee[1])}}function ur(){this.__data__=tn?tn(null):{},this.size=0}function fr(M){var Y=this.has(M)&&delete this.__data__[M];return this.size-=Y?1:0,Y}function Kt(M){var Y=this.__data__;if(tn){var ce=Y[M];return ce===n?void 0:ce}return et.call(Y,M)?Y[M]:void 0}function er(M){var Y=this.__data__;return tn?Y[M]!==void 0:et.call(Y,M)}function Er(M,Y){var ce=this.__data__;return this.size+=this.has(M)?0:1,ce[M]=tn&&Y===void 0?n:Y,this}Bt.prototype.clear=ur,Bt.prototype.delete=fr,Bt.prototype.get=Kt,Bt.prototype.has=er,Bt.prototype.set=Er;function Mt(M){var Y=-1,ce=M==null?0:M.length;for(this.clear();++Y<ce;){var Ee=M[Y];this.set(Ee[0],Ee[1])}}function hr(){this.__data__=[],this.size=0}function dr(M){var Y=this.__data__,ce=Wn(Y,M);if(ce<0)return!1;var Ee=Y.length-1;return ce==Ee?Y.pop():mt.call(Y,ce,1),--this.size,!0}function ir(M){var Y=this.__data__,ce=Wn(Y,M);return ce<0?void 0:Y[ce][1]}function vr(M){return Wn(this.__data__,M)>-1}function br(M,Y){var ce=this.__data__,Ee=Wn(ce,M);return Ee<0?(++this.size,ce.push([M,Y])):ce[Ee][1]=Y,this}Mt.prototype.clear=hr,Mt.prototype.delete=dr,Mt.prototype.get=ir,Mt.prototype.has=vr,Mt.prototype.set=br;function xt(M){var Y=-1,ce=M==null?0:M.length;for(this.clear();++Y<ce;){var Ee=M[Y];this.set(Ee[0],Ee[1])}}function Tr(){this.size=0,this.__data__={hash:new Bt,map:new(Hn||Mt),string:new Bt}}function yr(M){var Y=Ei(this,M).delete(M);return this.size-=Y?1:0,Y}function es(M){return Ei(this,M).get(M)}function ms(M){return Ei(this,M).has(M)}function qn(M,Y){var ce=Ei(this,M),Ee=ce.size;return ce.set(M,Y),this.size+=ce.size==Ee?0:1,this}xt.prototype.clear=Tr,xt.prototype.delete=yr,xt.prototype.get=es,xt.prototype.has=ms,xt.prototype.set=qn;function sr(M){var Y=this.__data__=new Mt(M);this.size=Y.size}function Bs(){this.__data__=new Mt,this.size=0}function Hs(M){var Y=this.__data__,ce=Y.delete(M);return this.size=Y.size,ce}function qs(M){return this.__data__.get(M)}function Ws(M){return this.__data__.has(M)}function In(M,Y){var ce=this.__data__;if(ce instanceof Mt){var Ee=ce.__data__;if(!Hn||Ee.length<r-1)return Ee.push([M,Y]),this.size=++ce.size,this;ce=this.__data__=new xt(Ee)}return ce.set(M,Y),this.size=ce.size,this}sr.prototype.clear=Bs,sr.prototype.delete=Hs,sr.prototype.get=qs,sr.prototype.has=Ws,sr.prototype.set=In;function Hr(M,Y){var ce=ji(M),Ee=!ce&&on(M),Ve=!ce&&!Ee&&Cs(M),Ge=!ce&&!Ee&&!Ve&&ai(M),He=ce||Ee||Ve||Ge,qe=He?Ne(M.length,String):[],at=qe.length;for(var Yt in M)(Y||et.call(M,Yt))&&!(He&&(Yt=="length"||Ve&&(Yt=="offset"||Yt=="parent")||Ge&&(Yt=="buffer"||Yt=="byteLength"||Yt=="byteOffset")||ys(Yt,at)))&&qe.push(Yt);return qe}function ri(M,Y,ce){(ce!==void 0&&!Mi(M[Y],ce)||ce===void 0&&!(Y in M))&&ts(M,Y,ce)}function zs(M,Y,ce){var Ee=M[Y];(!(et.call(M,Y)&&Mi(Ee,ce))||ce===void 0&&!(Y in M))&&ts(M,Y,ce)}function Wn(M,Y){for(var ce=M.length;ce--;)if(Mi(M[ce][0],Y))return ce;return-1}function ts(M,Y,ce){Y=="__proto__"&&$r?$r(M,Y,{configurable:!0,enumerable:!0,value:ce,writable:!0}):M[Y]=ce}var An=ii();function bn(M){return M==null?M===void 0?E:_:mr&&mr in Object(M)?Li(M):Es(M)}function rs(M){return Ln(M)&&bn(M)==a}function vs(M){if(!wn(M)||oi(M))return!1;var Y=qr(M)?nt:re;return Y.test(os(M))}function Lr(M){return Ln(M)&&jr(M.length)&&!!fe[bn(M)]}function Vs(M){if(!wn(M))return ws(M);var Y=rn(M),ce=[];for(var Ee in M)Ee=="constructor"&&(Y||!et.call(M,Ee))||ce.push(Ee);return ce}function ni(M,Y,ce,Ee,Ve){M!==Y&&An(Y,function(Ge,He){if(Ve||(Ve=new sr),wn(Ge))Gs(M,Y,He,ce,ni,Ee,Ve);else{var qe=Ee?Ee(ki(M,He),Ge,He+"",M,Y,Ve):void 0;qe===void 0&&(qe=Ge),ri(M,He,qe)}},Is)}function Gs(M,Y,ce,Ee,Ve,Ge,He){var qe=ki(M,ce),at=ki(Y,ce),Yt=He.get(at);if(Yt){ri(M,ce,Yt);return}var St=Ge?Ge(qe,at,ce+"",M,Y,He):void 0,Pt=St===void 0;if(Pt){var Ar=ji(at),an=!Ar&&Cs(at),cn=!Ar&&!an&&ai(at);St=at,Ar||an||cn?ji(qe)?St=qe:_n(qe)?St=_i(qe):an?(Pt=!1,St=bs(at,!0)):cn?(Pt=!1,St=ns(at,!0)):St=[]:Nn(at)||on(at)?(St=qe,on(qe)?St=xs(qe):(!wn(qe)||qr(qe))&&(St=si(at))):Pt=!1}Pt&&(He.set(at,St),Ve(St,at,Ee,Ge,He),He.delete(at)),ri(M,ce,St)}function Ks(M,Y){return ss($n(M,Y,G),M+"")}var yn=$r?function(M,Y){return $r(M,"toString",{configurable:!0,enumerable:!1,value:zt(Y),writable:!0})}:G;function bs(M,Y){if(Y)return M.slice();var ce=M.length,Ee=_t?_t(ce):new M.constructor(ce);return M.copy(Ee),Ee}function Rn(M){var Y=new M.constructor(M.byteLength);return new tt(Y).set(new tt(M)),Y}function ns(M,Y){var ce=Y?Rn(M.buffer):M.buffer;return new M.constructor(ce,M.byteOffset,M.length)}function _i(M,Y){var ce=-1,Ee=M.length;for(Y||(Y=Array(Ee));++ce<Ee;)Y[ce]=M[ce];return Y}function is(M,Y,ce,Ee){var Ve=!ce;ce||(ce={});for(var Ge=-1,He=Y.length;++Ge<He;){var qe=Y[Ge],at=Ee?Ee(ce[qe],M[qe],qe,ce,M):void 0;at===void 0&&(at=M[qe]),Ve?ts(ce,qe,at):zs(ce,qe,at)}return ce}function wi(M){return Ks(function(Y,ce){var Ee=-1,Ve=ce.length,Ge=Ve>1?ce[Ve-1]:void 0,He=Ve>2?ce[2]:void 0;for(Ge=M.length>3&&typeof Ge=="function"?(Ve--,Ge):void 0,He&&_s(ce[0],ce[1],He)&&(Ge=Ve<3?void 0:Ge,Ve=1),Y=Object(Y);++Ee<Ve;){var qe=ce[Ee];qe&&M(Y,qe,Ee,Ge)}return Y})}function ii(M){return function(Y,ce,Ee){for(var Ve=-1,Ge=Object(Y),He=Ee(Y),qe=He.length;qe--;){var at=He[M?qe:++Ve];if(ce(Ge[at],at,Ge)===!1)break}return Y}}function Ei(M,Y){var ce=M.__data__;return Ni(Y)?ce[typeof Y=="string"?"string":"hash"]:ce.map}function $i(M,Y){var ce=Et(M,Y);return vs(ce)?ce:void 0}function Li(M){var Y=et.call(M,mr),ce=M[mr];try{M[mr]=void 0;var Ee=!0}catch{}var Ve=ot.call(M);return Ee&&(Y?M[mr]=ce:delete M[mr]),Ve}function si(M){return typeof M.constructor=="function"&&!rn(M)?rr(wt(M)):{}}function ys(M,Y){var ce=typeof M;return Y=Y??c,!!Y&&(ce=="number"||ce!="symbol"&&we.test(M))&&M>-1&&M%1==0&&M<Y}function _s(M,Y,ce){if(!wn(ce))return!1;var Ee=typeof Y;return(Ee=="number"?Fi(ce)&&ys(Y,ce.length):Ee=="string"&&Y in ce)?Mi(ce[Y],M):!1}function Ni(M){var Y=typeof M;return Y=="string"||Y=="number"||Y=="symbol"||Y=="boolean"?M!=="__proto__":M===null}function oi(M){return!!gt&&gt in M}function rn(M){var Y=M&&M.constructor,ce=typeof Y=="function"&&Y.prototype||pt;return M===ce}function ws(M){var Y=[];if(M!=null)for(var ce in Object(M))Y.push(ce);return Y}function Es(M){return ot.call(M)}function $n(M,Y,ce){return Y=lr(Y===void 0?M.length-1:Y,0),function(){for(var Ee=arguments,Ve=-1,Ge=lr(Ee.length-Y,0),He=Array(Ge);++Ve<Ge;)He[Ve]=Ee[Y+Ve];Ve=-1;for(var qe=Array(Y+1);++Ve<Y;)qe[Ve]=Ee[Ve];return qe[Y]=ce(He),Le(M,this,qe)}}function ki(M,Y){if(!(Y==="constructor"&&typeof M[Y]=="function")&&Y!="__proto__")return M[Y]}var ss=Ss(yn);function Ss(M){var Y=0,ce=0;return function(){var Ee=en(),Ve=o-(Ee-ce);if(ce=Ee,Ve>0){if(++Y>=i)return arguments[0]}else Y=0;return M.apply(void 0,arguments)}}function os(M){if(M!=null){try{return ct.call(M)}catch{}try{return M+""}catch{}}return""}function Mi(M,Y){return M===Y||M!==M&&Y!==Y}var on=rs(function(){return arguments}())?rs:function(M){return Ln(M)&&et.call(M,"callee")&&!yt.call(M,"callee")},ji=Array.isArray;function Fi(M){return M!=null&&jr(M.length)&&!qr(M)}function _n(M){return Ln(M)&&Fi(M)}var Cs=vn||oe;function qr(M){if(!wn(M))return!1;var Y=bn(M);return Y==p||Y==h||Y==f||Y==C}function jr(M){return typeof M=="number"&&M>-1&&M%1==0&&M<=c}function wn(M){var Y=typeof M;return M!=null&&(Y=="object"||Y=="function")}function Ln(M){return M!=null&&typeof M=="object"}function Nn(M){if(!Ln(M)||bn(M)!=y)return!1;var Y=wt(M);if(Y===null)return!0;var ce=et.call(Y,"constructor")&&Y.constructor;return typeof ce=="function"&&ce instanceof ce&&ct.call(ce)==vt}var ai=Oe?ke(Oe):Lr;function xs(M){return is(M,Is(M))}function Is(M){return Fi(M)?Hr(M,!0):Vs(M)}var Zt=wi(function(M,Y,ce){ni(M,Y,ce)});function zt(M){return function(){return M}}function G(M){return M}function oe(){return!1}e.exports=Zt})(Du,Du.exports);var U7=Du.exports;const B7=mo(U7);var Wb={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(m,f,g){this.fn=m,this.context=f,this.once=g||!1}function o(m,f,g,u,d){if(typeof g!="function")throw new TypeError("The listener must be a function");var p=new i(g,u||m,d),h=r?r+f:f;return m._events[h]?m._events[h].fn?m._events[h]=[m._events[h],p]:m._events[h].push(p):(m._events[h]=p,m._eventsCount++),m}function c(m,f){--m._eventsCount===0?m._events=new n:delete m._events[f]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var f=[],g,u;if(this._eventsCount===0)return f;for(u in g=this._events)t.call(g,u)&&f.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},a.prototype.listeners=function(f){var g=r?r+f:f,u=this._events[g];if(!u)return[];if(u.fn)return[u.fn];for(var d=0,p=u.length,h=new Array(p);d<p;d++)h[d]=u[d].fn;return h},a.prototype.listenerCount=function(f){var g=r?r+f:f,u=this._events[g];return u?u.fn?1:u.length:0},a.prototype.emit=function(f,g,u,d,p,h){var v=r?r+f:f;if(!this._events[v])return!1;var w=this._events[v],_=arguments.length,y,C;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),_){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,g),!0;case 3:return w.fn.call(w.context,g,u),!0;case 4:return w.fn.call(w.context,g,u,d),!0;case 5:return w.fn.call(w.context,g,u,d,p),!0;case 6:return w.fn.call(w.context,g,u,d,p,h),!0}for(C=1,y=new Array(_-1);C<_;C++)y[C-1]=arguments[C];w.fn.apply(w.context,y)}else{var I=w.length,D;for(C=0;C<I;C++)switch(w[C].once&&this.removeListener(f,w[C].fn,void 0,!0),_){case 1:w[C].fn.call(w[C].context);break;case 2:w[C].fn.call(w[C].context,g);break;case 3:w[C].fn.call(w[C].context,g,u);break;case 4:w[C].fn.call(w[C].context,g,u,d);break;default:if(!y)for(D=1,y=new Array(_-1);D<_;D++)y[D-1]=arguments[D];w[C].fn.apply(w[C].context,y)}}return!0},a.prototype.on=function(f,g,u){return o(this,f,g,u,!1)},a.prototype.once=function(f,g,u){return o(this,f,g,u,!0)},a.prototype.removeListener=function(f,g,u,d){var p=r?r+f:f;if(!this._events[p])return this;if(!g)return c(this,p),this;var h=this._events[p];if(h.fn)h.fn===g&&(!d||h.once)&&(!u||h.context===u)&&c(this,p);else{for(var v=0,w=[],_=h.length;v<_;v++)(h[v].fn!==g||d&&!h[v].once||u&&h[v].context!==u)&&w.push(h[v]);w.length?this._events[p]=w.length===1?w[0]:w:c(this,p)}return this},a.prototype.removeAllListeners=function(f){var g;return f?(g=r?r+f:f,this._events[g]&&c(this,g)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(Wb);var H7=Wb.exports;const q7=mo(H7);var zb=`<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="56" height="56" rx="8" fill="#262A3D"/>
<g clip-path="url(#clip0_15747_103507)">
<path d="M20.6176 35.9801L16.0142 27.9949H25.2218L29.826 35.9801H20.6176Z" fill="#262A3D"/>
<path d="M20.6176 35.9801L16.0142 27.9949H25.2218L29.826 35.9801H20.6176Z" fill="white"/>
<path d="M25.2218 27.9947H16.0142L20.6176 20.0095H29.826L25.2218 27.9947Z" fill="url(#paint0_linear_15747_103507)"/>
<path d="M34.4302 27.9948L29.826 20.0096H20.6176L16.0142 12.0244H34.4302L43.6379 27.9948H34.4302Z" fill="#262A3D"/>
<path d="M34.4302 27.9948L29.826 20.0096H20.6176L16.0142 12.0244H34.4302L43.6379 27.9948H34.4302Z" fill="white"/>
<path d="M34.4302 43.9652H16.0142L20.6176 35.9801H29.826L34.4302 27.9949H43.6379L34.4302 43.9652Z" fill="url(#paint1_linear_15747_103507)"/>
</g>
<defs>
<linearGradient id="paint0_linear_15747_103507" x1="16.0142" y1="24.0021" x2="29.826" y2="24.0021" gradientUnits="userSpaceOnUse">
<stop stop-color="#55CCFE"/>
<stop offset="1" stop-color="#5E93EF"/>
</linearGradient>
<linearGradient id="paint1_linear_15747_103507" x1="76.5102" y1="5214.05" x2="10391.8" y2="5214.05" gradientUnits="userSpaceOnUse">
<stop stop-color="#55CCFE"/>
<stop offset="1" stop-color="#5E93EF"/>
</linearGradient>
<clipPath id="clip0_15747_103507">
<rect width="27.6667" height="32" fill="white" transform="translate(16 12)"/>
</clipPath>
</defs>
</svg>
`,W7=`
<svg width="152" height="16" viewBox="0 0 152 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4.03641 6.252C3.23241 6.252 2.41641 6.636 2.04441 7.272V6.396H1.00041V14.724H2.04441V11.124C2.41641 11.784 3.20841 12.144 4.04841 12.144C5.58441 12.144 6.84441 10.98 6.84441 9.204C6.84441 7.44 5.57241 6.252 4.03641 6.252ZM3.94041 11.16C3.02841 11.16 2.04441 10.428 2.04441 9.216C2.04441 8.016 2.94441 7.236 3.94041 7.236C4.97241 7.236 5.78841 8.1 5.78841 9.216C5.78841 10.344 4.97241 11.16 3.94041 11.16ZM10.8452 12.144C12.4412 12.144 13.7852 10.968 13.7852 9.192C13.7852 7.416 12.4412 6.252 10.8452 6.252C9.24919 6.252 7.91719 7.416 7.91719 9.192C7.91719 10.968 9.24919 12.144 10.8452 12.144ZM10.8452 11.16C9.82519 11.16 8.97319 10.356 8.97319 9.192C8.97319 8.04 9.82519 7.236 10.8452 7.236C11.8772 7.236 12.7412 8.04 12.7412 9.192C12.7412 10.356 11.8772 11.16 10.8452 11.16ZM22.2729 6.396L20.8449 10.38L19.4049 6.396H18.3849L16.9569 10.38L15.5289 6.396H14.4009L16.5369 12H17.4009L18.8889 7.836L20.4369 12H21.3129L23.4009 6.396H22.2729ZM29.6948 9.18C29.6948 7.404 28.5068 6.252 26.9108 6.252C25.3148 6.252 24.0308 7.404 24.0308 9.18C24.0308 10.956 25.3148 12.144 26.9108 12.144C27.9908 12.144 28.9988 11.616 29.4788 10.644L28.5788 10.284C28.2548 10.848 27.6308 11.16 26.9468 11.16C25.9868 11.16 25.2668 10.644 25.1108 9.648H29.6708C29.6828 9.492 29.6948 9.336 29.6948 9.18ZM25.1228 8.748C25.2908 7.74 25.9628 7.236 26.9108 7.236C27.8348 7.236 28.5188 7.788 28.6508 8.748H25.1228ZM33.7456 6.252C33.0016 6.252 32.4616 6.684 32.1736 7.668V6.396H31.1176V12H32.1736V9.948C32.1736 8.472 32.6176 7.26 33.7336 7.26C33.9496 7.26 34.2496 7.308 34.5496 7.452L34.7176 6.468C34.5496 6.36 34.1416 6.252 33.7456 6.252ZM40.8627 9.18C40.8627 7.404 39.6747 6.252 38.0787 6.252C36.4827 6.252 35.1987 7.404 35.1987 9.18C35.1987 10.956 36.4827 12.144 38.0787 12.144C39.1587 12.144 40.1667 11.616 40.6467 10.644L39.7467 10.284C39.4227 10.848 38.7987 11.16 38.1147 11.16C37.1547 11.16 36.4347 10.644 36.2787 9.648H40.8387C40.8507 9.492 40.8627 9.336 40.8627 9.18ZM36.2907 8.748C36.4587 7.74 37.1307 7.236 38.0787 7.236C39.0027 7.236 39.6867 7.788 39.8187 8.748H36.2907ZM46.7136 3.348V7.272C46.3416 6.612 45.5496 6.252 44.7096 6.252C43.1736 6.252 41.9136 7.416 41.9136 9.192C41.9136 10.956 43.1856 12.144 44.7216 12.144C45.5256 12.144 46.3416 11.76 46.7136 11.124V12H47.7576V3.348H46.7136ZM44.8056 11.16C43.7856 11.16 42.9696 10.296 42.9696 9.18C42.9696 8.052 43.7856 7.236 44.8056 7.236C45.7296 7.236 46.7136 7.968 46.7136 9.18C46.7136 10.38 45.8136 11.16 44.8056 11.16ZM55.6695 6.252C54.8295 6.252 54.0375 6.612 53.6655 7.272V3.348H52.6215V12H53.6655V11.124C54.0375 11.76 54.8535 12.144 55.6575 12.144C57.1935 12.144 58.4655 10.956 58.4655 9.192C58.4655 7.416 57.2055 6.252 55.6695 6.252ZM55.5615 11.16C54.5655 11.16 53.6655 10.38 53.6655 9.18C53.6655 7.968 54.6495 7.236 55.5615 7.236C56.5935 7.236 57.4095 8.052 57.4095 9.18C57.4095 10.296 56.5935 11.16 55.5615 11.16ZM63.6097 6.396L61.8937 10.524L60.2017 6.396H59.0737L61.3297 11.832L60.1537 14.724H61.2577L64.7377 6.396H63.6097Z" fill="var(--w3o-text-color, #707481)"/>
<g clip-path="url(#clip0_13558_103869)">
<path d="M143.502 11.0888L141.863 8.24889H145.142L146.782 11.0888H143.502Z" fill="currentColor"/>
<path d="M145.142 8.24887H141.863L143.502 5.40895H146.782L145.142 8.24887Z" fill="url(#paint0_linear_13558_103869)"/>
<path d="M148.421 8.24888L146.782 5.40896H143.502L141.863 2.56903H148.421L151.701 8.24888H148.421Z" fill="currentColor"/>
<path d="M148.421 13.9287H141.863L143.502 11.0888H146.782L148.421 8.24889H151.701L148.421 13.9287Z" fill="url(#paint1_linear_13558_103869)"/>
<path d="M76.4774 8.89232C76.4774 10.9327 74.9716 12.5077 73.1366 12.5077C72.1369 12.5077 71.4106 12.1378 70.9181 11.508V12.316H69.1513V2.71994L70.9181 2.17606V6.27771C71.4106 5.64894 72.1369 5.27797 73.1366 5.27797C74.9716 5.27797 76.4774 6.85198 76.4774 8.89232ZM74.7106 8.89232C74.7106 7.73959 73.9037 6.96201 72.8076 6.96201C71.7114 6.96201 70.9213 7.74273 70.9213 8.89232C70.9213 10.0419 71.7292 10.8237 72.8076 10.8237C73.8859 10.8237 74.7106 10.043 74.7106 8.89232Z" fill="currentColor"/>
<path d="M77.2718 2.71994L79.0376 2.17606V12.316H77.2718V2.71994Z" fill="currentColor"/>
<path d="M79.8183 8.89232C79.8171 8.17544 80.0286 7.47431 80.4261 6.87774C80.8236 6.28117 81.3893 5.816 82.0514 5.54113C82.7135 5.26627 83.4422 5.19408 84.1454 5.33371C84.8485 5.47333 85.4944 5.8185 86.0013 6.32549C86.5081 6.83247 86.8531 7.47847 86.9925 8.18166C87.1319 8.88486 87.0595 9.61361 86.7845 10.2756C86.5094 10.9376 86.0441 11.5031 85.4474 11.9005C84.8507 12.2978 84.1495 12.5092 83.4326 12.5077C82.9565 12.5128 82.4842 12.4227 82.0433 12.2428C81.6024 12.0629 81.2019 11.7967 80.8653 11.46C80.5286 11.1232 80.2626 10.7227 80.0828 10.2817C79.903 9.84083 79.8131 9.36845 79.8183 8.89232ZM85.2948 8.89232C85.2948 7.78359 84.4869 7.00602 83.4326 7.00602C82.3784 7.00602 81.5841 7.78674 81.5841 8.89232C81.5841 9.9979 82.392 10.7786 83.4326 10.7786C84.4733 10.7786 85.2948 10.0021 85.2948 8.89232Z" fill="currentColor"/>
<path d="M87.7313 8.89233C87.7313 6.85198 89.2645 5.27797 91.3457 5.27797C92.6881 5.27797 93.8513 5.98952 94.413 7.04375L92.8935 7.93451C92.6189 7.37281 92.03 7.01651 91.3321 7.01651C90.2778 7.01651 89.4971 7.79723 89.4971 8.89233C89.4971 9.98743 90.2778 10.7545 91.3321 10.7545C92.0447 10.7545 92.6326 10.4129 92.904 9.8512L94.4371 10.7273C94.1281 11.2741 93.6779 11.7279 93.1335 12.0413C92.5891 12.3547 91.9706 12.5161 91.3425 12.5088C89.2645 12.5077 87.7313 10.9327 87.7313 8.89233Z" fill="currentColor"/>
<path d="M99.5123 12.316L97.0203 9.20776V12.316H95.2534V2.71994L97.0203 2.17606V8.48153L99.374 5.46974H101.482L98.7316 8.85145L101.566 12.316H99.5123Z" fill="currentColor"/>
<path d="M108.623 8.11161V12.316H106.856V8.33377C106.856 7.40215 106.296 6.92324 105.501 6.92324C104.639 6.92324 103.994 7.4294 103.994 8.62091V12.316H102.229V5.46974H103.994V6.23579C104.405 5.6196 105.118 5.27797 106.035 5.27797C107.486 5.27797 108.623 6.29657 108.623 8.11161Z" fill="currentColor"/>
<path d="M116.74 5.46974V12.316H114.975V11.508C114.481 12.1242 113.742 12.5077 112.743 12.5077C110.921 12.5077 109.415 10.9358 109.415 8.89233C109.415 6.84884 110.921 5.27797 112.743 5.27797C113.742 5.27797 114.481 5.66152 114.975 6.27771V5.46974H116.74ZM114.975 8.89233C114.975 7.73959 114.167 6.96201 113.071 6.96201C111.974 6.96201 111.184 7.74273 111.184 8.89233C111.184 10.0419 111.992 10.8237 113.071 10.8237C114.149 10.8237 114.975 10.043 114.975 8.89233Z" fill="currentColor"/>
<path d="M121.344 7.16742V5.46975H119.796V3.45665L118.027 4.00053V10.0157C118.027 11.8643 118.866 12.5895 121.342 12.3212V10.7137C120.329 10.7692 119.794 10.7545 119.794 10.0157V7.16742H121.344Z" fill="currentColor"/>
<path d="M122.582 5.46974H124.347V12.316H122.582V5.46974Z" fill="currentColor"/>
<path d="M132.293 5.46974L129.691 12.316H127.678L125.077 5.46974H127.021L128.678 10.262L130.348 5.46974H132.293Z" fill="currentColor"/>
<path d="M136.073 10.9075C136.757 10.9075 137.305 10.6204 137.607 10.2232L139.03 11.0448C138.387 11.9754 137.36 12.5119 136.046 12.5119C133.74 12.5119 132.294 10.94 132.294 8.89652C132.294 6.85303 133.761 5.28217 135.908 5.28217C137.935 5.28217 139.373 6.88447 139.373 8.89652C139.37 9.13886 139.346 9.38049 139.301 9.61856H134.143C134.389 10.5219 135.142 10.9075 136.073 10.9075ZM137.607 8.25099C137.387 7.26487 136.648 6.8677 135.908 6.8677C134.965 6.8677 134.321 7.37491 134.114 8.25099H137.607Z" fill="currentColor"/>
</g>
<defs>
<linearGradient id="paint0_linear_13558_103869" x1="141.863" y1="6.82891" x2="146.782" y2="6.82891" gradientUnits="userSpaceOnUse">
<stop stop-color="#55CCFE"/>
<stop offset="1" stop-color="#5E93EF"/>
</linearGradient>
<linearGradient id="paint1_linear_13558_103869" x1="6973.93" y1="500.862" x2="7897.53" y2="500.862" gradientUnits="userSpaceOnUse">
<stop stop-color="#55CCFE"/>
<stop offset="1" stop-color="#5E93EF"/>
</linearGradient>
<clipPath id="clip0_13558_103869">
<rect width="82.8232" height="12" fill="white" transform="translate(69.0884 2)"/>
</clipPath>
</defs>
</svg>
`,Aa=`
  <svg height="100%" viewBox="0 0 10 14" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M4.99902 0.12619V5.20805L9.58065 7.12736L4.99902 0.12619Z" fill="white" fill-opacity="0.602"/>
    <path d="M4.99923 0.12619L0.416992 7.12736L4.99923 5.20805V0.12619Z" fill="white"/>
    <path d="M4.99902 10.4207V13.8737L9.58371 7.92728L4.99902 10.4207Z" fill="white" fill-opacity="0.602"/>
    <path d="M4.99923 13.8737V10.4201L0.416992 7.92728L4.99923 13.8737Z" fill="white"/>
    <path d="M4.99902 9.62134L9.58065 7.12739L4.99902 5.20923V9.62134Z" fill="white" fill-opacity="0.2"/>
    <path d="M0.416992 7.12739L4.99923 9.62134V5.20923L0.416992 7.12739Z" fill="white" fill-opacity="0.602"/>
  </svg>
`,fm=`
  <svg width="100%" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.5091 4.05856C10.2585 3.91901 9.9362 3.91901 9.64974 4.05856L7.64453 5.20986L6.28385 5.94251L4.31445 7.09382C4.0638 7.23337 3.74154 7.23337 3.45508 7.09382L1.91536 6.18673C1.66471 6.04718 1.48568 5.76807 1.48568 5.45408V3.70968C1.48568 3.43057 1.62891 3.15147 1.91536 2.97703L3.45508 2.10483C3.70573 1.96527 4.02799 1.96527 4.31445 2.10483L5.85417 3.01192C6.10482 3.15147 6.28385 3.43057 6.28385 3.74457V4.89587L7.64453 4.12833V2.94214C7.64453 2.66304 7.5013 2.38393 7.21484 2.20949L4.35026 0.569752C4.09961 0.4302 3.77734 0.4302 3.49089 0.569752L0.554687 2.24438C0.268229 2.38393 0.125 2.66304 0.125 2.94214V6.22162C0.125 6.50072 0.268229 6.77983 0.554687 6.95427L3.45508 8.59401C3.70573 8.73356 4.02799 8.73356 4.31445 8.59401L6.28385 7.47759L7.64453 6.71005L9.61393 5.59363C9.86458 5.45408 10.1868 5.45408 10.4733 5.59363L12.013 6.46583C12.2637 6.60539 12.4427 6.88449 12.4427 7.19848V8.94289C12.4427 9.22199 12.2995 9.50109 12.013 9.67553L10.5091 10.5477C10.2585 10.6873 9.9362 10.6873 9.64974 10.5477L8.11002 9.67553C7.85937 9.53598 7.68034 9.25688 7.68034 8.94289V7.82647L6.31966 8.59401V9.74531C6.31966 10.0244 6.46289 10.3035 6.74935 10.478L9.64974 12.1177C9.90039 12.2572 10.2227 12.2572 10.5091 12.1177L13.4095 10.478C13.6602 10.3384 13.8392 10.0593 13.8392 9.74531V6.43095C13.8392 6.15184 13.696 5.87274 13.4095 5.6983L10.5091 4.05856Z" fill="white"/>
  </svg>
`,z7=`
  <svg width="100%" height="100%" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M4.32975 5.90275L7 3.2325L9.67163 5.90413L11.2254 4.35038L7 0.125L2.776 4.349L4.32975 5.90275ZM0.125 7L1.67875 5.44625L3.2325 7L1.67875 8.55375L0.125 7ZM4.32975 8.09725L7 10.7675L9.67163 8.09587L11.2254 9.64894L7 13.875L2.776 9.651L2.77394 9.64894L4.32975 8.09725ZM10.7675 7L12.3212 5.44625L13.875 7L12.3212 8.55375L10.7675 7ZM8.57575 6.99863H8.57713V7L7 8.57713L5.42494 7.00275L5.42219 7L5.42494 6.99794L5.70062 6.72156L5.83469 6.5875L7 5.42288L8.57644 6.99931L8.57575 6.99863Z" fill="white"/>
  </svg>
`,V7=`
  <svg height="100%" viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M5.26613 0.133876C5.46683 0.0457135 5.68592 0 5.90775 0C6.12958 0 6.34867 0.0457135 6.54938 0.133876L10.2679 1.9598C10.3617 1.99893 10.4437 2.05898 10.5068 2.13465C10.5699 2.21033 10.6121 2.29932 10.6298 2.3938H10.6335V11.5637C10.6245 11.6667 10.5857 11.7654 10.5213 11.8495C10.457 11.9336 10.3694 11.9998 10.2679 12.0411L6.54938 13.8656C6.34867 13.9538 6.12958 13.9995 5.90775 13.9995C5.68592 13.9995 5.46683 13.9538 5.26613 13.8656L1.54762 12.0397C1.44724 11.9979 1.36095 11.9313 1.29799 11.8472C1.23504 11.7631 1.19779 11.6646 1.19025 11.5623C1.19025 11.5465 1.19025 11.5332 1.19025 11.522V2.39205C1.20579 2.29767 1.24673 2.20852 1.30923 2.13292C1.37173 2.05733 1.45375 1.99776 1.54762 1.9598L5.26613 0.133876ZM10.0478 7.50898L6.54938 9.22396C6.34872 9.31229 6.12961 9.35809 5.90775 9.35809C5.68589 9.35809 5.46678 9.31229 5.26613 9.22396L1.77525 7.51283V11.5455L5.26613 13.2493C5.43937 13.3471 5.62982 13.4154 5.82863 13.4512L5.9085 13.4558C6.12668 13.4357 6.3373 13.3704 6.525 13.2647L10.05 11.5301V7.50898H10.0478ZM0.585375 11.3642C0.568078 11.6186 0.612957 11.8734 0.716625 12.1093C0.805331 12.2602 0.936232 12.3857 1.09538 12.4726L1.10662 12.4796C1.1505 12.5069 1.1985 12.5356 1.25663 12.5692L1.32563 12.6081L1.53675 12.7267L1.23375 13.1922L0.9975 13.0592L0.95775 13.0365C0.889125 12.9973 0.8325 12.9637 0.779625 12.9315C0.214875 12.5769 0.004125 12.1912 0 11.3887V11.3642H0.585H0.585375ZM5.61412 5.05096C5.58845 5.05933 5.5634 5.06926 5.53912 5.08071L1.82137 6.90524L1.81013 6.91119H1.80675L1.81275 6.91469L1.82137 6.91889L5.53988 8.74341C5.56405 8.75505 5.58912 8.76499 5.61487 8.77316L5.61412 5.05096ZM6.201 5.05096V8.77456C6.22675 8.76639 6.25182 8.75645 6.276 8.74481L9.9945 6.92029L10.0057 6.91434H10.0091L10.0031 6.91154L9.9945 6.90699L6.276 5.08246C6.25182 5.07083 6.22675 5.06088 6.201 5.05271V5.05096ZM10.0478 3.04479L6.71025 4.68137L10.0478 6.31795V3.04304V3.04479ZM1.77525 3.04864V6.3141L5.103 4.68137L1.77525 3.04864ZM6.27525 0.61617C6.15894 0.569406 6.03364 0.545286 5.907 0.545286C5.78036 0.545286 5.65506 0.569406 5.53875 0.61617L1.821 2.4393L1.80975 2.4449L1.80638 2.44665L1.81238 2.4498L1.821 2.45365L5.5395 4.27817C5.65571 4.32526 5.78106 4.34956 5.90775 4.34956C6.03444 4.34956 6.15979 4.32526 6.276 4.27817L9.9945 2.45365L10.0057 2.4498L10.0091 2.44805L10.0031 2.4449L9.9945 2.4407L6.27525 0.61617ZM10.5968 0.816717L10.833 0.949365L10.875 0.970015C10.9432 1.00921 10.9999 1.04316 11.0528 1.07501C11.6179 1.42851 11.8282 1.81455 11.8328 2.61709V2.64159H11.2459C11.2632 2.38703 11.2183 2.13212 11.1146 1.8961C11.0258 1.74528 10.8948 1.61983 10.7355 1.53316L10.7242 1.52616C10.6807 1.49851 10.6327 1.47016 10.5743 1.43656L10.5056 1.39981L10.2945 1.28151L10.5975 0.816017L10.5968 0.816717Z" fill="white"/>
  </svg>
`,hm=`
  <svg width="100%" viewBox="0 0 17 10" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3.33611 9.25254C2.38341 9.25254 1.60287 9.02834 0.99442 8.58002C0.393974 8.1237 0.09375 7.47526 0.09375 6.63462C0.09375 6.45849 0.113782 6.2423 0.153782 5.9861C0.257909 5.40972 0.406006 4.71718 0.598133 3.9086C1.14252 1.707 2.54757 0.606201 4.81323 0.606201C5.42967 0.606201 5.98206 0.710266 6.47044 0.918394C6.95882 1.11852 7.34308 1.42278 7.62327 1.8311C7.90346 2.23135 8.04362 2.71174 8.04362 3.27212C8.04362 3.44025 8.02359 3.65241 7.98352 3.9086C7.86346 4.62111 7.71933 5.31366 7.55121 5.9861C7.27101 7.08294 6.78666 7.90354 6.09815 8.44793C5.40964 8.98431 4.489 9.25254 3.33611 9.25254ZM3.50424 7.52326C3.95262 7.52326 4.33284 7.39116 4.6451 7.12697C4.96535 6.86278 5.19351 6.45849 5.32958 5.9141C5.51371 5.16153 5.65387 4.50502 5.74993 3.94463C5.78193 3.7765 5.79793 3.60441 5.79793 3.42822C5.79793 2.6997 5.41764 2.33542 4.65713 2.33542C4.20875 2.33542 3.82449 2.46751 3.50424 2.7317C3.19205 2.99596 2.96786 3.40025 2.83179 3.94463C2.68766 4.48102 2.54354 5.13753 2.39947 5.9141C2.36741 6.07417 2.35141 6.2423 2.35141 6.41842C2.35141 7.155 2.73573 7.52326 3.50424 7.52326Z" fill="white"/>
    <path d="M8.59569 9.13247C8.50762 9.13247 8.43953 9.10443 8.39153 9.04837C8.35146 8.98431 8.33949 8.9123 8.35549 8.83224L10.0127 1.02648C10.0287 0.938417 10.0727 0.866353 10.1448 0.810289C10.2169 0.754289 10.2929 0.726257 10.373 0.726257H13.5673C14.456 0.726257 15.1685 0.910385 15.7049 1.27864C16.2493 1.64696 16.5215 2.17931 16.5215 2.87582C16.5215 3.07595 16.4975 3.28415 16.4495 3.50027C16.2493 4.42098 15.845 5.10149 15.2366 5.54181C14.6361 5.98213 13.8115 6.20229 12.7627 6.20229H11.1415L10.5892 8.83224C10.5731 8.92031 10.5291 8.99231 10.4571 9.04837C10.385 9.10443 10.3089 9.13247 10.2289 9.13247H8.59569ZM12.8468 4.54507C13.183 4.54507 13.4752 4.45298 13.7234 4.26885C13.9796 4.08472 14.1478 3.82053 14.2278 3.47627C14.2518 3.34015 14.2639 3.22008 14.2639 3.11602C14.2639 2.88383 14.1958 2.7077 14.0597 2.58763C13.9236 2.45951 13.6914 2.3955 13.3632 2.3955H11.9221L11.4658 4.54507H12.8468Z" fill="white"/>
  </svg>
`,G7=`
  <svg width="100%" viewBox="0 0 20 19" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M19.8682 0.489349H0.110352V18.4468H19.8682V0.489349Z" fill="white"/>
  </svg>
`,K7=`
  <svg width="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M19.1511 8.08001C19.1511 4.11201 15.9191 0.880005 11.9511 0.880005C8.94313 0.880005 6.38313 2.70401 5.29513 5.32801C2.73513 6.41601 0.911133 8.976 0.911133 11.952C0.911133 15.92 4.14313 19.152 8.11113 19.152C11.1191 19.152 13.6791 17.328 14.7671 14.704C17.2951 13.616 19.1511 11.056 19.1511 8.08001ZM8.11113 17.36C5.13513 17.36 2.70313 14.928 2.70313 11.952C2.70313 10.256 3.50313 8.72001 4.75113 7.72801C4.75113 7.85601 4.75113 7.98401 4.75113 8.08001C4.75113 12.048 7.98313 15.28 11.9511 15.28C12.1111 15.28 12.2391 15.28 12.3991 15.28C11.3751 16.56 9.83913 17.36 8.11113 17.36ZM13.3591 13.296C12.9111 13.424 12.4311 13.488 11.9511 13.488C8.97513 13.488 6.54313 11.056 6.54313 8.08001C6.54313 7.60001 6.60713 7.15201 6.73513 6.736C7.18313 6.60801 7.66313 6.54401 8.14313 6.54401C11.1191 6.54401 13.5511 8.976 13.5511 11.952C13.5191 12.432 13.4551 12.88 13.3591 13.296ZM15.3111 12.304C15.3111 12.176 15.3111 12.048 15.3111 11.952C15.3111 7.984 12.0791 4.752 8.11113 4.752C7.95113 4.752 7.82313 4.752 7.66313 4.752C8.65513 3.472 10.1911 2.67201 11.9191 2.67201C14.8951 2.67201 17.3271 5.10401 17.3271 8.08001C17.3271 9.80801 16.5271 11.312 15.3111 12.304Z" fill="white"/>
  </svg>
`,Z7=`
  <svg width="100%" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32C24.8366 32 32 24.8366 32 16Z" fill="#04795B"/>
    <path d="M11.6529 17.4492C12.2831 17.4492 12.8648 17.2392 13.3334 16.8758L9.4877 13.0316C9.12413 13.4919 8.9141 14.0734 8.9141 14.7114C8.906 16.2216 10.134 17.4492 11.6529 17.4492Z" fill="#EFEFEF"/>
    <path d="M23.0931 14.7033C23.0931 14.0734 22.8831 13.4919 22.5195 13.0234L18.6738 16.8677C19.1343 17.2311 19.716 17.4411 20.3543 17.4411C21.8651 17.4492 23.0931 16.2216 23.0931 14.7033Z" fill="#EFEFEF"/>
    <path d="M25.0322 10.528L23.3275 12.2321C23.8931 12.9105 24.2324 13.7666 24.2324 14.7195C24.2324 16.8597 22.4954 18.5961 20.3544 18.5961C19.4092 18.5961 18.5447 18.2569 17.866 17.6915L15.9998 19.5571L14.1335 17.6915C13.4549 18.2569 12.5985 18.5961 11.6451 18.5961C9.50416 18.5961 7.7672 16.8597 7.7672 14.7195C7.7672 13.7746 8.10651 12.9105 8.67206 12.2321L7.79947 11.3599L6.96736 10.528C5.99787 12.1271 5.44043 13.9927 5.44043 15.9956C5.44043 21.8265 10.1667 26.543 15.9917 26.543C21.8167 26.543 26.543 21.8185 26.543 15.9956C26.5591 13.9846 26.0017 12.119 25.0322 10.528Z" fill="#EFEFEF"/>
    <path d="M23.6338 8.71084C21.7191 6.6999 19.0045 5.44 15.9991 5.44C12.9937 5.44 10.2872 6.6999 8.36435 8.71084C8.10584 8.98545 7.85539 9.27617 7.62109 9.575L15.991 17.9419L24.361 9.56695C24.1509 9.27617 23.9005 8.97734 23.6338 8.71084ZM15.9991 6.81297C18.4713 6.81297 20.7658 7.76593 22.4866 9.50231L15.9991 15.9874L9.5116 9.50231C11.2405 7.76593 13.5269 6.81297 15.9991 6.81297Z" fill="#EFEFEF"/>
  </svg>
`,Y7=`
  <svg width="100%" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.5484 1.04102e-06C11.6346 -0.000708404 10.7578 0.361217 10.1105 1.00633C9.46322 1.65145 9.09835 2.52703 9.096 3.44089V7.256C8.74045 7.28 8.37689 7.29511 8 7.29511C7.62311 7.29511 7.26133 7.31022 6.904 7.33156V3.44089C6.88946 2.53496 6.51938 1.67105 5.87358 1.03553C5.22779 0.400017 4.35805 0.0438409 3.452 0.0438409C2.54595 0.0438409 1.67621 0.400017 1.03042 1.03553C0.384623 1.67105 0.0145378 2.53496 0 3.44089V12.5591C0.0145378 13.465 0.384623 14.329 1.03042 14.9645C1.67621 15.6 2.54595 15.9562 3.452 15.9562C4.35805 15.9562 5.22779 15.6 5.87358 14.9645C6.51938 14.329 6.88946 13.465 6.904 12.5591V8.744C7.25956 8.72 7.62311 8.70489 8 8.70489C8.37689 8.70489 8.73867 8.68978 9.096 8.66845V12.5591C9.11054 13.465 9.48062 14.329 10.1264 14.9645C10.7722 15.6 11.6419 15.9562 12.548 15.9562C13.4541 15.9562 14.3238 15.6 14.9696 14.9645C15.6154 14.329 15.9855 13.465 16 12.5591V3.44089C15.9976 2.52719 15.6329 1.65173 14.9858 1.00665C14.3387 0.361557 13.4622 -0.000472854 12.5484 1.04102e-06ZM3.45156 1.40978C3.99089 1.40954 4.50828 1.62326 4.89023 2.00404C5.27218 2.38482 5.48748 2.90156 5.48889 3.44089V7.48089C4.47892 7.62724 3.49264 7.90609 2.55556 8.31023C2.14954 8.48842 1.76733 8.71655 1.41778 8.98934V3.44089C1.41919 2.90218 1.634 2.38597 2.01518 2.00529C2.39636 1.62462 2.91284 1.41048 3.45156 1.40978ZM5.48889 12.5591C5.48889 13.0994 5.27424 13.6177 4.89217 13.9997C4.51009 14.3818 3.99189 14.5964 3.45156 14.5964C2.91122 14.5964 2.39302 14.3818 2.01094 13.9997C1.62887 13.6177 1.41422 13.0994 1.41422 12.5591V11.6444C1.41422 10.8364 2.05422 10.0711 3.12711 9.59467C3.88309 9.26852 4.6763 9.03656 5.48889 8.904V12.5591ZM12.5484 14.5902C12.0091 14.5905 11.4917 14.3767 11.1098 13.996C10.7278 13.6152 10.5125 13.0984 10.5111 12.5591V8.51911C11.5211 8.37276 12.5074 8.09392 13.4444 7.68978C13.8505 7.51159 14.2327 7.28345 14.5822 7.01067V12.5591C14.5808 13.0978 14.366 13.614 13.9848 13.9947C13.6036 14.3754 13.0872 14.5895 12.5484 14.5902ZM12.8729 6.4C12.1169 6.72615 11.3237 6.95811 10.5111 7.09067V3.44089C10.5111 2.90056 10.7258 2.38235 11.1078 2.00028C11.4899 1.6182 12.0081 1.40356 12.5484 1.40356C13.0888 1.40356 13.607 1.6182 13.9891 2.00028C14.3711 2.38235 14.5858 2.90056 14.5858 3.44089V4.35556C14.5858 5.16 13.9458 5.92534 12.8729 6.4Z" fill="url(#paint0_linear_10254_2422)"/>
    <defs>
      <linearGradient id="paint0_linear_10254_2422" x1="1.01333" y1="14.7674" x2="14.8954" y2="0.847434" gradientUnits="userSpaceOnUse">
        <stop stop-color="#00AEE9"/>
        <stop offset="1" stop-color="#69FABD"/>
      </linearGradient>
    </defs>
  </svg>
`,dm=`
  <svg height="100%" viewBox="0 0 22 25" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M13.7827 11.3172L15.5966 8.23933L20.4858 15.8545L20.4881 17.3159L20.4722 7.25942C20.4606 7.0136 20.3301 6.7887 20.1218 6.6561L11.3194 1.5928C11.1135 1.49162 10.8523 1.49269 10.6468 1.59594C10.6191 1.60989 10.593 1.62499 10.568 1.64147L10.5374 1.66079L1.99318 6.6121L1.95999 6.62712C1.91737 6.64674 1.8743 6.67165 1.83382 6.70063C1.67186 6.81683 1.56424 6.98861 1.52944 7.18131C1.52423 7.21052 1.52039 7.24026 1.51855 7.27023L1.53197 15.4653L6.08607 8.40666C6.65942 7.47067 7.90869 7.1692 9.06835 7.1856L10.4295 7.22155L2.40986 20.0827L3.3552 20.627L11.4709 7.23458L15.0581 7.22155L6.96327 20.9519L10.3366 22.8921L10.7396 23.1239C10.9101 23.1932 11.111 23.1967 11.283 23.1347L20.2091 17.9618L18.5026 18.9507L13.7827 11.3172ZM14.4747 21.2849L11.0677 15.9375L13.1474 12.4083L17.622 19.461L14.4747 21.2849Z" fill="#2D374B"/>
    <path d="M11.0684 15.9375L14.4754 21.2849L17.6228 19.4609L13.1482 12.4083L11.0684 15.9375Z" fill="#28A0F0"/>
    <path d="M20.4887 17.3159L20.4864 15.8545L15.5972 8.23932L13.7832 11.3172L18.5031 18.9507L20.2097 17.9618C20.3771 17.8259 20.4783 17.6264 20.489 17.4111L20.4887 17.3159Z" fill="#28A0F0"/>
    <path d="M7.71943e-05 18.694L2.41 20.0826L10.4296 7.22152L9.0685 7.18557C7.90883 7.16916 6.65964 7.47063 6.08621 8.40662L1.53211 15.4652L0 17.8193V18.694H7.71943e-05Z" fill="white"/>
    <path d="M15.0582 7.22156L11.4712 7.23459L3.35547 20.627L6.19211 22.2603L6.96354 20.9519L15.0582 7.22156Z" fill="white"/>
    <path d="M21.9999 7.20306C21.97 6.45287 21.5638 5.76608 20.9275 5.36626L12.0097 0.237888C11.3803 -0.079066 10.594 -0.0794494 9.96363 0.237658C9.88913 0.275218 1.2912 5.26171 1.2912 5.26171C1.17223 5.31874 1.05764 5.38673 0.949789 5.46384C0.381801 5.87094 0.0355663 6.50346 0 7.19846V17.8194L1.53211 15.4653L1.5187 7.27029C1.52054 7.24032 1.52429 7.21088 1.52958 7.18175C1.56415 6.9889 1.67185 6.81689 1.83397 6.70069C1.87444 6.67171 10.6192 1.60995 10.647 1.596C10.8526 1.49275 11.1137 1.49168 11.3195 1.59286L20.122 6.65616C20.3302 6.78876 20.4608 7.01366 20.4723 7.25948V17.4111C20.4617 17.6265 20.3766 17.8259 20.2092 17.9619L18.5026 18.9508L17.6221 19.461L14.4748 21.285L11.283 23.1347C11.1111 23.1968 10.9101 23.1933 10.7397 23.124L6.96334 20.952L6.19191 22.2603L9.58559 24.2142C9.6978 24.278 9.79784 24.3345 9.87985 24.3807C10.0069 24.452 10.0935 24.4996 10.1241 24.5144C10.3653 24.6315 10.7123 24.6997 11.025 24.6997C11.3118 24.6997 11.5913 24.647 11.8559 24.5434L21.1266 19.1745C21.6587 18.7623 21.9717 18.1406 21.9999 17.467V7.20306Z" fill="#96BEDC"/>
  </svg>
`,pm=`
<svg height="100%" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_1607_202)">
<mask id="mask0_1607_202" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="32" height="32">
<path d="M32 0H0V32H32V0Z" fill="white"/>
</mask>
<g mask="url(#mask0_1607_202)">
<path d="M16 32C19.1645 32 22.258 31.0616 24.8892 29.3036C27.5204 27.5454 29.571 25.0466 30.782 22.123C31.993 19.1993 32.31 15.9823 31.6926 12.8786C31.0752 9.77486 29.5514 6.92394 27.3138 4.6863C25.076 2.44866 22.2252 0.924806 19.1214 0.307442C16.0177 -0.30992 12.8007 0.0069325 9.87706 1.21793C6.95344 2.42894 4.45458 4.4797 2.69648 7.11088C0.938384 9.74206 0 12.8355 0 16C0 20.2434 1.68571 24.3132 4.6863 27.3138C7.68688 30.3142 11.7565 32 16 32Z" fill="#0052FF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.9624 27.2676C22.1852 27.2676 27.23 22.223 27.23 16C27.23 9.7771 22.1852 4.73242 15.9624 4.73242C10.0588 4.73242 5.21566 9.2726 4.7341 15.0518H21.4546V16.928H4.73242C5.20432 22.7168 10.0519 27.2676 15.9624 27.2676Z" fill="white"/>
</g>
</g>
<defs>
<clipPath id="clip0_1607_202">
<rect width="32" height="32" fill="white"/>
</clipPath>
</defs>
</svg>
`,X7=`
<svg width="100%" height="100%" viewBox="0 0 12 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 0L0.0100002 6L4 10L0.0100002 14.01L0 20H12V14L8 10L12 6.01V0H0ZM10 14.5V18H2V14.5L6 10.5L10 14.5Z" fill="#929BED"/>
</svg>
`,Kc=`
  <svg width="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M11.07 12.85C11.84 11.46 13.32 10.64 14.18 9.41C15.09 8.12 14.58 5.71 12 5.71C10.31 5.71 9.48 6.99 9.13 8.05L6.54 6.96C7.25 4.83 9.18 3 11.99 3C14.34 3 15.95 4.07 16.77 5.41C17.47 6.56 17.88 8.71 16.8 10.31C15.6 12.08 14.45 12.62 13.83 13.76C13.58 14.22 13.48 14.52 13.48 16H10.59C10.58 15.22 10.46 13.95 11.07 12.85ZM14 20C14 21.1 13.1 22 12 22C10.9 22 10 21.1 10 20C10 18.9 10.9 18 12 18C13.1 18 14 18.9 14 20Z" fill="currentColor"/>
  </svg>
`,J7=`
<svg width="14" height="11" viewBox="0 0 14 11" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.48076 8.10881L1.33076 4.95881L0.280762 6.00881L4.48076 10.2088L13.4808 1.20881L12.4308 0.158813L4.48076 8.10881Z" fill="#A4F4C6"/>
</svg>
`,Q7=`<svg width="16" height="13" viewBox="0 0 16 13" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.666992 13.0002H15.3337L8.00033 0.333496L0.666992 13.0002ZM8.66699 11.0002H7.33366V9.66683H8.66699V11.0002ZM8.66699 8.3335H7.33366V5.66683H8.66699V8.3335Z" fill="#FFB3B3"/>
</svg>
`,tf=`
  <svg width="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V11H13V17ZM13 9H11V7H13V9Z" fill="currentColor"/>
  </svg>
`,Vb=`
  <svg width="100%" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M6.74999 12.15L3.59999 9L2.54999 10.05L6.74999 14.25L15.75 5.25L14.7 4.2L6.74999 12.15Z" fill="currentColor"/>
  </svg>
`,eS=`
  <svg width="100%" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M6 2L6.01 8L10 12L6.01 16.01L6 22H18V16L14 12L18 8.01V2H6ZM16 16.5V20H8V16.5L12 12.5L16 16.5Z" fill="currenColor"/>
  </svg>
`;function tS(){if(typeof window<"u"){const e=W8.getParser(window.navigator.userAgent),t=e.getOS(),r=e.getBrowser(),{type:n}=e.getPlatform();return{type:n,os:t,browser:r}}else return{type:null,os:null,browser:null}}const rS=e=>e!=null;function Bc(e){switch(e){case"0x1":case"0x89":case"0xa":case"0xa4b1":case"0xa4ba":case"0x144":return"0x1";case"0x5":return e;case"0xaa36a7":return e;default:return null}}function sp(e){return e.includes("<svg")}function Ej(e){return`${e.slice(0,6)}…${e.slice(-4)}`}function Sj(e){return e.length>11?`${e.slice(0,4)}…${e.slice(-6)}`:e}async function Cj(e){try{return await navigator.clipboard.writeText(e)}catch(t){console.error("Failed to copy: ",t)}}const Gb=e=>typeof e=="number"?`0x${e.toString(16)}`:e;function nS(e){return e.map(({id:t,...r})=>({id:Gb(t),...r}))}function xj(e){return`0x${(e*1e9).toString(16)}`}const Ij={"0x1":"Ethereum","0x3":"Ropsten","0x4":"Rinkeby","0x5":"Goerli","0xaa36a7":"Sepolia","0x2a":"Kovan","0x38":"Binance","0x89":"Polygon","0xfa":"Fantom","0xa":"Optimism","0x45":"Optimism Kovan","0xa86a":"Avalanche","0xa4ec":"Celo","0x2105":"Base","0x14a33":"Base Goerli","0x64":"Gnosis","0x63564C40":"Harmony One","0xa4b1":"Arbitrum One","0xa4ba":"Arbitrum Nova"},gm={main:"0x1",ropsten:"0x3",rinkeby:"0x4",goerli:"0x5",kovan:"0x2a",xdai:"0x64","bsc-main":"0x38","matic-main":"0x89","fantom-main":"0xfa","matic-mumbai":"0x80001"},iS={"0x1":{icon:Aa,color:"#627EEA"},"0x3":{icon:Aa,color:"#627EEA"},"0x4":{icon:Aa,color:"#627EEA"},"0x5":{icon:Aa,color:"#627EEA"},"0x2a":{icon:Aa,color:"#627EEA"},"0xaa36a7":{icon:Aa,color:"#627EEA"},"0x38":{icon:z7,color:"#F3BA2F"},"0x89":{icon:fm,color:"#8247E5"},"0xfa":{icon:V7,color:"#1969FF"},"0xa":{icon:hm,color:"#FF0420"},"0x45":{icon:hm,color:"#FF0420"},"0xa86a":{icon:G7,color:"#E84142"},"0xa4ec":{icon:K7,color:"#FBCC5C"},"0x64":{icon:Z7,color:"#04795B"},"0x63564C40":{icon:Y7,color:"#ffffff"},"0xa4b1":{icon:dm,color:"#33394B"},"0xa4ba":{icon:dm,color:"#33394B"},"0x2105":{icon:pm,color:"#0259F9"},"0x14a33":{icon:pm,color:"#0259F9"},"0x80001":{icon:fm,color:"#8247E5"}},Aj={icon:Kc,color:"#33394B"};function Oj(e){return e?iS[e.toLowerCase()]:void 0}function Dj(e,t){return!!t.find(({id:r,namespace:n})=>r===e.id&&n===e.namespace)}const Tj={pending:{backgroundColor:"var(--onboard-primary-700, var(--primary-700))",borderColor:"#6370E5",eventIcon:X7},success:{backgroundColor:"#052E17",borderColor:"var(--onboard-success-300, var(--success-300))",eventIcon:J7},error:{backgroundColor:"#FDB1B11A",borderColor:"var(--onboard-danger-300, var(--danger-300))",eventIcon:Q7},hint:{backgroundColor:"var(--onboard-gray-500, var(--gray-500))",borderColor:"var(--onboard-gray-500, var(--gray-500))",iconColor:"var(--onboard-gray-100, var(--gray-100))",eventIcon:tf}},sS=e=>new Promise(t=>setTimeout(t,e));function rf(e){try{return localStorage.getItem(e)}catch{return null}}function nf(e,t){try{localStorage.setItem(e,t)}catch{return}}function Kb(e){try{localStorage.removeItem(e)}catch{return}}let bi={svelteInstance:null,apiKey:null,device:tS(),initialWalletInit:[],gas:null,containerElements:{accountCenter:null,connectModal:null},transactionPreview:null,unstoppableResolution:null};function mm(e){bi={...bi,...e}}const To={wallets:[],walletModules:[],chains:[],accountCenter:{enabled:!0,position:"bottomRight",expanded:!1,minimal:!0},notify:{enabled:!0,transactionHandler:()=>{},position:"topRight",replacement:{gasPriceProbability:{speedup:80,cancel:95}}},notifications:[],locale:"",connect:{showSidebar:!0,disableClose:!1},appMetadata:null},Ns={TERMS_AGREEMENT:"onboard.js:agreement",LAST_CONNECTED_WALLET:"onboard.js:last_connected_wallet"},sn=768,Pj="https://rpc.blocknative.com/boost",Rj="https://docs.blocknative.com/blocknative-mev-protection/transaction-boost",Zb="add_chains",Yb="update_chains",Xb="reset_store",Jb="add_wallet",Qb="update_wallet",ey="remove_wallet",ty="update_account",ry="update_account_center",ny="update_connect_modal",iy="set_wallet_modules",sy="set_locale",oy="update_notify",op="add_notification",ay="remove_notification",cy="update_balance",ly="update_app_metadata";function oS(e,t){const{type:r,payload:n}=t;switch(r){case Zb:return{...e,chains:[...e.chains,...n]};case Yb:{const i=n,o=e.chains,c=o.findIndex(a=>a.id===i.id);return o[c]=i,{...e,chains:o}}case Jb:{const i=n,o=e.wallets.find(({label:c})=>c===i.label);return{...e,wallets:[o||n,...e.wallets.filter(({label:c})=>c!==i.label)]}}case Qb:{const i=n,{id:o,...c}=i,a=e.wallets.map(m=>m.label===o?{...m,...c}:m);return{...e,wallets:a}}case ey:{const i=n;return{...e,wallets:e.wallets.filter(({label:o})=>o!==i.id)}}case ty:{const i=n,{id:o,address:c,...a}=i,m=e.wallets.map(f=>(f.label===o&&(f.accounts=f.accounts.map(g=>g.address===c?{...g,...a}:g)),f));return{...e,wallets:m}}case cy:return{...e,wallets:n};case ny:{const i=n;return{...e,connect:{...e.connect,...i}}}case ry:{const i=n;return{...e,accountCenter:{...e.accountCenter,...i}}}case oy:{const i=n;return{...e,notify:{...e.notify,...i}}}case op:{const i=n,o=[...e.notifications],c=o.findIndex(({id:a})=>a===i.id);return c!==-1?o[c]=i:o.unshift(i),{...e,notifications:o}}case ay:{const i=n;return{...e,notifications:e.notifications.filter(o=>o.id!==i)}}case iy:return{...e,walletModules:n};case sy:return la.set(n),{...e,locale:n};case ly:{const i=n;return{...e,appMetadata:{...e.appMetadata,...i}}}case Xb:return To;default:throw new Error(`Unknown type: ${r} in appStore reducer`)}}const sf=new rl(To),Tu=new vo;Tu.subscribe(sf);function Dn(e){const t=sf.getValue();Tu.next(oS(t,e))}function aS(e){if(!e)return Tu.asObservable();if(!Object.keys(sf.getValue()).includes(String(e)))throw new Error(`key: ${e} does not exist on this store`);return Tu.asObservable().pipe(j8(e),Jd(e),Wa(rS))}function cS(){return sf.getValue()}const st={select:aS,get:cS};function Re(){}const ol=e=>e;function lS(e,t){for(const r in t)e[r]=t[r];return e}function uS(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function uy(e){return e()}function vm(){return Object.create(null)}function Fs(e){e.forEach(uy)}function Fo(e){return typeof e=="function"}function dn(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let ru;function Za(e,t){return ru||(ru=document.createElement("a")),ru.href=t,e===ru.href}function fS(e){return Object.keys(e).length===0}function hS(e,...t){if(e==null)return Re;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function Ur(e,t,r){e.$$.on_destroy.push(hS(t,r))}function ap(e,t,r,n){if(e){const i=fy(e,t,r,n);return e[0](i)}}function fy(e,t,r,n){return e[1]&&n?lS(r.ctx.slice(),e[1](n(t))):r.ctx}function cp(e,t,r,n){if(e[2]&&n){const i=e[2](n(r));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],c=Math.max(t.dirty.length,i.length);for(let a=0;a<c;a+=1)o[a]=t.dirty[a]|i[a];return o}return t.dirty|i}return t.dirty}function lp(e,t,r,n,i,o){if(i){const c=fy(t,r,n,o);e.p(c,i)}}function up(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let n=0;n<r;n++)t[n]=-1;return t}return-1}function bm(e){return e??""}function ym(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const hy=typeof window<"u";let of=hy?()=>window.performance.now():()=>Date.now(),fp=hy?e=>requestAnimationFrame(e):Re;const ka=new Set;function dy(e){ka.forEach(t=>{t.c(e)||(ka.delete(t),t.f())}),ka.size!==0&&fp(dy)}function af(e){let t;return ka.size===0&&fp(dy),{promise:new Promise(r=>{ka.add(t={c:e,f:r})}),abort(){ka.delete(t)}}}function he(e,t){e.appendChild(t)}function pn(e,t,r){const n=hp(e);if(!n.getElementById(t)){const i=be("style");i.id=t,i.textContent=r,py(n,i)}}function hp(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function dS(e){const t=be("style");return py(hp(e),t),t.sheet}function py(e,t){return he(e.head||e,t),t.sheet}function Pe(e,t,r){e.insertBefore(t,r||null)}function De(e){e.parentNode&&e.parentNode.removeChild(e)}function gy(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function be(e){return document.createElement(e)}function pS(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ht(e){return document.createTextNode(e)}function Fe(){return Ht(" ")}function Ir(){return Ht("")}function yi(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function gS(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function le(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function mS(e){return Array.from(e.childNodes)}function nr(e,t){t=""+t,e.data!==t&&(e.data=t)}function $s(e,t,r,n){r==null?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function $j(e,t,r){for(let n=0;n<e.options.length;n+=1){const i=e.options[n];if(i.__value===t){i.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Ue(e,t,r){e.classList[r?"add":"remove"](t)}function vS(e,t,{bubbles:r=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,r,n,t),i}class ec{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,r,n=null){this.e||(this.is_svg?this.e=pS(r.nodeName):this.e=be(r.nodeType===11?"TEMPLATE":r.nodeName),this.t=r.tagName!=="TEMPLATE"?r:r.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let r=0;r<this.n.length;r+=1)Pe(this.t,this.n[r],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(De)}}function ks(e,t){return new e(t)}const Pu=new Map;let Ru=0;function bS(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function yS(e,t){const r={stylesheet:dS(t),rules:{}};return Pu.set(e,r),r}function Zc(e,t,r,n,i,o,c,a=0){const m=16.666/n;let f=`{
`;for(let w=0;w<=1;w+=m){const _=t+(r-t)*o(w);f+=w*100+`%{${c(_,1-_)}}
`}const g=f+`100% {${c(r,1-r)}}
}`,u=`__svelte_${bS(g)}_${a}`,d=hp(e),{stylesheet:p,rules:h}=Pu.get(d)||yS(d,e);h[u]||(h[u]=!0,p.insertRule(`@keyframes ${u} ${g}`,p.cssRules.length));const v=e.style.animation||"";return e.style.animation=`${v?`${v}, `:""}${u} ${n}ms linear ${i}ms 1 both`,Ru+=1,u}function Yc(e,t){const r=(e.style.animation||"").split(", "),n=r.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),i=r.length-n.length;i&&(e.style.animation=n.join(", "),Ru-=i,Ru||_S())}function _S(){fp(()=>{Ru||(Pu.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&De(t)}),Pu.clear())})}function Lj(e,t,r,n){if(!t)return Re;const i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return Re;const{delay:o=0,duration:c=300,easing:a=ol,start:m=of()+o,end:f=m+c,tick:g=Re,css:u}=r(e,{from:t,to:i},n);let d=!0,p=!1,h;function v(){u&&(h=Zc(e,0,1,c,o,a,u)),o||(p=!0)}function w(){u&&Yc(e,h),d=!1}return af(_=>{if(!p&&_>=m&&(p=!0),p&&_>=f&&(g(1,0),w()),!d)return!1;if(p){const y=_-m,C=0+1*a(y/c);g(C,1-C)}return!0}),v(),g(0,1),w}function Nj(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:r,height:n}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=r,e.style.height=n,wS(e,i)}}function wS(e,t){const r=e.getBoundingClientRect();if(t.left!==r.left||t.top!==r.top){const n=getComputedStyle(e),i=n.transform==="none"?"":n.transform;e.style.transform=`${i} translate(${t.left-r.left}px, ${t.top-r.top}px)`}}let Xc;function fo(e){Xc=e}function dp(){if(!Xc)throw new Error("Function called outside component initialization");return Xc}function ES(e){dp().$$.on_mount.push(e)}function my(e){dp().$$.on_destroy.push(e)}function SS(e,t){const r=e.$$.callbacks[t.type];r&&r.slice().forEach(n=>n.call(this,t))}const Ta=[],$u=[];let Ma=[];const md=[],CS=Promise.resolve();let vd=!1;function xS(){vd||(vd=!0,CS.then(pp))}function Qn(e){Ma.push(e)}function IS(e){md.push(e)}const Rh=new Set;let Oa=0;function pp(){if(Oa!==0)return;const e=Xc;do{try{for(;Oa<Ta.length;){const t=Ta[Oa];Oa++,fo(t),AS(t.$$)}}catch(t){throw Ta.length=0,Oa=0,t}for(fo(null),Ta.length=0,Oa=0;$u.length;)$u.pop()();for(let t=0;t<Ma.length;t+=1){const r=Ma[t];Rh.has(r)||(Rh.add(r),r())}Ma.length=0}while(Ta.length);for(;md.length;)md.pop()();vd=!1,Rh.clear(),fo(e)}function AS(e){if(e.fragment!==null){e.update(),Fs(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Qn)}}function OS(e){const t=[],r=[];Ma.forEach(n=>e.indexOf(n)===-1?t.push(n):r.push(n)),r.forEach(n=>n()),Ma=t}let Cc;function gp(){return Cc||(Cc=Promise.resolve(),Cc.then(()=>{Cc=null})),Cc}function na(e,t,r){e.dispatchEvent(vS(`${t?"intro":"outro"}${r}`))}const gu=new Set;let Ls;function kr(){Ls={r:0,c:[],p:Ls}}function Mr(){Ls.r||Fs(Ls.c),Ls=Ls.p}function xe(e,t){e&&e.i&&(gu.delete(e),e.i(t))}function $e(e,t,r,n){if(e&&e.o){if(gu.has(e))return;gu.add(e),Ls.c.push(()=>{gu.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}else n&&n()}const mp={duration:0};function vp(e,t,r){const n={direction:"in"};let i=t(e,r,n),o=!1,c,a,m=0;function f(){c&&Yc(e,c)}function g(){const{delay:d=0,duration:p=300,easing:h=ol,tick:v=Re,css:w}=i||mp;w&&(c=Zc(e,0,1,p,d,h,w,m++)),v(0,1);const _=of()+d,y=_+p;a&&a.abort(),o=!0,Qn(()=>na(e,!0,"start")),a=af(C=>{if(o){if(C>=y)return v(1,0),na(e,!0,"end"),f(),o=!1;if(C>=_){const I=h((C-_)/p);v(I,1-I)}}return o})}let u=!1;return{start(){u||(u=!0,Yc(e),Fo(i)?(i=i(n),gp().then(g)):g())},invalidate(){u=!1},end(){o&&(f(),o=!1)}}}function kj(e,t,r){const n={direction:"out"};let i=t(e,r,n),o=!0,c;const a=Ls;a.r+=1;function m(){const{delay:f=0,duration:g=300,easing:u=ol,tick:d=Re,css:p}=i||mp;p&&(c=Zc(e,1,0,g,f,u,p));const h=of()+f,v=h+g;Qn(()=>na(e,!1,"start")),af(w=>{if(o){if(w>=v)return d(0,1),na(e,!1,"end"),--a.r||Fs(a.c),!1;if(w>=h){const _=u((w-h)/g);d(1-_,_)}}return o})}return Fo(i)?gp().then(()=>{i=i(n),m()}):m(),{end(f){f&&i.tick&&i.tick(1,0),o&&(c&&Yc(e,c),o=!1)}}}function _m(e,t,r,n){const i={direction:"both"};let o=t(e,r,i),c=n?0:1,a=null,m=null,f=null;function g(){f&&Yc(e,f)}function u(p,h){const v=p.b-c;return h*=Math.abs(v),{a:c,b:p.b,d:v,duration:h,start:p.start,end:p.start+h,group:p.group}}function d(p){const{delay:h=0,duration:v=300,easing:w=ol,tick:_=Re,css:y}=o||mp,C={start:of()+h,b:p};p||(C.group=Ls,Ls.r+=1),a||m?m=C:(y&&(g(),f=Zc(e,c,p,v,h,w,y)),p&&_(0,1),a=u(C,v),Qn(()=>na(e,p,"start")),af(I=>{if(m&&I>m.start&&(a=u(m,v),m=null,na(e,a.b,"start"),y&&(g(),f=Zc(e,c,a.b,a.duration,0,w,o.css))),a){if(I>=a.end)_(c=a.b,1-c),na(e,a.b,"end"),m||(a.b?g():--a.group.r||Fs(a.group.c)),a=null;else if(I>=a.start){const D=I-a.start;c=a.a+a.d*w(D/a.duration),_(c,1-c)}}return!!(a||m)}))}return{run(p){Fo(o)?gp().then(()=>{o=o(i),d(p)}):d(p)},end(){g(),a=m=null}}}function sa(e,t){const r=t.token={};function n(i,o,c,a){if(t.token!==r)return;t.resolved=a;let m=t.ctx;c!==void 0&&(m=m.slice(),m[c]=a);const f=i&&(t.current=i)(m);let g=!1;t.block&&(t.blocks?t.blocks.forEach((u,d)=>{d!==o&&u&&(kr(),$e(u,1,1,()=>{t.blocks[d]===u&&(t.blocks[d]=null)}),Mr())}):t.block.d(1),f.c(),xe(f,1),f.m(t.mount(),t.anchor),g=!0),t.block=f,t.blocks&&(t.blocks[o]=f),g&&pp()}if(uS(e)){const i=dp();if(e.then(o=>{fo(i),n(t.then,1,t.value,o),fo(null)},o=>{if(fo(i),n(t.catch,2,t.error,o),fo(null),!t.hasCatch)throw o}),t.current!==t.pending)return n(t.pending,0),!0}else{if(t.current!==t.then)return n(t.then,1,t.value,e),!0;t.resolved=e}}function tc(e,t,r){const n=t.slice(),{resolved:i}=e;e.current===e.then&&(n[e.value]=i),e.current===e.catch&&(n[e.error]=i),e.block.p(n,r)}function Mj(e,t){e.d(1),t.delete(e.key)}function DS(e,t){$e(e,1,1,()=>{t.delete(e.key)})}function jj(e,t){e.f(),DS(e,t)}function Fj(e,t,r,n,i,o,c,a,m,f,g,u){let d=e.length,p=o.length,h=d;const v={};for(;h--;)v[e[h].key]=h;const w=[],_=new Map,y=new Map,C=[];for(h=p;h--;){const E=u(i,o,h),b=r(E);let x=c.get(b);x?n&&C.push(()=>x.p(E,t)):(x=f(b,E),x.c()),_.set(b,w[h]=x),b in v&&y.set(b,Math.abs(h-v[b]))}const I=new Set,D=new Set;function O(E){xe(E,1),E.m(a,g),c.set(E.key,E),g=E.first,p--}for(;d&&p;){const E=w[p-1],b=e[d-1],x=E.key,A=b.key;E===b?(g=E.first,d--,p--):_.has(A)?!c.has(x)||I.has(x)?O(E):D.has(A)?d--:y.get(x)>y.get(A)?(D.add(x),O(E)):(I.add(A),d--):(m(b,c),d--)}for(;d--;){const E=e[d];_.has(E.key)||m(E,c)}for(;p;)O(w[p-1]);return Fs(C),w}function TS(e,t,r){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function qt(e){e&&e.c()}function Ft(e,t,r,n){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,r),n||Qn(()=>{const c=e.$$.on_mount.map(uy).filter(Fo);e.$$.on_destroy?e.$$.on_destroy.push(...c):Fs(c),e.$$.on_mount=[]}),o.forEach(Qn)}function Ut(e,t){const r=e.$$;r.fragment!==null&&(OS(r.after_update),Fs(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function PS(e,t){e.$$.dirty[0]===-1&&(Ta.push(e),xS(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function gn(e,t,r,n,i,o,c,a=[-1]){const m=Xc;fo(e);const f=e.$$={fragment:null,ctx:[],props:o,update:Re,not_equal:i,bound:vm(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(m?m.$$.context:[])),callbacks:vm(),dirty:a,skip_bound:!1,root:t.target||m.$$.root};c&&c(f.root);let g=!1;if(f.ctx=r?r(e,t.props||{},(u,d,...p)=>{const h=p.length?p[0]:d;return f.ctx&&i(f.ctx[u],f.ctx[u]=h)&&(!f.skip_bound&&f.bound[u]&&f.bound[u](h),g&&PS(e,u)),d}):[],f.update(),g=!0,Fs(f.before_update),f.fragment=n?n(f.ctx):!1,t.target){if(t.hydrate){const u=mS(t.target);f.fragment&&f.fragment.l(u),u.forEach(De)}else f.fragment&&f.fragment.c();t.intro&&xe(e.$$.fragment),Ft(e,t.target,t.anchor,t.customElement),pp()}fo(m)}class mn{$destroy(){Ut(this,1),this.$destroy=Re}$on(t,r){if(!Fo(r))return Re;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!fS(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const bp=new vo,yp=new vo,ds=new rl({inProgress:!1,actionRequired:""}),Ya=new rl(null),cf=st.select("wallets").pipe(go(1));bp.pipe(pb(cf),Jd("1")).subscribe(e=>{e.forEach(({label:t})=>{yp.next(t)}),OC()});const Hc=new rl([]);function RS(e){const t=Hc.getValue(),r=t.findIndex(({hash:n})=>n===e.hash);if(r!==-1){const n=t.map((i,o)=>o===r?e:i);Hc.next(n)}else Hc.next([...t,e])}function Uj(e){const t=Hc.getValue();Hc.next(t.filter(r=>r.hash!==e))}const wm=T8(()=>{const e=new vo;return my(()=>{e.next()}),e.asObservable().pipe(Xd(1))}),$a={default:{"--w3o-background-color":"unset","--w3o-foreground-color":"unset","--w3o-text-color":"unset","--w3o-border-color":"unset","--w3o-action-color":"unset","--w3o-border-radius":"unset","--w3o-font-family":"inherit"},light:{"--w3o-background-color":"#ffffff","--w3o-foreground-color":"#EFF1FC","--w3o-text-color":"#1a1d26","--w3o-border-color":"#d0d4f7","--w3o-action-color":"#6370E5","--w3o-border-radius":"16px","--w3o-font-family":"inherit"},dark:{"--w3o-background-color":"#1A1D26","--w3o-foreground-color":"#242835","--w3o-text-color":"#EFF1FC","--w3o-border-color":"#33394B","--w3o-action-color":"#929bed","--w3o-border-radius":"16px","--w3o-font-family":"inherit"}},$S=e=>typeof e=="string"&&e==="system"?NS():LS(e),LS=e=>{if(typeof e=="string"&&e in $a)return $a[e];if(typeof e=="object")return e},kc=e=>{Object.keys(e).forEach(t=>{document.documentElement.style.setProperty(t,e[t])})},NS=()=>{const e=window.matchMedia("(prefers-color-scheme: dark)");e.matches?kc($a.dark):kc($a.light),od(e,"change").pipe(zc(bp)).subscribe(t=>{t.matches?kc($a.dark):kc($a.light)})},Em=X.object().unknown(),kS=X.object({namespace:ip.required(),id:np.required()}),MS=X.any().allow(X.object({name:X.string().required(),avatar:X.string(),contentHash:X.any().allow(X.string(),null),getText:X.function().arity(1).required()}),null),jS=X.any().allow(X.object({name:X.string().required()}),null),FS=X.any().allow(X.object({eth:X.number()}).unknown(),null),US=X.any().allow(X.object({balance:X.string().required(),icon:X.string()}),null),BS=X.object({address:X.string().required(),ens:MS,uns:jS,balance:FS,secondaryTokens:US}),HS=X.array().items(M7).unique((e,t)=>e.id===t.id).error(e=>e[0].code==="array.unique"?new Error(`There is a duplicate Chain ID in your Onboard Chains array: ${e}`):new Error(`${e}`)),qS=X.array().items(BS),vy=X.object({label:X.string(),icon:X.string(),provider:Em,instance:Em,accounts:qS,chains:X.array().items(kS)}).required().error(new Error("wallet must be defined")),WS=X.array().items(vy),by=X.object({name:X.string().required(),url:X.string().uri().required()}),yy=X.object({version:X.string().required(),termsUrl:X.string().uri(),privacyUrl:X.string().uri()}),zS=X.object({name:X.string().required(),description:X.string().required(),icon:X.string(),logo:X.string(),gettingStartedGuide:X.string(),email:X.string(),appUrl:X.string(),explore:X.string(),recommendedInjectedWallets:X.array().items(by),agreement:yy}),VS=X.object({name:X.string(),description:X.string(),icon:X.string(),logo:X.string(),gettingStartedGuide:X.string(),email:X.string(),appUrl:X.string(),explore:X.string(),recommendedInjectedWallets:X.array().items(by),agreement:yy});X.object({label:X.string().required(),getInfo:X.function().arity(1).required(),getInterface:X.function().arity(1).required()});const _y=X.array().items(X.function()).required(),GS=X.string(),_p=X.string().valid("topRight","bottomRight","bottomLeft","topLeft"),Sm=[70,80,90,95,99],Lu=X.object({transactionHandler:X.function(),enabled:X.boolean(),position:_p,replacement:X.object({gasPriceProbability:X.object({speedup:X.number().valid(...Sm),cancel:X.number().valid(...Sm)})})}),wy=X.object({desktop:Lu,mobile:Lu}),Cm=X.object({enabled:X.boolean(),position:_p,minimal:X.boolean(),containerElement:X.string(),hideTransactionProtectionBtn:X.boolean(),transactionProtectionInfoLink:X.string()}),KS=X.object({enabled:X.boolean(),position:_p,expanded:X.boolean(),minimal:X.boolean(),hideTransactionProtectionBtn:X.boolean(),transactionProtectionInfoLink:X.string(),containerElement:X.string()}),Ey=X.object({showSidebar:X.boolean(),disableClose:X.boolean(),autoConnectLastWallet:X.boolean(),autoConnectAllPreviousWallet:X.boolean(),iDontHaveAWalletLink:X.string(),wheresMyWalletLink:X.string(),removeWhereIsMyWalletWarning:X.boolean(),removeIDontHaveAWalletInfoLink:X.boolean(),disableUDResolution:X.boolean()}),ZS=X.object({accountCenter:X.string(),connectModal:X.string()}),YS=X.object({"--w3o-background-color":X.string(),"--w3o-font-family":X.string(),"--w3o-foreground-color":X.string(),"--w3o-text-color":X.string(),"--w3o-border-color":X.string(),"--w3o-action-color":X.string(),"--w3o-border-radius":X.string()}),XS=X.string().valid("default","dark","light","system"),Sy=X.alternatives().try(YS,XS),JS=X.object({wallets:_y,chains:HS.required(),appMetadata:zS,i18n:X.object().unknown(),apiKey:X.string(),accountCenter:X.object({desktop:Cm,mobile:Cm,hideTransactionProtectionBtn:X.boolean(),transactionProtectionInfoLink:X.string()}),notify:[wy,Lu],gas:X.object({get:X.function().required(),stream:X.function().required()}),connect:Ey,containerElements:ZS,transactionPreview:X.object({patchProvider:X.function().required(),init:X.function().required(),previewTransaction:X.function()}),theme:Sy,disableFontDownload:X.boolean(),unstoppableResolution:X.function()}),QS=X.object({autoSelect:X.alternatives().try(X.object({label:X.string().required(),disableModals:X.boolean()}),X.string())}),eC=X.object({label:X.string().required()}).required(),tC=X.object({address:X.string().required(),icon:X.string().optional()}),rC=X.object({chainId:np.required(),chainNamespace:ip,wallet:X.string(),rpcUrl:X.string(),label:X.string(),token:X.string(),protectedRpcUrl:X.string(),secondaryTokens:X.array().max(5).items(tC).optional()}),Cy=X.object({key:X.string().required(),type:X.string().allow("pending","error","success","hint"),eventCode:X.string(),message:X.string().required(),id:X.string().required(),autoDismiss:X.number(),onClick:X.function(),link:X.string()}),nC=X.object({sendTransaction:X.function(),estimateGas:X.function(),gasPrice:X.function(),balance:X.alternatives(X.string(),X.number()),txDetails:X.object({value:X.alternatives(X.string(),X.number()),to:X.string(),from:X.string()}),txApproveReminderTimeout:X.number()}),iC=X.object({key:X.string(),type:X.string().allow("pending","error","success","hint"),eventCode:X.string(),message:X.string(),id:X.string(),autoDismiss:X.number(),onClick:X.function(),link:X.string()}),sC=X.object({id:X.string().required(),key:X.string().required(),type:X.string().allow("pending","error","success","hint").required(),eventCode:X.string().required(),message:X.string().required(),autoDismiss:X.number().required(),network:X.string().required(),startTime:X.number(),onClick:X.function(),link:X.string()}),oC=X.any().allow(Cy,X.boolean().allow(!1));function wp(e){return Qr(vy,e)}function aC(e){return Qr(JS,e)}function cC(e){return Qr(QS,e)}function lC(e){return Qr(eC,e)}function xy(e,t){return Qr(X.string().required().label(t||"value"),e)}function Iy(e){return Qr(rC,e)}function uC(e){return Qr(KS,e)}function fC(e){return Qr(Ey,e)}function hC(e){return Qr(_y,e)}function dC(e){return Qr(GS,e)}function Ay(e){return Qr(Lu,e)}function pC(e){return Qr(wy,e)}function gC(e){return Qr(oC,e)}function mC(e){return Qr(sC,e)}function vC(e){return Qr(nC,e)}function bC(e){return Qr(Cy,e)}function xm(e){return Qr(iC,e)}function yC(e){return Qr(WS,e)}function _C(e){return Qr(Sy,e)}function wC(e){return Qr(VS,e)}function EC(e){const t={type:Zb,payload:e.map(({namespace:r="evm",id:n,rpcUrl:i,...o})=>({...o,namespace:r,id:n.toLowerCase(),rpcUrl:i?i.trim():null}))};Dn(t)}function SC(e){const{label:t,token:r,rpcUrl:n,id:i,namespace:o}=e,c=Iy({label:t,token:r,rpcUrl:n,chainId:i,chainNamespace:o});if(c)throw c;Dn({type:Yb,payload:e})}function bd(e){const t=wp(e);if(t)throw console.error(t),t;Dn({type:Jb,payload:e})}function mu(e,t){const r=wp(t);if(r)throw console.error(r),r;const n={type:Qb,payload:{id:e,...t}};Dn(n)}function CC(e){const t=xy(e,"wallet id");if(t)throw t;Dn({type:ey,payload:{id:e}})}function xC(e,t){const r=wp(e)||t&&xy(t,"address");if(r)throw r;if(t){const n=e.accounts.find(i=>i.address===t);n&&(e.accounts=[n,...e.accounts.filter(({address:i})=>i!==n.address)])}bd(e)}function Mc(e,t,r){const n={type:ty,payload:{id:e,address:t,...r}};Dn(n)}function Oy(e){const t=uC(e);if(t)throw t;Dn({type:ry,payload:e})}function IC(e){const t=fC(e);if(t)throw t;Dn({type:ny,payload:e})}function vu(e){const t=Ay(e);if(t)throw t;Dn({type:oy,payload:e})}function Pa(e){const t=mC(e);if(t)throw t;Dn({type:op,payload:e})}function $h(e){const t=bC(e);if(t)throw t;Dn({type:op,payload:e})}function AC(e){const t=xm(e);if(t)throw t;const r=`customNotification-${Ub()}`,n={...e,id:r,key:r};$h(n);const i=()=>Dy(n.id),o=c=>{const a=xm(e);if(a)throw a;const m={...c,id:n.id,key:n.key};return $h(m),{dismiss:i,update:o}};return $h(n),{dismiss:i,update:o}}function Dy(e){if(typeof e!="string")throw new Error("Notification id must be of type string");Dn({type:ay,payload:e})}function OC(){Dn({type:Xb})}function Ty(e){const t=hC(e);if(t)throw t;const r=PC(e),n=RC(r);Dn({type:iy,payload:n})}function DC(e){const t=dC(e);if(t)throw t;Dn({type:sy,payload:e})}function TC(e){const t=yC(e);if(t)throw t;Dn({type:cy,payload:e})}function PC(e){const{device:t}=bi;return e.reduce((r,n)=>{const i=n({device:t});return i&&r.push(...Array.isArray(i)?i:[i]),r},[])}function RC(e){return e.filter((t,r)=>t&&e.findIndex(n=>n&&n.label===t.label)===r)}function Py(e){const t=_C(e);if(t)throw t;const r=$S(e);r&&kc(r)}function Ry(e){const t=wC(e);if(t)throw t;Dn({type:ly,payload:e})}async function $C(e){if(e){const i=cC(e);if(i)throw i}const{chains:t}=st.get();if(!t.length)throw new Error("At least one chain must be set before attempting to connect a wallet");const{autoSelect:r}=e||{autoSelect:{label:"",disableModals:!1}};r&&(typeof r=="string"||r.label)&&await sS(50),st.get().walletModules.length||Ty(bi.initialWalletInit),ds.next({autoSelect:typeof r=="string"?{label:r,disableModals:!1}:r,inProgress:!0});const n=ds.pipe(Wa(({inProgress:i,actionRequired:o})=>i===!1&&!o),pb(cf),Jd(1));return Xu(n)}var LC={selectingWallet:{header:"Available Wallets",sidebar:{heading:"",subheading:"Connect your wallet",paragraph:"Connecting your wallet is like “logging in” to Web3. Select your wallet from the options to get started.",IDontHaveAWallet:"I don't have a wallet"},recommendedWalletsPart1:"{app} only supports",recommendedWalletsPart2:"on this platform. Please use or install one of the supported wallets to continue",installWallet:"You do not have any wallets installed that {app} supports, please use a supported wallet",agreement:{agree:"I agree to the",terms:"Terms & Conditions",and:"and",privacy:"Privacy Policy"},whyDontISeeMyWallet:"Why don't I see my wallet?",learnMore:"Click here to learn more"},connectingWallet:{header:"{connectionRejected, select, false {Connecting to {wallet}...} other {Connection Rejected}}",sidebar:{subheading:"Approve Connection",paragraph:"Please approve the connection in your wallet and authorize access to continue."},mainText:"Connecting...",paragraph:"Make sure to select all accounts that you want to grant access to.",previousConnection:"{wallet} already has a pending connection request, please open the {wallet} app to login and connect.",rejectedText:"Connection Rejected!",rejectedCTA:"Click here to try again",primaryButton:"Back to wallets"},connectedWallet:{header:"Connection Successful",sidebar:{subheading:"Connection Successful!",paragraph:"Your wallet is now connected to {app}"},mainText:"Connected"}},NC={actionRequired:{heading:"Action required in {wallet}",paragraph:"Please switch the active account in your wallet.",linkText:"Learn more.",buttonText:"Okay"},switchChain:{heading:"Switch Chain",paragraph1:"{app} requires that you switch your wallet to the {nextNetworkName} network to continue.",paragraph2:"*Some wallets may not support changing networks. If you can not change networks in your wallet you may consider switching to a different wallet."},confirmDisconnectAll:{heading:"Disconnect all Wallets",description:"Are you sure that you would like to disconnect all your wallets?",confirm:"Confirm",cancel:"Cancel"},confirmTransactionProtection:{heading:"Enable Transaction Protection",description:"Protect RPC endpoints hide your transaction from front-running and sandwich bots.",link:"Learn more",enable:"Enable",dismiss:"Dismiss"}},kC={connectAnotherWallet:"Connect another Wallet",disconnectAllWallets:"Disconnect all Wallets",currentNetwork:"Current Network",enableTransactionProtection:"Enable Transaction Protection",appInfo:"App Info",learnMore:"Learn More",gettingStartedGuide:"Getting Started Guide",smartContracts:"Smart Contract(s)",explore:"Explore",poweredBy:"powered by",addAccount:"Add Account",setPrimaryAccount:"Set Primary Account",disconnectWallet:"Disconnect Wallet",copyAddress:"Copy Wallet address"},MC={transaction:{txRequest:"Your transaction is waiting for you to confirm",nsfFail:"You have insufficient funds for this transaction",txUnderpriced:"The gas price for your transaction is too low, try a higher gas price",txRepeat:"This could be a repeat transaction",txAwaitingApproval:"You have a previous transaction waiting for you to confirm",txConfirmReminder:"Please confirm your transaction to continue",txSendFail:"You rejected the transaction",txSent:"Your transaction has been sent to the network",txStallPending:"Your transaction has stalled before it was sent, please try again",txStuck:"Your transaction is stuck due to a nonce gap",txPool:"Your transaction has started",txStallConfirmed:"Your transaction has stalled and hasn't been confirmed",txSpeedUp:"Your transaction has been sped up",txCancel:"Your transaction is being canceled",txFailed:"Your transaction has failed",txConfirmed:"Your transaction has succeeded",txError:"Oops something went wrong, please try again",txReplaceError:"There was an error replacing your transaction, please try again"},watched:{txPool:"Your account is {verb} {formattedValue} {asset} {preposition} {counterpartyShortened}",txSpeedUp:"Transaction for {formattedValue} {asset} {preposition} {counterpartyShortened} has been sped up",txCancel:"Transaction for {formattedValue} {asset} {preposition} {counterpartyShortened} has been canceled",txConfirmed:"Your account successfully {verb} {formattedValue} {asset} {preposition} {counterpartyShortened}",txFailed:"Your account failed to {verb} {formattedValue} {asset} {preposition} {counterpartyShortened}",txStuck:"Your transaction is stuck due to a nonce gap"},time:{minutes:"min",seconds:"sec"}},Lt={connect:LC,modals:NC,accountCenter:kC,notify:MC};const Lh={};function jC(e){return e?(Lh[e.rpcUrl]||(Lh[e.rpcUrl]=new B4(e.providerConnectionInfo&&e.providerConnectionInfo.url?e.providerConnectionInfo:e.rpcUrl)),Lh[e.rpcUrl]):null}function FC(e){const t={method:"eth_requestAccounts"};return e.request(t)}function Bj(e){const t={method:"eth_selectAccounts"};return e.request(t)}function UC(e){return e.request({method:"eth_chainId"})}function $y(e){const{provider:t,disconnected$:r}=e;return Yd(o=>{t.on("accountsChanged",o)},o=>{t.removeListener("accountsChanged",o)}).pipe(zc(r))}function BC(e){const{provider:t,disconnected$:r}=e;return Yd(o=>{t.on("chainChanged",o)},o=>{t.removeListener("chainChanged",o)}).pipe(zc(r))}function HC(e,t){const r=yp.pipe(Wa(o=>o===t),Xd(1)),n=$y({provider:e,disconnected$:r}).pipe(ad());n.subscribe(async([o])=>{try{await zC(t)}catch(g){console.warn("Web3Onboard: Error whilst trying to sync connected accounts:",g)}if(!o){My({label:t});return}const{wallets:c}=st.get(),{accounts:a}=c.find(g=>g.label===t),[[m],f]=F7(a,g=>g.address===o);if(mu(t,{accounts:[m||{address:o,ens:null,uns:null,balance:null},...f]}),st.get().notify.enabled&&!m){const g=await Mu();if(g){const u=st.get().wallets.find(d=>d.label===t);try{g.subscribe({id:o,chainId:u.chains[0].id,type:"account"})}catch{}}}}),n.pipe(G0(async([o])=>{if(!o)return;const{wallets:c,chains:a}=st.get(),m=c.find(C=>C.label===t),{chains:f,accounts:g}=m,[u]=f,d=a.find(({namespace:C,id:I})=>C==="evm"&&I===u.id),p=Nu(o,d),h=ku(m,o,d),v=g.find(C=>C.address===o),w=a.find(({id:C})=>C===Bc(u.id)),_=v&&v.ens?Promise.resolve(v.ens):w?yd(o,w):Promise.resolve(null),y=v&&v.uns?Promise.resolve(v.uns):_d(o,d);return Promise.all([Promise.resolve(o),p,_,y,h])})).subscribe(o=>{if(!o)return;const[c,a,m,f,g]=o;Mc(t,c,{balance:a,ens:m,uns:f,secondaryTokens:g})});const i=BC({provider:e,disconnected$:r}).pipe(ad());i.subscribe(async o=>{const{wallets:c}=st.get(),{chains:a,accounts:m}=c.find(u=>u.label===t),[f]=a;if(o===f.id)return;if(st.get().notify.enabled){const u=await Mu();if(u){const d=st.get().wallets.find(p=>p.label===t);d.accounts.forEach(({address:p})=>{u.unsubscribe({id:p,chainId:d.chains[0].id,timeout:6e4})}),d.accounts.forEach(({address:p})=>{try{u.subscribe({id:p,chainId:o,type:"account"})}catch{}})}}const g=m.map(({address:u})=>({address:u,ens:null,uns:null,balance:null}));mu(t,{chains:[{namespace:"evm",id:o}],accounts:g})}),i.pipe(G0(async o=>{const{wallets:c,chains:a}=st.get(),m=c.find(u=>u.label===t),{accounts:f}=m,g=a.find(({namespace:u,id:d})=>u==="evm"&&d===o);return Promise.all(f.map(async({address:u})=>{const d=Nu(u,g),p=ku(m,u,g),h=a.find(({id:D})=>D===Bc(o)),v=h?yd(u,h):Promise.resolve(null),w=Bc(o)?_d(u,h):Promise.resolve(null),[_,y,C,I]=await Promise.all([d,v,w,p]);return{address:u,balance:_,ens:y,uns:C,secondaryTokens:I}}))})).subscribe(o=>{o&&mu(t,{accounts:o})}),r.subscribe(()=>{e.disconnect&&e.disconnect()})}async function yd(e,t){if(!t)return null;const r=jC(t);try{const n=await r.lookupAddress(e);let i=null;if(n){const o=await r.getResolver(n);if(o){const[c,a]=await Promise.all([o.getContentHash(),o.getAvatar()]),m=o.getText.bind(o);i={name:n,avatar:a,contentHash:c,getText:m}}}return i}catch(n){return console.error(n),null}}async function _d(e,t){const{unstoppableResolution:r}=bi;if(!r||!U4(e)||!t)return null;try{return await r(e)}catch(n){return console.error(n),null}}async function Nu(e,t){if(!t)return null;const{wallets:r}=st.get();try{const o=await r.find(c=>!!c.provider).provider.request({method:"eth_getBalance",params:[e,"latest"]});return o?{[t.token||"eth"]:qb(o)}:null}catch(n){return console.error(n),null}}function Ly(e,t){return e.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}function qC(e,t){return e.request({method:"wallet_addEthereumChain",params:[{chainId:t.id,chainName:t.label,nativeCurrency:{name:t.label,symbol:t.token,decimals:18},rpcUrls:[t.publicRpcUrl||t.rpcUrl],blockExplorerUrls:t.blockExplorerUrl?[t.blockExplorerUrl]:void 0}]})}function Hj(e,t,r){return e.request({method:"wallet_addEthereumChain",params:[{chainId:t.id,chainName:t.label,nativeCurrency:{name:t.label,symbol:t.token,decimals:18},rpcUrls:[r],blockExplorerUrls:t.blockExplorerUrl?[t.blockExplorerUrl]:void 0}]})}async function WC(e){try{const t=await e.request({method:"wallet_getPermissions"});return Array.isArray(t)?t:[]}catch{return[]}}async function zC(e){const t=st.get().wallets.find(i=>i.label===e),n=(await WC(t.provider)).find(({parentCapability:i})=>i==="eth_accounts");if(n){const{value:i}=n.caveats.find(({type:o})=>o==="restrictReturnedAccounts")||{value:null};if(i){const o=t.accounts.filter(({address:c})=>i.includes(c));mu(t.label,{...t,accounts:o})}}}async function Ny(e){const{wallets:t,chains:r}=st.get(),n=await Promise.all(t.map(async i=>{const o=r.find(({id:a})=>a===i.chains[0].id),c=await Promise.all(i.accounts.map(async a=>{const m=await ku(i,a.address,o);if(!e||e.some(f=>f.toLowerCase()===a.address.toLowerCase())){const f=await Nu(a.address,o);return{...a,balance:f,secondaryTokens:m}}return{...a,secondaryTokens:m}}));return{...i,accounts:c}}));TC(n)}const ku=async(e,t,r)=>{if(!r)return;const n=r.rpcUrl;if(!r.secondaryTokens||!r.secondaryTokens.length||!n)return;const o=new M4(e.provider,"any").getSigner(),c=[{inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"}];return await Promise.all(r.secondaryTokens.map(async m=>{try{const f=new j4(m.address,c,o),g=await f.balanceOf(t);return{name:await f.symbol(),balance:qb(g.toHexString()),icon:m.icon}}catch(f){console.error(`There was an error fetching balance and/or symbol 
          for token contract: ${m.address} - ${f}`)}}))};function VC(e){const t=st.get().notify.transactionHandler(e),r=gC(t);if(r)throw r;e.eventCode==="txConfirmed"&&Ny([e.watchedAddress,e.counterparty]);const n=GC(e,t);Pa(n),RS(e)}function GC(e,t){const{id:r,hash:n,startTime:i,eventCode:o,direction:c,counterparty:a,value:m,asset:f,network:g}=e,u=ky(o),d=`${r||n}-${typeof t=="object"&&t.eventCode||o}`,p=a&&a.substring(0,4)+"..."+a.substring(a.length-4),h=new ia(m||0).div(new ia("1000000000000000000")).toString(10),v=a&&m?{messageId:`notify.watched['${o}']`,values:{verb:o==="txConfirmed"?c==="incoming"?"received":"sent":c==="incoming"?"receiving":"sending",formattedValue:h,preposition:c==="incoming"?"from":"to",counterpartyShortened:p,asset:f}}:{messageId:`notify.transaction['${o}']`,values:{formattedValue:h,asset:f}},w=q4(js),I=Lt.notify[a?"watched":"transaction"][o],D=w(v.messageId,{values:v.values,default:I});let O={id:r||n,type:u,key:d,network:g,startTime:i||Date.now(),eventCode:o,message:D,autoDismiss:KC(typeof t=="object"&&t.type||u)};return typeof t=="object"&&(O={...O,...t}),O}function ky(e){switch(e){case"txSent":case"txPool":return"pending";case"txSpeedUp":case"txCancel":case"txRequest":case"txRepeat":case"txAwaitingApproval":case"txConfirmReminder":case"txStuck":return"hint";case"txError":case"txSendFail":case"txFailed":case"txDropped":case"nsfFail":case"txUnderpriced":return"error";case"txConfirmed":return"success";default:return"hint"}}function KC(e){switch(e){case"success":case"hint":return 4e3;default:return 0}}let nu,iu;async function Mu(){const{apiKey:e}=bi;if(!e)return null;if(!nu){const{default:t}=await Ke(()=>import("./index.cfb80bf3.js"),[],import.meta.url);nu=t.multichain({apiKey:bi.apiKey}),nu.transactions$.subscribe(VC)}return nu}async function ZC(){const{apiKey:e}=bi;if(!e)return null;if(!iu){const{default:t}=await Ke(()=>import("./index.cfb80bf3.js"),[],import.meta.url);return iu=new t({dappId:bi.apiKey,networkId:1}),iu}return iu}async function My(e){const t=lC(e);if(t)throw t;const{label:r}=e;if(st.get().notify.enabled){const i=await Mu();if(i){const o=st.get().wallets.find(c=>c.label===r);o.accounts.forEach(({address:c})=>{i.unsubscribe({id:c,chainId:o.chains[0].id,timeout:6e4})})}}yp.next(r),CC(r);const n=JSON.parse(rf(Ns.LAST_CONNECTED_WALLET));return Array.isArray(n)&&n.indexOf(r)>=0&&nf(Ns.LAST_CONNECTED_WALLET,JSON.stringify(n.filter(i=>i!==r))),typeof n=="string"&&n===r&&Kb(Ns.LAST_CONNECTED_WALLET),st.get().wallets}async function YC(e){const t=Iy(e);if(t)throw t;const{wallets:r,chains:n}=st.get(),{chainId:i,chainNamespace:o="evm",wallet:c,rpcUrl:a,label:m,token:f}=e,g=Gb(i),u=n.find(({namespace:h,id:v})=>h===o&&v.toLowerCase()===g.toLowerCase());if(!u)throw new Error(`Chain with chainId: ${i} and chainNamespace: ${o} has not been set and must be added when Onboard is initialized.`);const d=c?r.find(({label:h})=>h===c):r[0];if(!d)throw new Error(c?`Wallet with label ${c} is not connected`:"A wallet must be connected before a chain can be set");const[p]=d.chains;if(p.namespace===o&&p.id===g)return!0;try{return await Ly(d.provider,g),!0}catch(h){const{code:v}=h,w=Ya.pipe(Wa(_=>_===null),nl(()=>!1));if(v===Lo.CHAIN_NOT_ADDED||v===Lo.UNRECOGNIZED_CHAIN_ID)return(a||m||f)&&(a&&(u.rpcUrl=a),m&&(u.label=m),f&&(u.token=f),SC(u)),XC(d,u,w,g);if(v===Lo.UNSUPPORTED_METHOD)return Ya.next({chain:u}),Xu(w)}return!1}const XC=async(e,t,r,n)=>{try{return await qC(e.provider,t),await Ly(e.provider,n),!0}catch(i){const{code:o}=i;return o===Lo.ACCOUNT_ACCESS_REJECTED?!1:(Ya.next({chain:t}),Xu(r))}};function JC(e){if(e){const{en:t}=e,r=B7(Lt,t||{});du("en",r),Object.keys(e).filter(i=>i!=="en").forEach(i=>{const o=e[i];o&&du(i,o)})}else du("en",Lt);l7({fallbackLocale:"en",initialLocale:b7()})}var QC=`
  <svg width="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z" fill="currentColor"/>
  </svg>
`;function ex(e){pn(e,"svelte-1ubf722",".close-button.svelte-1ubf722.svelte-1ubf722{position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center;height:2rem;width:2rem;border-radius:2rem;cursor:pointer;color:var(--onboard-close-button-color, inherit)}.close-button.svelte-1ubf722.svelte-1ubf722:hover::before{opacity:0.2}.close-button.svelte-1ubf722:hover .svg-box.svelte-1ubf722{opacity:1}.close-button.svelte-1ubf722.svelte-1ubf722::before{content:'';position:absolute;height:inherit;width:inherit;opacity:0.1;background:currentColor;transition:300ms ease-in-out opacity}.svg-box.svelte-1ubf722.svelte-1ubf722{position:absolute;height:1.5rem;width:1.5rem;opacity:0.6;transition:300ms ease-in-out opacity}")}function tx(e){let t,r;return{c(){t=be("div"),r=be("div"),le(r,"class","svg-box svelte-1ubf722"),le(t,"class","close-button svelte-1ubf722")},m(n,i){Pe(n,t,i),he(t,r),r.innerHTML=QC},p:Re,i:Re,o:Re,d(n){n&&De(t)}}}class jy extends mn{constructor(t){super(),gn(this,t,null,tx,dn,{},ex)}}function Fy(e){const t=e-1;return t*t*t+1}function qj(e){return Math.pow(e-1,3)*(1-e)+1}function ju(e,{delay:t=0,duration:r=400,easing:n=ol}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:o=>`opacity: ${o*i}`}}function Wj(e,{delay:t=0,duration:r=400,easing:n=Fy,x:i=0,y:o=0,opacity:c=0}={}){const a=getComputedStyle(e),m=+a.opacity,f=a.transform==="none"?"":a.transform,g=m*(1-c),[u,d]=ym(i),[p,h]=ym(o);return{delay:t,duration:r,easing:n,css:(v,w)=>`
			transform: ${f} translate(${(1-v)*u}${d}, ${(1-v)*p}${h});
			opacity: ${m-g*w}`}}function rx(e,{delay:t=0,duration:r=400,easing:n=Fy,axis:i="y"}={}){const o=getComputedStyle(e),c=+o.opacity,a=i==="y"?"height":"width",m=parseFloat(o[a]),f=i==="y"?["top","bottom"]:["left","right"],g=f.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),u=parseFloat(o[`padding${g[0]}`]),d=parseFloat(o[`padding${g[1]}`]),p=parseFloat(o[`margin${g[0]}`]),h=parseFloat(o[`margin${g[1]}`]),v=parseFloat(o[`border${g[0]}Width`]),w=parseFloat(o[`border${g[1]}Width`]);return{delay:t,duration:r,easing:n,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*c};${a}: ${_*m}px;padding-${f[0]}: ${_*u}px;padding-${f[1]}: ${_*d}px;margin-${f[0]}: ${_*p}px;margin-${f[1]}: ${_*h}px;border-${f[0]}-width: ${_*v}px;border-${f[1]}-width: ${_*w}px;`}}function nx(e){pn(e,"svelte-baitaa",`section.svelte-baitaa{top:0;left:0;pointer-events:none;z-index:var(--onboard-modal-z-index, var(--modal-z-index))}.background.svelte-baitaa{background:var(--onboard-modal-backdrop, var(--modal-backdrop));pointer-events:all}.full-screen-background.svelte-baitaa{width:100vw;height:100vh}.max-height.svelte-baitaa{max-height:calc(100vh - 2rem)}.modal-position.svelte-baitaa{top:var(--onboard-modal-top, var(--modal-top));bottom:var(--onboard-modal-bottom, var(--modal-bottom));left:var(--onboard-modal-left, var(--modal-left));right:var(--onboard-modal-right, var(--modal-right))}.modal-overflow.svelte-baitaa{overflow:hidden}.modal-styling.svelte-baitaa{--border-radius:var(
      --onboard-modal-border-radius,
      var(--w3o-border-radius, 1rem)
    );border-radius:var(--border-radius) var(--border-radius) 0 0;box-shadow:var(--onboard-modal-box-shadow, var(--box-shadow-0));max-width:100vw}.modal.svelte-baitaa{overflow-y:auto;background:var(--onboard-modal-background, white);color:var(--onboard-modal-color, initial)}.width-100.svelte-baitaa{width:100%}.modal-container-mobile.svelte-baitaa{bottom:0}@media all and (min-width: 768px){.modal-styling.svelte-baitaa{border-radius:var(--border-radius)}.modal-container-mobile.svelte-baitaa{bottom:unset;margin:1rem}.width-100.svelte-baitaa{width:unset}}`)}function ix(e){let t,r,n,i,o,c,a,m,f,g;const u=e[3].default,d=ap(u,e,e[2],null);return{c(){t=be("section"),r=be("div"),n=be("div"),i=be("div"),o=be("div"),c=be("div"),d&&d.c(),le(c,"class","modal relative svelte-baitaa"),le(o,"class","modal-overflow modal-styling relative flex justify-center svelte-baitaa"),le(o,"style",`${e[1]?"max-width: 100%;":""}`),le(i,"class","flex relative max-height svelte-baitaa"),Ue(i,"width-100",e[1]),le(n,"class","modal-container-mobile modal-position flex svelte-baitaa"),Ue(n,"absolute",!e[1]),Ue(n,"width-100",e[1]),le(r,"class","background flex items-center justify-center relative svelte-baitaa"),Ue(r,"full-screen-background",!e[1]),le(t,"class","svelte-baitaa"),Ue(t,"fixed",!e[1])},m(p,h){Pe(p,t,h),he(t,r),he(r,n),he(n,i),he(i,o),he(o,c),d&&d.m(c,null),m=!0,f||(g=[yi(i,"click",gS(e[4])),yi(r,"click",function(){Fo(e[0])&&e[0].apply(this,arguments)})],f=!0)},p(p,[h]){e=p,d&&d.p&&(!m||h&4)&&lp(d,u,e,e[2],m?cp(u,e[2],h,null):up(e[2]),null)},i(p){m||(xe(d,p),Qn(()=>{m&&(a||(a=_m(t,ju,{},!0)),a.run(1))}),m=!0)},o(p){$e(d,p),a||(a=_m(t,ju,{},!1)),a.run(0),m=!1},d(p){p&&De(t),d&&d.d(p),p&&a&&a.end(),f=!1,Fs(g)}}}function sx(e,t,r){let{$$slots:n={},$$scope:i}=t;const o=!!bi.containerElements.connectModal,c=document.documentElement;ES(()=>{o||(c.style.position="sticky",c.style.overflow="hidden")}),my(()=>{o||(c.style.position="",c.style.removeProperty("overflow"))});let{close:a}=t;function m(f){SS.call(this,e,f)}return e.$$set=f=>{"close"in f&&r(0,a=f.close),"$$scope"in f&&r(2,i=f.$$scope)},[a,o,i,n,m]}class Ep extends mn{constructor(t){super(),gn(this,t,sx,ix,dn,{close:0},nx)}}function ox(e){pn(e,"svelte-tz7ru1",".container.svelte-tz7ru1{padding:var(--onboard-spacing-4, var(--spacing-4));font-size:var(--onboard-font-size-6, var(--font-size-6));line-height:24px}input.svelte-tz7ru1{height:1rem;width:1rem;margin-right:0.5rem}")}function ax(e){let t,r,n,i,o,c=e[1]("connect.selectingWallet.agreement.agree")+"",a,m,f=" ",g,u,d,p,h,v=e[3]&&cx(e),w=e[4]&&lx(e);return{c(){t=be("div"),r=be("label"),n=be("input"),i=Fe(),o=be("span"),a=Ht(c),m=Fe(),g=Ht(f),u=Fe(),v&&v.c(),d=Fe(),w&&w.c(),le(n,"class"," svelte-tz7ru1"),le(n,"type","checkbox"),le(r,"class","flex"),le(t,"class","container flex items-center svelte-tz7ru1")},m(_,y){Pe(_,t,y),he(t,r),he(r,n),n.checked=e[0],he(r,i),he(r,o),he(o,a),he(o,m),he(o,g),he(o,u),v&&v.m(o,null),he(o,d),w&&w.m(o,null),p||(h=yi(n,"change",e[6]),p=!0)},p(_,y){y&1&&(n.checked=_[0]),y&2&&c!==(c=_[1]("connect.selectingWallet.agreement.agree")+"")&&nr(a,c),_[3]&&v.p(_,y),_[4]&&w.p(_,y)},d(_){_&&De(t),v&&v.d(),w&&w.d(),p=!1,h()}}}function cx(e){let t,r=e[1]("connect.selectingWallet.agreement.terms")+"",n,i=e[4]?" "+e[1]("connect.selectingWallet.agreement.and")+" ":".",o;return{c(){t=be("a"),n=Ht(r),o=Ht(i),le(t,"href",e[3]),le(t,"target","_blank")},m(c,a){Pe(c,t,a),he(t,n),Pe(c,o,a)},p(c,a){a&2&&r!==(r=c[1]("connect.selectingWallet.agreement.terms")+"")&&nr(n,r),a&2&&i!==(i=c[4]?" "+c[1]("connect.selectingWallet.agreement.and")+" ":".")&&nr(o,i)},d(c){c&&De(t),c&&De(o)}}}function lx(e){let t,r=e[1]("connect.selectingWallet.agreement.privacy")+"",n,i;return{c(){t=be("a"),n=Ht(r),i=Ht("."),le(t,"href",e[4]),le(t,"target","_blank")},m(o,c){Pe(o,t,c),he(t,n),Pe(o,i,c)},p(o,c){c&2&&r!==(r=o[1]("connect.selectingWallet.agreement.privacy")+"")&&nr(n,r)},d(o){o&&De(t),o&&De(i)}}}function ux(e){let t,r=e[5]&&ax(e);return{c(){r&&r.c(),t=Ir()},m(n,i){r&&r.m(n,i),Pe(n,t,i)},p(n,[i]){n[5]&&r.p(n,i)},i:Re,o:Re,d(n){r&&r.d(n),n&&De(t)}}}function fx(e,t,r){let n,i;Ur(e,js,w=>r(1,i=w));let{agreed:o}=t;const{terms:c,privacy:a,version:m}=JSON.parse(rf(Ns.TERMS_AGREEMENT)||"{}"),f={termsUrl:"",privacyUrl:"",version:""},g=st.select("appMetadata").pipe(ho(st.get().appMetadata),go(1));Ur(e,g,w=>r(7,n=w));const{termsUrl:u,privacyUrl:d,version:p}=n&&n.agreement||f,h=!!(u&&!c||d&&!a||p&&p!==m);o=!h;function v(){o=this.checked,r(0,o)}return e.$$set=w=>{"agreed"in w&&r(0,o=w.agreed)},e.$$.update=()=>{e.$$.dirty&1&&(o?nf(Ns.TERMS_AGREEMENT,JSON.stringify({version:p,terms:!!u,privacy:!!d})):o===!1&&Kb(Ns.TERMS_AGREEMENT))},[o,i,g,u,d,h,v]}class hx extends mn{constructor(t){super(),gn(this,t,fx,ux,dn,{agreed:0},ox)}}function dx(e){pn(e,"svelte-2btye1",".icon.svelte-2btye1{color:var(--onboard-white, var(--white));border-radius:50px;bottom:-0.25rem;right:-0.25rem}.yellow.svelte-2btye1{background:var(--onboard-warning-500, var(--warning-500))}")}function px(e){let t,r,n;return{c(){t=be("div"),le(t,"class",r=bm(`${e[2]} icon flex absolute`)+" svelte-2btye1"),le(t,"style",n=`width: ${e[0]}px; height: ${e[0]}px; padding: ${e[0]/6}px;`),Ue(t,"yellow",e[1]==="yellow")},m(i,o){Pe(i,t,o),t.innerHTML=eS},p(i,[o]){o&4&&r!==(r=bm(`${i[2]} icon flex absolute`)+" svelte-2btye1")&&le(t,"class",r),o&1&&n!==(n=`width: ${i[0]}px; height: ${i[0]}px; padding: ${i[0]/6}px;`)&&le(t,"style",n),o&6&&Ue(t,"yellow",i[1]==="yellow")},i:Re,o:Re,d(i){i&&De(t)}}}function gx(e,t,r){let{size:n}=t,{color:i="yellow"}=t,{class:o="test"}=t;return e.$$set=c=>{"size"in c&&r(0,n=c.size),"color"in c&&r(1,i=c.color),"class"in c&&r(2,o=c.class)},[n,i,o]}class mx extends mn{constructor(t){super(),gn(this,t,gx,px,dn,{size:0,color:1,class:2},dx)}}function vx(e){pn(e,"svelte-1bikw7k",".icon.svelte-1bikw7k{color:var(--onboard-white, var(--white));border-radius:50px}.green.svelte-1bikw7k{background:var(--onboard-success-600, var(--success-600))}.blue.svelte-1bikw7k{background:var(--onboard-primary-1, var(--primary-1))}")}function bx(e){let t,r;return{c(){t=be("div"),le(t,"class","icon flex svelte-1bikw7k"),le(t,"style",r=`width: ${e[0]}px; height: ${e[0]}px; padding: ${e[0]/5}px;`),Ue(t,"green",e[1]==="green"),Ue(t,"blue",e[1]==="blue")},m(n,i){Pe(n,t,i),t.innerHTML=Vb},p(n,[i]){i&1&&r!==(r=`width: ${n[0]}px; height: ${n[0]}px; padding: ${n[0]/5}px;`)&&le(t,"style",r),i&2&&Ue(t,"green",n[1]==="green"),i&2&&Ue(t,"blue",n[1]==="blue")},i:Re,o:Re,d(n){n&&De(t)}}}function yx(e,t,r){let{size:n}=t,{color:i="green"}=t;return e.$$set=o=>{"size"in o&&r(0,n=o.size),"color"in o&&r(1,i=o.color)},[n,i]}class Uy extends mn{constructor(t){super(),gn(this,t,yx,bx,dn,{size:0,color:1},vx)}}function _x(e){pn(e,"svelte-1le5672",".loading-container.svelte-1le5672.svelte-1le5672{font-family:inherit;font-size:inherit;color:inherit}span.svelte-1le5672.svelte-1le5672{font-family:inherit;font-size:0.889em;margin-top:1rem}.loading.svelte-1le5672.svelte-1le5672{display:inline-block}.loading.svelte-1le5672 div.svelte-1le5672{font-size:inherit;display:block;position:absolute;border:3px solid;border-radius:50%;animation:svelte-1le5672-bn-loading 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:currentColor transparent transparent transparent}.loading.svelte-1le5672 .loading-first.svelte-1le5672{animation-delay:-0.45s}.loading.svelte-1le5672 .loading-second.svelte-1le5672{animation-delay:-0.3s}.loading.svelte-1le5672 .loading-third.svelte-1le5672{animation-delay:-0.15s}@keyframes svelte-1le5672-bn-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}")}function Im(e){let t,r;return{c(){t=be("span"),r=Ht(e[0]),le(t,"class","svelte-1le5672")},m(n,i){Pe(n,t,i),he(t,r)},p(n,i){i&1&&nr(r,n[0])},d(n){n&&De(t)}}}function wx(e){let t,r,n,i,o,c,a,m,f,g,u,d,p=e[0]&&Im(e);return{c(){t=be("div"),r=be("div"),n=be("div"),o=Fe(),c=be("div"),m=Fe(),f=be("div"),d=Fe(),p&&p.c(),le(n,"class","loading-first svelte-1le5672"),le(n,"style",i=`height: ${e[1]}; width: ${e[1]};`),le(c,"class","loading-second svelte-1le5672"),le(c,"style",a=`height: ${e[1]}; width: ${e[1]};`),le(f,"class","loading-third svelte-1le5672"),le(f,"style",g=`height: ${e[1]}; width: ${e[1]};`),le(r,"class","loading relative svelte-1le5672"),le(r,"style",u=`height: ${e[1]}; width: ${e[1]};`),le(t,"class","loading-container flex flex-column justify-center items-center absolute svelte-1le5672")},m(h,v){Pe(h,t,v),he(t,r),he(r,n),he(r,o),he(r,c),he(r,m),he(r,f),he(t,d),p&&p.m(t,null)},p(h,[v]){v&2&&i!==(i=`height: ${h[1]}; width: ${h[1]};`)&&le(n,"style",i),v&2&&a!==(a=`height: ${h[1]}; width: ${h[1]};`)&&le(c,"style",a),v&2&&g!==(g=`height: ${h[1]}; width: ${h[1]};`)&&le(f,"style",g),v&2&&u!==(u=`height: ${h[1]}; width: ${h[1]};`)&&le(r,"style",u),h[0]?p?p.p(h,v):(p=Im(h),p.c(),p.m(t,null)):p&&(p.d(1),p=null)},i:Re,o:Re,d(h){h&&De(t),p&&p.d()}}}function Ex(e,t,r){let{description:n=""}=t,{size:i="2rem"}=t;return e.$$set=o=>{"description"in o&&r(0,n=o.description),"size"in o&&r(1,i=o.size)},[n,i]}class Sx extends mn{constructor(t){super(),gn(this,t,Ex,wx,dn,{description:0,size:1},_x)}}function Cx(e){pn(e,"svelte-i129jl",`.icon.svelte-i129jl{height:100%}.border-custom.svelte-i129jl{border:1px solid var(--border-color)}.border-yellow.svelte-i129jl{border:1px solid var(--onboard-warning-500, var(--warning-500))}.border-gray.svelte-i129jl{border:1px solid var(--onboard-gray-400, var(--gray-400))}.border-green.svelte-i129jl{border:1px solid var(--onboard-success-500, var(--success-500))}.border-dark-green.svelte-i129jl{border:1px solid var(--onboard-success-700, var(--success-700))}.border-blue.svelte-i129jl{border:1px solid
      var(
        --onboard-wallet-app-icon-border-color,
        var(--onboard-primary-300, var(--primary-300))
      )}.border-dark-blue.svelte-i129jl{border:1px solid
      var(
        --onboard-wallet-app-icon-border-color,
        var(--onboard-primary-600, var(--primary-600))
      )}.border-transparent.svelte-i129jl{border:1px solid transparent}.border-black.svelte-i129jl{border:1px solid var(--onboard-gray-600, var(--gray-600))}.background-gray.svelte-i129jl{background:var(
      --onboard-wallet-app-icon-background-gray,
      var(--onboard-gray-500, var(--gray-500))
    )}.background-light-gray.svelte-i129jl{background:var(
      --onboard-wallet-app-icon-background-light-gray,
      var(--onboard-gray-100, var(--gray-100))
    )}.background-light-blue.svelte-i129jl{background:var(
      --onboard-wallet-app-icon-background-light-blue,
      var(--onboard-primary-100, var(--primary-100))
    )}.background-green.svelte-i129jl{background:var(
      --onboard-wallet-app-icon-background-green,
      var(--onboard-success-100, var(--success-100))
    )}.background-white.svelte-i129jl{background:var(
      --onboard-wallet-app-icon-background-white,
      var(--onboard-white, var(--white))
    )}.background-transparent.svelte-i129jl{background:var(
      --onboard-wallet-app-icon-background-transparent,
      transparent
    )}@keyframes svelte-i129jl-pulse{from{opacity:0}to{opacity:1}}.placeholder-icon.svelte-i129jl{width:100%;height:100%;background:var(--onboard-gray-100, var(--gray-100));border-radius:32px;animation:svelte-i129jl-pulse infinite 750ms alternate ease-in-out}.spinner-container.svelte-i129jl{color:var(--onboard-primary-300, var(--primary-300))}img.svelte-i129jl{max-width:100%;height:auto}.pending-status-icon{z-index:1;fill:white;box-shadow:0px 2px 12px 0px rgba(0, 0, 0, 0.1)}.status-icon-container.svelte-i129jl{right:-0.25rem;bottom:-0.25rem;position:absolute}`)}const xx=e=>({}),Am=e=>({});function Ix(e){let t,r,n,i={ctx:e,current:null,token:null,hasCatch:!1,pending:Rx,then:Dx,catch:Ox,value:13,blocks:[,,,]};return sa(r=e[1],i),{c(){t=Ir(),i.block.c()},m(o,c){Pe(o,t,c),i.block.m(o,i.anchor=c),i.mount=()=>t.parentNode,i.anchor=t,n=!0},p(o,c){e=o,i.ctx=e,c&2&&r!==(r=e[1])&&sa(r,i)||tc(i,e,c)},i(o){n||(xe(i.block),n=!0)},o(o){for(let c=0;c<3;c+=1){const a=i.blocks[c];$e(a)}n=!1},d(o){o&&De(t),i.block.d(o),i.token=null,i=null}}}function Ax(e){let t,r,n;return r=new Sx({props:{size:"2rem"}}),{c(){t=be("div"),qt(r.$$.fragment),le(t,"class","spinner-container svelte-i129jl")},m(i,o){Pe(i,t,o),Ft(r,t,null),n=!0},p:Re,i(i){n||(xe(r.$$.fragment,i),n=!0)},o(i){$e(r.$$.fragment,i),n=!1},d(i){i&&De(t),Ut(r)}}}function Ox(e){return{c:Re,m:Re,p:Re,i:Re,o:Re,d:Re}}function Dx(e){let t,r,n,i,o,c;function a(u,d){return d&2&&(r=null),r==null&&(r=!!sp(u[13])),r?Px:Tx}let m=a(e,-1),f=m(e),g=e[2]&&e[9]<=sn&&Om();return{c(){t=be("div"),f.c(),i=Fe(),g&&g.c(),o=Ir(),le(t,"class","icon flex justify-center items-center svelte-i129jl")},m(u,d){Pe(u,t,d),f.m(t,null),Pe(u,i,d),g&&g.m(u,d),Pe(u,o,d),c=!0},p(u,d){m===(m=a(u,d))&&f?f.p(u,d):(f.d(1),f=m(u),f&&(f.c(),f.m(t,null))),u[2]&&u[9]<=sn?g?d&516&&xe(g,1):(g=Om(),g.c(),xe(g,1),g.m(o.parentNode,o)):g&&(kr(),$e(g,1,1,()=>{g=null}),Mr())},i(u){c||(u&&(n||Qn(()=>{n=vp(t,ju,{}),n.start()})),xe(g),c=!0)},o(u){$e(g),c=!1},d(u){u&&De(t),f.d(),u&&De(i),g&&g.d(u),u&&De(o)}}}function Tx(e){let t,r;return{c(){t=be("img"),Za(t.src,r=e[13])||le(t,"src",r),le(t,"alt","logo"),le(t,"class","svelte-i129jl")},m(n,i){Pe(n,t,i)},p(n,i){i&2&&!Za(t.src,r=n[13])&&le(t,"src",r)},d(n){n&&De(t)}}}function Px(e){let t,r=e[13]+"",n;return{c(){t=new ec(!1),n=Ir(),t.a=n},m(i,o){t.m(r,i,o),Pe(i,n,o)},p(i,o){o&2&&r!==(r=i[13]+"")&&t.p(r)},d(i){i&&De(n),i&&t.d()}}}function Om(e){let t,r,n;return r=new mx({props:{class:"pending-status-icon",size:20}}),{c(){t=be("div"),qt(r.$$.fragment),le(t,"class","status-icon-container svelte-i129jl")},m(i,o){Pe(i,t,o),Ft(r,t,null),n=!0},i(i){n||(xe(r.$$.fragment,i),n=!0)},o(i){$e(r.$$.fragment,i),n=!1},d(i){i&&De(t),Ut(r)}}}function Rx(e){let t;return{c(){t=be("div"),le(t,"class","placeholder-icon svelte-i129jl")},m(r,n){Pe(r,t,n)},p:Re,i:Re,o:Re,d(r){r&&De(t)}}}function $x(e){let t,r,n,i,o,c,a,m;Qn(e[12]);const f=[Ax,Ix],g=[];function u(h,v){return h[2]&&h[9]>=sn?0:1}r=u(e),n=g[r]=f[r](e);const d=e[11].status,p=ap(d,e,e[10],Am);return{c(){t=be("div"),n.c(),i=Fe(),p&&p.c(),le(t,"class","relative svelte-i129jl"),le(t,"style",o=`${e[6]==="custom"?`background-color: ${e[7]}`:""}; padding: ${e[3]-1}px; width: ${e[0]}px; height: ${e[0]}px; border-radius: ${e[8]}px; color: ${e[4]};`),Ue(t,"border-custom",e[5]==="custom"),Ue(t,"border-yellow",e[5]==="yellow"),Ue(t,"border-gray",e[5]==="gray"),Ue(t,"border-green",e[5]==="green"),Ue(t,"border-dark-green",e[5]==="darkGreen"),Ue(t,"border-blue",e[5]==="blue"),Ue(t,"border-dark-blue",e[5]==="darkBlue"),Ue(t,"border-transparent",e[5]==="transparent"),Ue(t,"border-black",e[5]==="black"),Ue(t,"background-gray",e[6]==="gray"),Ue(t,"background-light-gray",e[6]==="lightGray"),Ue(t,"background-light-blue",e[6]==="lightBlue"),Ue(t,"background-green",e[6]==="green"),Ue(t,"background-white",e[6]==="white"),Ue(t,"background-transparent",e[6]==="transparent")},m(h,v){Pe(h,t,v),g[r].m(t,null),he(t,i),p&&p.m(t,null),c=!0,a||(m=yi(window,"resize",e[12]),a=!0)},p(h,[v]){let w=r;r=u(h),r===w?g[r].p(h,v):(kr(),$e(g[w],1,1,()=>{g[w]=null}),Mr(),n=g[r],n?n.p(h,v):(n=g[r]=f[r](h),n.c()),xe(n,1),n.m(t,i)),p&&p.p&&(!c||v&1024)&&lp(p,d,h,h[10],c?cp(d,h[10],v,xx):up(h[10]),Am),(!c||v&473&&o!==(o=`${h[6]==="custom"?`background-color: ${h[7]}`:""}; padding: ${h[3]-1}px; width: ${h[0]}px; height: ${h[0]}px; border-radius: ${h[8]}px; color: ${h[4]};`))&&le(t,"style",o),(!c||v&32)&&Ue(t,"border-custom",h[5]==="custom"),(!c||v&32)&&Ue(t,"border-yellow",h[5]==="yellow"),(!c||v&32)&&Ue(t,"border-gray",h[5]==="gray"),(!c||v&32)&&Ue(t,"border-green",h[5]==="green"),(!c||v&32)&&Ue(t,"border-dark-green",h[5]==="darkGreen"),(!c||v&32)&&Ue(t,"border-blue",h[5]==="blue"),(!c||v&32)&&Ue(t,"border-dark-blue",h[5]==="darkBlue"),(!c||v&32)&&Ue(t,"border-transparent",h[5]==="transparent"),(!c||v&32)&&Ue(t,"border-black",h[5]==="black"),(!c||v&64)&&Ue(t,"background-gray",h[6]==="gray"),(!c||v&64)&&Ue(t,"background-light-gray",h[6]==="lightGray"),(!c||v&64)&&Ue(t,"background-light-blue",h[6]==="lightBlue"),(!c||v&64)&&Ue(t,"background-green",h[6]==="green"),(!c||v&64)&&Ue(t,"background-white",h[6]==="white"),(!c||v&64)&&Ue(t,"background-transparent",h[6]==="transparent")},i(h){c||(xe(n),xe(p,h),c=!0)},o(h){$e(n),$e(p,h),c=!1},d(h){h&&De(t),g[r].d(),p&&p.d(h),a=!1,m()}}}function Lx(e,t,r){let{$$slots:n={},$$scope:i}=t,{size:o}=t,{icon:c}=t,{loading:a=!1}=t,{padding:m=o/6}=t,{color:f="black"}=t,{border:g="transparent"}=t,{background:u="transparent"}=t,{customBackgroundColor:d=""}=t,{radius:p=12}=t,h;function v(){r(9,h=window.innerWidth)}return e.$$set=w=>{"size"in w&&r(0,o=w.size),"icon"in w&&r(1,c=w.icon),"loading"in w&&r(2,a=w.loading),"padding"in w&&r(3,m=w.padding),"color"in w&&r(4,f=w.color),"border"in w&&r(5,g=w.border),"background"in w&&r(6,u=w.background),"customBackgroundColor"in w&&r(7,d=w.customBackgroundColor),"radius"in w&&r(8,p=w.radius),"$$scope"in w&&r(10,i=w.$$scope)},[o,c,a,m,f,g,u,d,p,h,i,n,v]}class Jc extends mn{constructor(t){super(),gn(this,t,Lx,$x,dn,{size:0,icon:1,loading:2,padding:3,color:4,border:5,background:6,customBackgroundColor:7,radius:8},Cx)}}function Nx(e){pn(e,"svelte-q2gson",".container.svelte-q2gson{gap:1rem;padding:0.75rem;color:var(--onboard-warning-700, var(--warning-700));font-size:var(--onboard-font-size-7, var(--font-size-7));line-height:16px;border:1px solid var(--onboard-warning-400, var(--warning-400));background:var(--onboard-warning-100, var(--warning-100));border-radius:12px}.icon.svelte-q2gson{color:var(--onboard-warning-700, var(--warning-700));width:1rem;height:1rem;flex:0 0 auto}")}function kx(e){let t,r,n,i,o,c;const a=e[1].default,m=ap(a,e,e[0],null);return{c(){t=be("div"),r=be("div"),m&&m.c(),n=Fe(),i=be("div"),le(i,"class","icon svelte-q2gson"),le(t,"class","container flex justify-between svelte-q2gson")},m(f,g){Pe(f,t,g),he(t,r),m&&m.m(r,null),he(t,n),he(t,i),i.innerHTML=tf,c=!0},p(f,[g]){m&&m.p&&(!c||g&1)&&lp(m,a,f,f[0],c?cp(a,f[0],g,null):up(f[0]),null)},i(f){c||(xe(m,f),f&&(o||Qn(()=>{o=vp(t,rx,{delay:50,duration:500}),o.start()})),c=!0)},o(f){$e(m,f),c=!1},d(f){f&&De(t),m&&m.d(f)}}}function Mx(e,t,r){let{$$slots:n={},$$scope:i}=t;return e.$$set=o=>{"$$scope"in o&&r(0,i=o.$$scope)},[i,n]}class Sp extends mn{constructor(t){super(),gn(this,t,Mx,kx,dn,{},Nx)}}function jx(e){pn(e,"svelte-1kfgpsl",`.container.svelte-1kfgpsl{padding:var(--onboard-spacing-4, var(--spacing-4));color:var(
      --onboard-connect-accent-text-color,
      var(--onboard-gray-700, var(--gray-700))
    )}.connecting-container.svelte-1kfgpsl{padding:var(--onboard-spacing-4, var(--spacing-4));border-radius:var(--onboard-border-radius-1, var(--border-radius-1));background:var(--onboard-success-100, var(--success-100));border:1px solid var(--onboard-success-600, var(--success-600));width:100%}.text.svelte-1kfgpsl{right:var(--onboard-spacing-5, var(--spacing-5))}.tick.svelte-1kfgpsl{color:var(--onboard-success-700, var(--success-700))}`)}function Fx(e){let t,r,n,i,o,c,a,m,f,g,u,d,p,h=e[2]("connect.connectedWallet.mainText",{default:Lt.connect.connectedWallet.mainText,values:{wallet:e[0].label}})+"",v,w,_,y;return o=new Jc({props:{size:40,padding:8,background:e[1]&&e[1].icon?"lightBlue":"lightGray",border:"darkGreen",icon:e[1]&&e[1].icon||Kc}}),m=new Uy({props:{size:17}}),u=new Jc({props:{size:40,padding:8,border:"darkGreen",background:"white",icon:e[0].icon}}),{c(){t=be("div"),r=be("div"),n=be("div"),i=be("div"),qt(o.$$.fragment),c=Fe(),a=be("div"),qt(m.$$.fragment),f=Fe(),g=be("div"),qt(u.$$.fragment),d=Fe(),p=be("div"),v=Ht(h),w=Fe(),_=be("div"),le(a,"class","relative"),$s(a,"right","1rem"),$s(a,"top","4px"),$s(a,"z-index","1"),le(g,"class","relative"),$s(g,"right","1.75rem"),le(i,"class","flex justify-center items-end relative"),le(p,"class","text relative svelte-1kfgpsl"),le(n,"class","flex items-center"),le(_,"class","tick flex items-center svelte-1kfgpsl"),$s(_,"width","24px"),le(r,"class","connecting-container flex justify-between items-center svelte-1kfgpsl"),le(t,"class","container svelte-1kfgpsl")},m(C,I){Pe(C,t,I),he(t,r),he(r,n),he(n,i),Ft(o,i,null),he(i,c),he(i,a),Ft(m,a,null),he(i,f),he(i,g),Ft(u,g,null),he(n,d),he(n,p),he(p,v),he(r,w),he(r,_),_.innerHTML=Vb,y=!0},p(C,[I]){const D={};I&2&&(D.background=C[1]&&C[1].icon?"lightBlue":"lightGray"),I&2&&(D.icon=C[1]&&C[1].icon||Kc),o.$set(D);const O={};I&1&&(O.icon=C[0].icon),u.$set(O),(!y||I&5)&&h!==(h=C[2]("connect.connectedWallet.mainText",{default:Lt.connect.connectedWallet.mainText,values:{wallet:C[0].label}})+"")&&nr(v,h)},i(C){y||(xe(o.$$.fragment,C),xe(m.$$.fragment,C),xe(u.$$.fragment,C),y=!0)},o(C){$e(o.$$.fragment,C),$e(m.$$.fragment,C),$e(u.$$.fragment,C),y=!1},d(C){C&&De(t),Ut(o),Ut(m),Ut(u)}}}function Ux(e,t,r){let n,i;Ur(e,js,a=>r(2,i=a));let{selectedWallet:o}=t;const c=st.select("appMetadata").pipe(ho(st.get().appMetadata),go(1));return Ur(e,c,a=>r(1,n=a)),e.$$set=a=>{"selectedWallet"in a&&r(0,o=a.selectedWallet)},[o,n,i,c]}class Bx extends mn{constructor(t){super(),gn(this,t,Ux,Fx,dn,{selectedWallet:0},jx)}}function Hx(e){pn(e,"svelte-j1ywa3",`.container.svelte-j1ywa3{padding:var(--onboard-spacing-4, var(--spacing-4))}.connecting-container.svelte-j1ywa3{width:100%;padding:var(--onboard-spacing-4, var(--spacing-4));transition:background-color 100ms ease-in-out,
      border-color 100ms ease-in-out;border-radius:24px;background:var(--onboard-primary-100, var(--primary-100));border:1px solid;border-color:var(--onboard-primary-300, var(--primary-300));color:var(--onboard-gray-600, var(--gray-600))}.connecting-container.warning.svelte-j1ywa3{background:var(--onboard-warning-100, var(--warning-100));border-color:var(--onboard-warning-400, var(--warning-400))}.text.svelte-j1ywa3{line-height:16px;margin-bottom:var(--onboard-spacing-5, var(--spacing-5))}.text.text-rejected.svelte-j1ywa3{line-height:24px;margin-bottom:0}.subtext.svelte-j1ywa3{font-size:var(--onboard-font-size-7, var(--font-size-7));line-height:16px}.rejected-cta.svelte-j1ywa3{color:var(--onboard-primary-500, var(--primary-500))}.onboard-button-primary.svelte-j1ywa3{bottom:var(--onboard-spacing-3, var(--spacing-3))}.ml.svelte-j1ywa3{margin-left:var(--onboard-spacing-4, var(--spacing-4))}@media all and (max-width: 520px){.connecting-container.svelte-j1ywa3{border-radius:var(--onboard-border-radius-4, var(--border-radius-4))}.container.svelte-j1ywa3{padding-bottom:0}.wallet-badges.svelte-j1ywa3{display:none}.connecting-wallet-info.svelte-j1ywa3{margin:0}.onboard-button-primary.svelte-j1ywa3{display:none}}`)}function qx(e){let t,r=e[7](`connect.connectingWallet.${e[5]?"previousConnection":"paragraph"}`,{default:Lt.connect.connectingWallet.paragraph,values:{wallet:e[1].label}})+"",n;return{c(){t=be("div"),n=Ht(r),le(t,"class","subtext svelte-j1ywa3")},m(i,o){Pe(i,t,o),he(t,n)},p(i,o){o&162&&r!==(r=i[7](`connect.connectingWallet.${i[5]?"previousConnection":"paragraph"}`,{default:Lt.connect.connectingWallet.paragraph,values:{wallet:i[1].label}})+"")&&nr(n,r)},d(i){i&&De(t)}}}function Wx(e){let t,r=e[7]("connect.connectingWallet.rejectedCTA",{default:Lt.connect.connectingWallet.rejectedCTA,values:{wallet:e[1].label}})+"",n,i,o;return{c(){t=be("div"),n=Ht(r),le(t,"class","rejected-cta pointer subtext svelte-j1ywa3")},m(c,a){Pe(c,t,a),he(t,n),i||(o=yi(t,"click",function(){Fo(e[0])&&e[0].apply(this,arguments)}),i=!0)},p(c,a){e=c,a&130&&r!==(r=e[7]("connect.connectingWallet.rejectedCTA",{default:Lt.connect.connectingWallet.rejectedCTA,values:{wallet:e[1].label}})+"")&&nr(n,r)},d(c){c&&De(t),i=!1,o()}}}function zx(e){let t,r,n,i,o,c,a,m,f,g,u,d=e[7](`connect.connectingWallet.${e[4]?"rejectedText":"mainText"}`,{default:e[4]?Lt.connect.connectingWallet.rejectedText:Lt.connect.connectingWallet.mainText,values:{wallet:e[1].label}})+"",p,h,v,w,_=e[7]("connect.connectingWallet.primaryButton",{default:Lt.connect.connectingWallet.primaryButton})+"",y,C,I,D;o=new Jc({props:{size:40,padding:8,icon:e[6]&&e[6].icon||Kc,border:e[4]||e[5]?"yellow":"blue",background:"lightGray"}}),m=new Jc({props:{size:40,padding:8,border:e[4]||e[5]?"yellow":"blue",background:"white",icon:e[1].icon}});function O(x,A){return x[4]?Wx:qx}let E=O(e),b=E(e);return{c(){t=be("div"),r=be("div"),n=be("div"),i=be("div"),qt(o.$$.fragment),c=Fe(),a=be("div"),qt(m.$$.fragment),f=Fe(),g=be("div"),u=be("div"),p=Ht(d),h=Fe(),b.c(),v=Fe(),w=be("button"),y=Ht(_),le(a,"class","relative"),$s(a,"right","0.5rem"),le(i,"class","flex justify-center relative wallet-badges svelte-j1ywa3"),le(u,"class","text svelte-j1ywa3"),Ue(u,"text-rejected",e[4]),le(g,"class","flex flex-column justify-center ml connecting-wallet-info svelte-j1ywa3"),le(n,"class","flex"),le(r,"class","connecting-container flex justify-between items-center svelte-j1ywa3"),Ue(r,"warning",e[4]||e[5]),le(w,"class","onboard-button-primary absolute svelte-j1ywa3"),le(t,"class","container flex flex-column items-center svelte-j1ywa3")},m(x,A){Pe(x,t,A),he(t,r),he(r,n),he(n,i),Ft(o,i,null),he(i,c),he(i,a),Ft(m,a,null),he(n,f),he(n,g),he(g,u),he(u,p),he(g,h),b.m(g,null),he(t,v),he(t,w),he(w,y),C=!0,I||(D=yi(w,"click",e[9]),I=!0)},p(x,[A]){const N={};A&64&&(N.icon=x[6]&&x[6].icon||Kc),A&48&&(N.border=x[4]||x[5]?"yellow":"blue"),o.$set(N);const j={};A&48&&(j.border=x[4]||x[5]?"yellow":"blue"),A&2&&(j.icon=x[1].icon),m.$set(j),(!C||A&146)&&d!==(d=x[7](`connect.connectingWallet.${x[4]?"rejectedText":"mainText"}`,{default:x[4]?Lt.connect.connectingWallet.rejectedText:Lt.connect.connectingWallet.mainText,values:{wallet:x[1].label}})+"")&&nr(p,d),(!C||A&16)&&Ue(u,"text-rejected",x[4]),E===(E=O(x))&&b?b.p(x,A):(b.d(1),b=E(x),b&&(b.c(),b.m(g,null))),(!C||A&48)&&Ue(r,"warning",x[4]||x[5]),(!C||A&128)&&_!==(_=x[7]("connect.connectingWallet.primaryButton",{default:Lt.connect.connectingWallet.primaryButton})+"")&&nr(y,_)},i(x){C||(xe(o.$$.fragment,x),xe(m.$$.fragment,x),C=!0)},o(x){$e(o.$$.fragment,x),$e(m.$$.fragment,x),C=!1},d(x){x&&De(t),Ut(o),Ut(m),b.d(),I=!1,D()}}}function Vx(e,t,r){let n,i;Ur(e,js,p=>r(7,i=p));let{connectWallet:o}=t,{selectedWallet:c}=t,{deselectWallet:a}=t,{setStep:m}=t,{connectionRejected:f}=t,{previousConnectionRequest:g}=t;const u=st.select("appMetadata").pipe(ho(st.get().appMetadata),go(1));Ur(e,u,p=>r(6,n=p));const d=()=>{a(c.label),m("selectingWallet")};return e.$$set=p=>{"connectWallet"in p&&r(0,o=p.connectWallet),"selectedWallet"in p&&r(1,c=p.selectedWallet),"deselectWallet"in p&&r(2,a=p.deselectWallet),"setStep"in p&&r(3,m=p.setStep),"connectionRejected"in p&&r(4,f=p.connectionRejected),"previousConnectionRequest"in p&&r(5,g=p.previousConnectionRequest)},[o,c,a,m,f,g,n,i,u,d]}class Gx extends mn{constructor(t){super(),gn(this,t,Vx,zx,dn,{connectWallet:0,selectedWallet:1,deselectWallet:2,setStep:3,connectionRejected:4,previousConnectionRequest:5},Hx)}}function Kx(e){pn(e,"svelte-1uy2ffh",".outer-container.svelte-1uy2ffh{padding:var(--onboard-spacing-4, var(--spacing-4))}.link.svelte-1uy2ffh{font-size:var(--onboard-font-size-7, var(--font-size-7));line-height:16px;color:var(--onboard-primary-500, var(--primary-500));text-decoration:none}")}function Dm(e,t,r){const n=e.slice();return n[3]=t[r].name,n[4]=t[r].url,n[6]=r,n}function Zx(e){let t=e[1]("connect.selectingWallet.installWallet",{default:Lt.connect.selectingWallet.installWallet,values:{app:e[0].name||"this app"}})+"",r;return{c(){r=Ht(t)},m(n,i){Pe(n,r,i)},p(n,i){i&3&&t!==(t=n[1]("connect.selectingWallet.installWallet",{default:Lt.connect.selectingWallet.installWallet,values:{app:n[0].name||"this app"}})+"")&&nr(r,t)},d(n){n&&De(r)}}}function Yx(e){let t=e[1]("connect.selectingWallet.recommendedWalletsPart1",{default:Lt.connect.selectingWallet.recommendedWalletsPart1,values:{app:e[0].name||"This app"}})+"",r,n,i,o=e[1]("connect.selectingWallet.recommendedWalletsPart2",{default:Lt.connect.selectingWallet.recommendedWalletsPart2})+"",c,a=e[0].recommendedInjectedWallets,m=[];for(let f=0;f<a.length;f+=1)m[f]=Tm(Dm(e,a,f));return{c(){r=Ht(t),n=Fe();for(let f=0;f<m.length;f+=1)m[f].c();i=Fe(),c=Ht(o)},m(f,g){Pe(f,r,g),Pe(f,n,g);for(let u=0;u<m.length;u+=1)m[u]&&m[u].m(f,g);Pe(f,i,g),Pe(f,c,g)},p(f,g){if(g&3&&t!==(t=f[1]("connect.selectingWallet.recommendedWalletsPart1",{default:Lt.connect.selectingWallet.recommendedWalletsPart1,values:{app:f[0].name||"This app"}})+"")&&nr(r,t),g&1){a=f[0].recommendedInjectedWallets;let u;for(u=0;u<a.length;u+=1){const d=Dm(f,a,u);m[u]?m[u].p(d,g):(m[u]=Tm(d),m[u].c(),m[u].m(i.parentNode,i))}for(;u<m.length;u+=1)m[u].d(1);m.length=a.length}g&2&&o!==(o=f[1]("connect.selectingWallet.recommendedWalletsPart2",{default:Lt.connect.selectingWallet.recommendedWalletsPart2})+"")&&nr(c,o)},d(f){f&&De(r),f&&De(n),gy(m,f),f&&De(i),f&&De(c)}}}function Tm(e){let t,r=e[3]+"",n,i=e[6]<e[0].recommendedInjectedWallets.length-1?", ":"",o,c;return{c(){t=be("a"),n=Ht(r),o=Ht(i),le(t,"class","link pointer svelte-1uy2ffh"),le(t,"href",c=e[4]),le(t,"target","_blank"),le(t,"rel","noreferrer noopener")},m(a,m){Pe(a,t,m),he(t,n),he(t,o)},p(a,m){m&1&&r!==(r=a[3]+"")&&nr(n,r),m&1&&i!==(i=a[6]<a[0].recommendedInjectedWallets.length-1?", ":"")&&nr(o,i),m&1&&c!==(c=a[4])&&le(t,"href",c)},d(a){a&&De(t)}}}function Xx(e){let t;function r(o,c){return o[0].recommendedInjectedWallets?Yx:Zx}let n=r(e),i=n(e);return{c(){i.c(),t=Ir()},m(o,c){i.m(o,c),Pe(o,t,c)},p(o,c){n===(n=r(o))&&i?i.p(o,c):(i.d(1),i=n(o),i&&(i.c(),i.m(t.parentNode,t)))},d(o){i.d(o),o&&De(t)}}}function Jx(e){let t,r,n;return r=new Sp({props:{$$slots:{default:[Xx]},$$scope:{ctx:e}}}),{c(){t=be("div"),qt(r.$$.fragment),le(t,"class","outer-container svelte-1uy2ffh")},m(i,o){Pe(i,t,o),Ft(r,t,null),n=!0},p(i,[o]){const c={};o&131&&(c.$$scope={dirty:o,ctx:i}),r.$set(c)},i(i){n||(xe(r.$$.fragment,i),n=!0)},o(i){$e(r.$$.fragment,i),n=!1},d(i){i&&De(t),Ut(r)}}}function Qx(e,t,r){let n,i;Ur(e,js,c=>r(1,i=c));const o=st.select("appMetadata").pipe(ho(st.get().appMetadata),go(1));return Ur(e,o,c=>r(0,n=c)),[n,i,o]}class eI extends mn{constructor(t){super(),gn(this,t,Qx,Jx,dn,{},Kx)}}function tI(e){pn(e,"svelte-1vlog3j","button.svelte-1vlog3j:disabled{opacity:0.5}button.wallet-button-styling.svelte-1vlog3j{position:relative;align-items:flex-start;flex:1;padding:0;background:none;color:var(--onboard-wallet-button-color, inherit)}.wallet-button-container.svelte-1vlog3j{display:flex}.wallet-button-container-inner.svelte-1vlog3j{position:relative;display:flex;flex-flow:column;align-items:center;gap:0.5rem;padding:0.75rem;width:5rem}.name.svelte-1vlog3j{font-size:var(--onboard-font-size-7, var(--font-size-7));line-height:1rem;text-overflow:ellipsis;max-width:5rem;max-height:2rem;overflow:hidden}.status-icon.svelte-1vlog3j{position:absolute;top:3.5rem;left:3.5rem}@media screen and (min-width: 768px){button.wallet-button-styling.svelte-1vlog3j{transition:background-color 250ms ease-in-out;background:var(--onboard-wallet-button-background, none);border:1px solid transparent;border-color:var(--onboard-wallet-button-border-color, var(--border-color));border-radius:var(--onboard-wallet-button-border-radius, var(--border-radius-1))}button.wallet-button-styling.svelte-1vlog3j:hover{background:var(--onboard-wallet-button-background-hover, var(--foreground-color));color:var(--onboard-wallet-button-color-hover)}.wallet-button-container-inner.svelte-1vlog3j{flex:1;flex-flow:row nowrap;gap:1rem;padding:1rem}button.connected.svelte-1vlog3j{border-color:var(--onboard-success-500, var(--success-500))}.name.svelte-1vlog3j{font-size:1rem;line-height:1.25rem;text-align:initial;max-width:inherit;max-height:3rem}.status-icon.svelte-1vlog3j{top:0;bottom:0;left:auto;right:1rem;margin:auto;height:20px}}")}function Pm(e){let t,r,n;return r=new Uy({props:{size:20}}),{c(){t=be("div"),qt(r.$$.fragment),le(t,"class","status-icon svelte-1vlog3j")},m(i,o){Pe(i,t,o),Ft(r,t,null),n=!0},i(i){n||(xe(r.$$.fragment,i),n=!0)},o(i){$e(r.$$.fragment,i),n=!1},d(i){i&&De(t),Ut(r)}}}function rI(e){let t,r,n,i,o,c,a,m,f,g,u,d;Qn(e[7]),i=new Jc({props:{size:e[6]>=sn?48:56,icon:e[0],loading:e[4],border:e[3]?"green":"custom",background:"transparent"}});let p=e[3]&&Pm();return{c(){t=be("div"),r=be("button"),n=be("div"),qt(i.$$.fragment),o=Fe(),c=be("div"),a=Ht(e[1]),m=Fe(),p&&p.c(),le(c,"class","name svelte-1vlog3j"),le(n,"class","wallet-button-container-inner svelte-1vlog3j"),le(r,"class","wallet-button-styling svelte-1vlog3j"),r.disabled=e[5],Ue(r,"connected",e[3]),le(t,"class","wallet-button-container svelte-1vlog3j")},m(h,v){Pe(h,t,v),he(t,r),he(r,n),Ft(i,n,null),he(n,o),he(n,c),he(c,a),he(n,m),p&&p.m(n,null),g=!0,u||(d=[yi(window,"resize",e[7]),yi(r,"click",function(){Fo(e[2])&&e[2].apply(this,arguments)})],u=!0)},p(h,[v]){e=h;const w={};v&64&&(w.size=e[6]>=sn?48:56),v&1&&(w.icon=e[0]),v&16&&(w.loading=e[4]),v&8&&(w.border=e[3]?"green":"custom"),i.$set(w),(!g||v&2)&&nr(a,e[1]),e[3]?p?v&8&&xe(p,1):(p=Pm(),p.c(),xe(p,1),p.m(n,null)):p&&(kr(),$e(p,1,1,()=>{p=null}),Mr()),(!g||v&32)&&(r.disabled=e[5]),(!g||v&8)&&Ue(r,"connected",e[3])},i(h){g||(xe(i.$$.fragment,h),xe(p),h&&(f||Qn(()=>{f=vp(r,ju,{}),f.start()})),g=!0)},o(h){$e(i.$$.fragment,h),$e(p),g=!1},d(h){h&&De(t),Ut(i),p&&p.d(),u=!1,Fs(d)}}}function nI(e,t,r){let{icon:n}=t,{label:i}=t,{onClick:o}=t,{connected:c}=t,{connecting:a}=t,{disabled:m}=t,f;function g(){r(6,f=window.innerWidth)}return e.$$set=u=>{"icon"in u&&r(0,n=u.icon),"label"in u&&r(1,i=u.label),"onClick"in u&&r(2,o=u.onClick),"connected"in u&&r(3,c=u.connected),"connecting"in u&&r(4,a=u.connecting),"disabled"in u&&r(5,m=u.disabled)},[n,i,o,c,a,m,f,g]}class iI extends mn{constructor(t){super(),gn(this,t,nI,rI,dn,{icon:0,label:1,onClick:2,connected:3,connecting:4,disabled:5},tI)}}function sI(e){pn(e,"svelte-kpc6js",".wallets-container.svelte-kpc6js{display:flex;gap:0.5rem;overflow-x:scroll;overflow-y:hidden;padding:0.75rem 0.5rem;border-bottom:1px solid var(--border-color);-ms-overflow-style:none;scrollbar-width:none}.wallets-container.svelte-kpc6js::-webkit-scrollbar{display:none}.warning-container.svelte-kpc6js{margin:1rem 1rem 0}.notice-container.svelte-kpc6js{flex:0 0 100%;margin-top:0.75rem}@media all and (min-width: 768px){.wallets-container.svelte-kpc6js{display:grid;grid-template-columns:repeat(var(--onboard-wallet-columns, 2), 1fr);padding:1rem;border:none}.notice-container.svelte-kpc6js{grid-column:span 2;margin:0}}")}function Rm(e,t,r){const n=e.slice();return n[10]=t[r],n}function $m(e){let t,r,n;return r=new Sp({props:{$$slots:{default:[oI]},$$scope:{ctx:e}}}),{c(){t=be("div"),qt(r.$$.fragment),le(t,"class","warning-container svelte-kpc6js")},m(i,o){Pe(i,t,o),Ft(r,t,null),n=!0},p(i,o){const c={};o&8200&&(c.$$scope={dirty:o,ctx:i}),r.$set(c)},i(i){n||(xe(r.$$.fragment,i),n=!0)},o(i){$e(r.$$.fragment,i),n=!1},d(i){i&&De(t),Ut(r)}}}function oI(e){let t,r;return{c(){t=new ec(!1),r=Ir(),t.a=r},m(n,i){t.m(e[3],n,i),Pe(n,r,i)},p(n,i){i&8&&t.p(n[3])},d(n){n&&De(r),n&&t.d()}}}function Lm(e){let t,r;function n(){return e[9](e[10])}return t=new iI({props:{connected:e[7](e[10].label),connecting:e[2]===e[10].label,label:e[10].label,icon:e[10].icon,onClick:n,disabled:e[4]<=sn&&e[2]&&e[2]!==e[10].label}}),{c(){qt(t.$$.fragment)},m(i,o){Ft(t,i,o),r=!0},p(i,o){e=i;const c={};o&1&&(c.connected=e[7](e[10].label)),o&5&&(c.connecting=e[2]===e[10].label),o&1&&(c.label=e[10].label),o&1&&(c.icon=e[10].icon),o&3&&(c.onClick=n),o&21&&(c.disabled=e[4]<=sn&&e[2]&&e[2]!==e[10].label),t.$set(c)},i(i){r||(xe(t.$$.fragment,i),r=!0)},o(i){$e(t.$$.fragment,i),r=!1},d(i){Ut(t,i)}}}function aI(e){let t,r,n;return r=new Sp({props:{$$slots:{default:[cI]},$$scope:{ctx:e}}}),{c(){t=be("div"),qt(r.$$.fragment),le(t,"class","notice-container svelte-kpc6js")},m(i,o){Pe(i,t,o),Ft(r,t,null),n=!0},p(i,o){const c={};o&8224&&(c.$$scope={dirty:o,ctx:i}),r.$set(c)},i(i){n||(xe(r.$$.fragment,i),n=!0)},o(i){$e(r.$$.fragment,i),n=!1},d(i){i&&De(t),Ut(r)}}}function cI(e){let t,r=e[5]("connect.selectingWallet.whyDontISeeMyWallet",{default:Lt.connect.selectingWallet.whyDontISeeMyWallet})+"",n,i,o,c=e[5]("connect.selectingWallet.learnMore",{default:Lt.connect.selectingWallet.learnMore})+"",a;return{c(){t=be("div"),n=Ht(r),i=Fe(),o=be("a"),a=Ht(c),le(o,"class","link pointer"),le(o,"href",e[6].wheresMyWalletLink||uI),le(o,"target","_blank"),le(o,"rel","noreferrer noopener")},m(m,f){Pe(m,t,f),he(t,n),Pe(m,i,f),Pe(m,o,f),he(o,a)},p(m,f){f&32&&r!==(r=m[5]("connect.selectingWallet.whyDontISeeMyWallet",{default:Lt.connect.selectingWallet.whyDontISeeMyWallet})+"")&&nr(n,r),f&32&&c!==(c=m[5]("connect.selectingWallet.learnMore",{default:Lt.connect.selectingWallet.learnMore})+"")&&nr(a,c)},d(m){m&&De(t),m&&De(i),m&&De(o)}}}function lI(e){let t,r,n,i,o,c,a;Qn(e[8]);let m=e[3]&&$m(e),f=e[0],g=[];for(let p=0;p<f.length;p+=1)g[p]=Lm(Rm(e,f,p));const u=p=>$e(g[p],1,1,()=>{g[p]=null});let d=!e[6].removeWhereIsMyWalletWarning&&aI(e);return{c(){t=be("div"),m&&m.c(),r=Fe(),n=be("div");for(let p=0;p<g.length;p+=1)g[p].c();i=Fe(),d&&d.c(),le(n,"class","wallets-container svelte-kpc6js"),le(t,"class","outer-container")},m(p,h){Pe(p,t,h),m&&m.m(t,null),he(t,r),he(t,n);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(n,null);he(n,i),d&&d.m(n,null),o=!0,c||(a=yi(window,"resize",e[8]),c=!0)},p(p,[h]){if(p[3]?m?(m.p(p,h),h&8&&xe(m,1)):(m=$m(p),m.c(),xe(m,1),m.m(t,r)):m&&(kr(),$e(m,1,1,()=>{m=null}),Mr()),h&151){f=p[0];let v;for(v=0;v<f.length;v+=1){const w=Rm(p,f,v);g[v]?(g[v].p(w,h),xe(g[v],1)):(g[v]=Lm(w),g[v].c(),xe(g[v],1),g[v].m(n,i))}for(kr(),v=f.length;v<g.length;v+=1)u(v);Mr()}p[6].removeWhereIsMyWalletWarning||d.p(p,h)},i(p){if(!o){xe(m);for(let h=0;h<f.length;h+=1)xe(g[h]);xe(d),o=!0}},o(p){$e(m),g=g.filter(Boolean);for(let h=0;h<g.length;h+=1)$e(g[h]);$e(d),o=!1},d(p){p&&De(t),m&&m.d(),gy(g,p),d&&d.d(),c=!1,a()}}}const uI="https://www.blocknative.com/blog/metamask-wont-connect-web3-wallet-troubleshooting";function fI(e,t,r){let n;Ur(e,js,p=>r(5,n=p));let{wallets:i}=t,{selectWallet:o}=t,{connectingWalletLabel:c}=t,{connectingErrorMessage:a}=t,m;const{connect:f}=st.get();function g(p){const{wallets:h}=st.get();return!!h.find(v=>v.label===p)}function u(){r(4,m=window.innerWidth)}const d=p=>o(p);return e.$$set=p=>{"wallets"in p&&r(0,i=p.wallets),"selectWallet"in p&&r(1,o=p.selectWallet),"connectingWalletLabel"in p&&r(2,c=p.connectingWalletLabel),"connectingErrorMessage"in p&&r(3,a=p.connectingErrorMessage)},[i,o,c,a,m,n,f,g,u,d]}class hI extends mn{constructor(t){super(),gn(this,t,fI,lI,dn,{wallets:0,selectWallet:1,connectingWalletLabel:2,connectingErrorMessage:3},sI)}}function dI(e){pn(e,"svelte-obaru3",`.sidebar.svelte-obaru3{--background-color:var(
      --onboard-connect-sidebar-background,
      var(--w3o-foreground-color, none)
    );--text-color:var(--onboard-connect-sidebar-color, inherit);--border-color:var(--onboard-connect-sidebar-border-color, inherit);display:flex;flex-flow:column;gap:1rem;padding:1rem;align-items:center}.inner-container.svelte-obaru3{display:flex;flex-flow:column;align-items:center;align-self:stretch;gap:0.5rem;padding:1.5rem;text-align:center;border:1px solid transparent;border-radius:12px;border-color:var(--border-color);background:var(--background-color);color:var(--text-color)}.icon-container.svelte-obaru3{display:flex;height:3.5rem;width:auto;min-width:3.5rem;max-width:100%}.heading.svelte-obaru3{font-size:var(--onboard-font-size-3, var(--font-size-3));margin:0 0 var(--onboard-spacing-5, var(--spacing-5)) 0}.subheading.svelte-obaru3{line-height:1rem}.description.svelte-obaru3{line-height:1.25rem;font-size:var(--onboard-font-size-6, var(--font-size-6))}img.svelte-obaru3{max-width:100%;height:auto}.indicators.svelte-obaru3{margin-top:auto}.indicator.svelte-obaru3{box-sizing:content-box;width:8px;height:8px;border-radius:8px;background:var(
      --onboard-connect-sidebar-progress-background,
      var(--onboard-gray-700, var(--gray-700))
    );transition:background 250ms ease-in-out}.indicator.on.svelte-obaru3{background:var(
      --onboard-connect-sidebar-progress-color,
      var(--action-color)
    );border:2px solid
      var(
        --onboard-connect-sidebar-progress-background,
        var(--onboard-gray-700, var(--gray-700))
      )}.join.svelte-obaru3{box-sizing:content-box;z-index:1;right:4px;height:2px;background:var(
      --onboard-connect-sidebar-progress-background,
      var(--onboard-gray-700, var(--gray-700))
    );transition:background 250ms ease-in-out}.join.active.svelte-obaru3{background:var(
      --onboard-connect-sidebar-progress-color,
      var(--action-color)
    )}.no-link.svelte-obaru3{display:flex;flex-direction:row;align-items:center;padding:0.25rem 0.5rem 0.25rem 0.75rem;gap:0.25rem;font-size:var(--onboard-font-size-6, var(--font-size-6))}.info-icon.svelte-obaru3{width:1.25rem;display:flex;align-items:center}@media all and (min-width: 768px){.sidebar.svelte-obaru3{max-width:280px;border-right:1px solid;border-color:var(--border-color);background:var(--background-color)}.inner-container.svelte-obaru3{border:none;text-align:initial;flex:1;align-items:flex-start;gap:1rem}.indicators.svelte-obaru3{margin-bottom:0.25rem}}`)}function Nm(e){let t,r,n=e[3](`connect.${e[0]}.sidebar.header`,{default:""}),i;function o(f,g){return f[2]&&(f[2].logo||f[2].icon)?gI:pI}let c=o(e),a=c(e),m=n&&km(e);return{c(){t=be("div"),a.c(),r=Fe(),m&&m.c(),i=Ir(),le(t,"class","icon-container svelte-obaru3")},m(f,g){Pe(f,t,g),a.m(t,null),Pe(f,r,g),m&&m.m(f,g),Pe(f,i,g)},p(f,g){c===(c=o(f))&&a?a.p(f,g):(a.d(1),a=c(f),a&&(a.c(),a.m(t,null))),g&9&&(n=f[3](`connect.${f[0]}.sidebar.header`,{default:""})),n?m?m.p(f,g):(m=km(f),m.c(),m.m(i.parentNode,i)):m&&(m.d(1),m=null)},d(f){f&&De(t),a.d(),f&&De(r),m&&m.d(f),f&&De(i)}}}function pI(e){let t,r;return{c(){t=new ec(!1),r=Ir(),t.a=r},m(n,i){t.m(zb,n,i),Pe(n,r,i)},p:Re,d(n){n&&De(r),n&&t.d()}}}function gI(e){let t,r;function n(c,a){return a&4&&(t=null),t==null&&(t=!!sp(c[2].logo||c[2].icon)),t?vI:mI}let i=n(e,-1),o=i(e);return{c(){o.c(),r=Ir()},m(c,a){o.m(c,a),Pe(c,r,a)},p(c,a){i===(i=n(c,a))&&o?o.p(c,a):(o.d(1),o=i(c),o&&(o.c(),o.m(r.parentNode,r)))},d(c){o.d(c),c&&De(r)}}}function mI(e){let t,r;return{c(){t=be("img"),Za(t.src,r=e[2].logo||e[2].icon)||le(t,"src",r),le(t,"alt","logo"),le(t,"class","svelte-obaru3")},m(n,i){Pe(n,t,i)},p(n,i){i&4&&!Za(t.src,r=n[2].logo||n[2].icon)&&le(t,"src",r)},d(n){n&&De(t)}}}function vI(e){let t,r=(e[2].logo||e[2].icon)+"",n;return{c(){t=new ec(!1),n=Ht("​"),t.a=n},m(i,o){t.m(r,i,o),Pe(i,n,o)},p(i,o){o&4&&r!==(r=(i[2].logo||i[2].icon)+"")&&t.p(r)},d(i){i&&t.d(),i&&De(n)}}}function km(e){let t,r=e[3](`connect.${e[0]}.sidebar.header`,{default:e[7]})+"",n;return{c(){t=be("div"),n=Ht(r),le(t,"class","heading svelte-obaru3")},m(i,o){Pe(i,t,o),he(t,n)},p(i,o){o&9&&r!==(r=i[3](`connect.${i[0]}.sidebar.header`,{default:i[7]})+"")&&nr(n,r)},d(i){i&&De(t)}}}function bI(e){let t,r=e[3]("connect.selectingWallet.sidebar.IDontHaveAWallet",{default:Lt.connect.selectingWallet.sidebar.IDontHaveAWallet})+"",n,i,o;return{c(){t=be("a"),n=Ht(r),i=Fe(),o=be("div"),le(o,"class","info-icon svelte-obaru3"),le(t,"href",e[4].iDontHaveAWalletLink||"https://ethereum.org/en/wallets/find-wallet/#main-content"),le(t,"target","_blank"),le(t,"rel","noreferrer noopener"),le(t,"class","no-link svelte-obaru3")},m(c,a){Pe(c,t,a),he(t,n),he(t,i),he(t,o),o.innerHTML=tf},p(c,a){a&8&&r!==(r=c[3]("connect.selectingWallet.sidebar.IDontHaveAWallet",{default:Lt.connect.selectingWallet.sidebar.IDontHaveAWallet})+"")&&nr(n,r)},d(c){c&&De(t)}}}function Mm(e){let t,r,n,i,o,c,a,m,f,g,u,d;return{c(){t=be("div"),r=be("div"),n=Fe(),i=be("div"),c=Fe(),a=be("div"),m=Fe(),f=be("div"),u=Fe(),d=be("div"),le(r,"class","indicator relative svelte-obaru3"),Ue(r,"on",!0),le(i,"class","join relative svelte-obaru3"),le(i,"style",o=`${e[0]!=="selectingWallet"?"right: 4px; width: 52px;":"right: 2px; width: 54px;"}`),Ue(i,"active",e[0]!=="selectingWallet"),le(a,"class","indicator relative svelte-obaru3"),le(a,"style","right: 8px;"),Ue(a,"on",e[0]!=="selectingWallet"),le(f,"class","join relative svelte-obaru3"),le(f,"style",g=`${e[0]==="connectedWallet"?"right: 12px; width: 52px;":"right: 10px; width: 54px;"}`),Ue(f,"active",e[0]==="connectedWallet"),le(d,"style","right: 16px;"),le(d,"class","indicator relative svelte-obaru3"),Ue(d,"on",e[0]==="connectedWallet"),le(t,"class","indicators flex items-center svelte-obaru3")},m(p,h){Pe(p,t,h),he(t,r),he(t,n),he(t,i),he(t,c),he(t,a),he(t,m),he(t,f),he(t,u),he(t,d)},p(p,h){h&1&&o!==(o=`${p[0]!=="selectingWallet"?"right: 4px; width: 52px;":"right: 2px; width: 54px;"}`)&&le(i,"style",o),h&1&&Ue(i,"active",p[0]!=="selectingWallet"),h&1&&Ue(a,"on",p[0]!=="selectingWallet"),h&1&&g!==(g=`${p[0]==="connectedWallet"?"right: 12px; width: 52px;":"right: 10px; width: 54px;"}`)&&le(f,"style",g),h&1&&Ue(f,"active",p[0]==="connectedWallet"),h&1&&Ue(d,"on",p[0]==="connectedWallet")},d(p){p&&De(t)}}}function jm(e){let t,r,n,i,o,c,a,m,f,g,u,d;return{c(){t=be("div"),r=be("div"),n=Fe(),i=be("div"),c=Fe(),a=be("div"),m=Fe(),f=be("div"),u=Fe(),d=be("div"),le(r,"class","indicator relative svelte-obaru3"),Ue(r,"on",!0),le(i,"class","join relative svelte-obaru3"),le(i,"style",o=`right: 2px; ${e[0]!=="selectingWallet"?"width: 78px;":"width: 82px;"}`),Ue(i,"active",e[0]!=="selectingWallet"),le(a,"class","indicator relative svelte-obaru3"),le(a,"style","right: 4px;"),Ue(a,"on",e[0]!=="selectingWallet"),le(f,"class","join relative svelte-obaru3"),le(f,"style",g=`right: 6px; ${e[0]==="connectedWallet"?"width: 74px;":"width: 81px;"}`),Ue(f,"active",e[0]==="connectedWallet"),le(d,"style","right: 8px;"),le(d,"class","indicator relative svelte-obaru3"),Ue(d,"on",e[0]==="connectedWallet"),le(t,"class","indicators flex items-center svelte-obaru3")},m(p,h){Pe(p,t,h),he(t,r),he(t,n),he(t,i),he(t,c),he(t,a),he(t,m),he(t,f),he(t,u),he(t,d)},p(p,h){h&1&&o!==(o=`right: 2px; ${p[0]!=="selectingWallet"?"width: 78px;":"width: 82px;"}`)&&le(i,"style",o),h&1&&Ue(i,"active",p[0]!=="selectingWallet"),h&1&&Ue(a,"on",p[0]!=="selectingWallet"),h&1&&g!==(g=`right: 6px; ${p[0]==="connectedWallet"?"width: 74px;":"width: 81px;"}`)&&le(f,"style",g),h&1&&Ue(f,"active",p[0]==="connectedWallet"),h&1&&Ue(d,"on",p[0]==="connectedWallet")},d(p){p&&De(t)}}}function yI(e){let t,r,n,i,o=e[3](`connect.${e[0]}.sidebar.subheading`,{default:e[5]})+"",c,a,m,f=e[3](`connect.${e[0]}.sidebar.paragraph`,{values:{app:e[2]&&e[2].name||"This App"},default:e[6]})+"",g,u,d,p,h,v,w,_;Qn(e[9]);let y=e[1]>=sn&&Nm(e),C=!e[4].removeIDontHaveAWalletInfoLink&&bI(e),I=e[1]<sn&&Mm(e),D=e[1]>=sn&&jm(e);return{c(){t=be("div"),r=be("div"),y&&y.c(),n=Fe(),i=be("div"),c=Ht(o),a=Fe(),m=be("div"),g=Ht(f),u=Fe(),C&&C.c(),d=Fe(),I&&I.c(),p=Fe(),D&&D.c(),h=Fe(),v=be("div"),le(i,"class","subheading svelte-obaru3"),le(m,"class","description svelte-obaru3"),le(r,"class","inner-container svelte-obaru3"),le(t,"class","sidebar svelte-obaru3")},m(O,E){Pe(O,t,E),he(t,r),y&&y.m(r,null),he(r,n),he(r,i),he(i,c),he(r,a),he(r,m),he(m,g),he(r,u),C&&C.m(r,null),he(r,d),I&&I.m(r,null),he(t,p),D&&D.m(t,null),he(t,h),he(t,v),v.innerHTML=W7,w||(_=yi(window,"resize",e[9]),w=!0)},p(O,[E]){O[1]>=sn?y?y.p(O,E):(y=Nm(O),y.c(),y.m(r,n)):y&&(y.d(1),y=null),E&9&&o!==(o=O[3](`connect.${O[0]}.sidebar.subheading`,{default:O[5]})+"")&&nr(c,o),E&13&&f!==(f=O[3](`connect.${O[0]}.sidebar.paragraph`,{values:{app:O[2]&&O[2].name||"This App"},default:O[6]})+"")&&nr(g,f),O[4].removeIDontHaveAWalletInfoLink||C.p(O,E),O[1]<sn?I?I.p(O,E):(I=Mm(O),I.c(),I.m(r,null)):I&&(I.d(1),I=null),O[1]>=sn?D?D.p(O,E):(D=jm(O),D.c(),D.m(t,h)):D&&(D.d(1),D=null)},i:Re,o:Re,d(O){O&&De(t),y&&y.d(),C&&C.d(),I&&I.d(),D&&D.d(),w=!1,_()}}}function _I(e,t,r){let n,i;Ur(e,js,h=>r(3,i=h));let{step:o}=t;const{connect:c}=st.get(),a=Lt.connect[o].sidebar,{subheading:m,paragraph:f}=a,{heading:g}=a;let u;const d=st.select("appMetadata").pipe(ho(st.get().appMetadata),go(1));Ur(e,d,h=>r(2,n=h));function p(){r(1,u=window.innerWidth)}return e.$$set=h=>{"step"in h&&r(0,o=h.step)},[o,u,n,i,c,m,f,g,d,p]}class wI extends mn{constructor(t){super(),gn(this,t,_I,yI,dn,{step:0},dI)}}function EI(e){pn(e,"svelte-b3j15j",`.container.svelte-b3j15j{--background-color:var(
      --onboard-main-scroll-container-background,
      var(--w3o-background-color)
    );--foreground-color:var(--w3o-foreground-color);--text-color:var(--onboard-connect-text-color, var(--w3o-text-color));--border-color:var(--w3o-border-color, var(--gray-200));--action-color:var(--w3o-action-color, var(--primary-500));font-family:var(--onboard-font-family-normal, var(--font-family-normal));font-size:var(--onboard-font-size-5, 1rem);background:var(--background-color);color:var(--text-color);border-color:var(--border-color);line-height:24px;overflow:hidden;position:relative;display:flex;height:min-content;flex-flow:column-reverse}.content.svelte-b3j15j{width:var(--onboard-connect-content-width, 100%)}.header.svelte-b3j15j{display:flex;padding:1rem;border-bottom:1px solid transparent;background:var(--onboard-connect-header-background);color:var(--onboard-connect-header-color);border-color:var(--border-color)}.header-heading.svelte-b3j15j{line-height:1rem}.button-container.svelte-b3j15j{right:0.5rem;top:0.5rem}.mobile-header.svelte-b3j15j{display:flex;gap:0.5rem;height:4.5rem;padding:1rem;border-bottom:1px solid;border-color:var(--border-color)}.mobile-subheader.svelte-b3j15j{opacity:0.6;font-size:0.875rem;font-weight:400;line-height:1rem;margin-top:0.25rem}.icon-container.svelte-b3j15j{display:flex;flex:0 0 auto;height:2.5rem;width:2.5rem;min-width:2.5rem;justify-content:center;align-items:center}.disabled.svelte-b3j15j{opacity:0.2;pointer-events:none;overflow:hidden}.icon-container svg{display:block;height:100%;width:auto}.w-full.svelte-b3j15j{width:100%}.scroll-container.svelte-b3j15j{overflow-y:auto;transition:opacity 250ms ease-in-out;scrollbar-width:none}.scroll-container.svelte-b3j15j::-webkit-scrollbar{display:none}.mobile-safari.svelte-b3j15j{padding-bottom:80px}@media all and (min-width: 768px){.container.svelte-b3j15j{margin:0;flex-flow:row;height:var(--onboard-connect-content-height, 440px)}.content.svelte-b3j15j{width:var(--onboard-connect-content-width, 488px)}.mobile-subheader.svelte-b3j15j{display:none}.icon-container.svelte-b3j15j{display:none}}`)}function Fm(e){let t,r;return t=new Ep({props:{close:!e[16].disableClose&&e[20],$$slots:{default:[$I]},$$scope:{ctx:e}}}),{c(){qt(t.$$.fragment)},m(n,i){Ft(t,n,i),r=!0},p(n,i){const o={};i[0]&32766|i[1]&64&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){r||(xe(t.$$.fragment,n),r=!0)},o(n){$e(t.$$.fragment,n),r=!1},d(n){Ut(t,n)}}}function SI(e){let t,r;return t=new wI({props:{step:e[5]}}),{c(){qt(t.$$.fragment)},m(n,i){Ft(t,n,i),r=!0},p(n,i){const o={};i[0]&32&&(o.step=n[5]),t.$set(o)},i(n){r||(xe(t.$$.fragment,n),r=!0)},o(n){$e(t.$$.fragment,n),r=!1},d(n){Ut(t,n)}}}function CI(e){let t,r,n=e[14](`connect.${e[5]}.header`,{default:Lt.connect[e[5]].header,values:{connectionRejected:e[1],wallet:e[3]&&e[3].label}})+"",i,o,c=e[5]==="selectingWallet"?`(${e[12]})`:"",a;return{c(){t=be("div"),r=be("div"),i=Ht(n),o=Fe(),a=Ht(c),le(r,"class","header-heading svelte-b3j15j"),le(t,"class","header relative flex items-center svelte-b3j15j")},m(m,f){Pe(m,t,f),he(t,r),he(r,i),he(r,o),he(r,a)},p(m,f){f[0]&16426&&n!==(n=m[14](`connect.${m[5]}.header`,{default:Lt.connect[m[5]].header,values:{connectionRejected:m[1],wallet:m[3]&&m[3].label}})+"")&&nr(i,n),f[0]&4128&&c!==(c=m[5]==="selectingWallet"?`(${m[12]})`:"")&&nr(a,c)},d(m){m&&De(t)}}}function xI(e){let t,r,n,i,o,c=e[14](e[5]==="connectingWallet"&&e[3]?`connect.${e[5]}.header`:`connect.${e[5]}.sidebar.subheading`,{default:e[5]==="connectingWallet"&&e[3]?Lt.connect[e[5]].header:Lt.connect[e[5]].sidebar.subheading,values:{connectionRejected:e[1],wallet:e[3]&&e[3].label}})+"",a,m,f,g=e[5]==="selectingWallet"?`${e[12]} available wallets`:"1 account selected",u;function d(v,w){return v[13]&&v[13].icon?AI:II}let p=d(e),h=p(e);return{c(){t=be("div"),r=be("div"),h.c(),n=Fe(),i=be("div"),o=be("div"),a=Ht(c),m=Fe(),f=be("div"),u=Ht(g),le(r,"class","icon-container svelte-b3j15j"),le(o,"class","header-heading svelte-b3j15j"),le(f,"class","mobile-subheader svelte-b3j15j"),le(i,"class","flex flex-column justify-center w-full svelte-b3j15j"),le(t,"class","mobile-header svelte-b3j15j")},m(v,w){Pe(v,t,w),he(t,r),h.m(r,null),he(t,n),he(t,i),he(i,o),he(o,a),he(i,m),he(i,f),he(f,u)},p(v,w){p===(p=d(v))&&h?h.p(v,w):(h.d(1),h=p(v),h&&(h.c(),h.m(r,null))),w[0]&16426&&c!==(c=v[14](v[5]==="connectingWallet"&&v[3]?`connect.${v[5]}.header`:`connect.${v[5]}.sidebar.subheading`,{default:v[5]==="connectingWallet"&&v[3]?Lt.connect[v[5]].header:Lt.connect[v[5]].sidebar.subheading,values:{connectionRejected:v[1],wallet:v[3]&&v[3].label}})+"")&&nr(a,c),w[0]&4128&&g!==(g=v[5]==="selectingWallet"?`${v[12]} available wallets`:"1 account selected")&&nr(u,g)},d(v){v&&De(t),h.d()}}}function II(e){let t,r;return{c(){t=new ec(!1),r=Ir(),t.a=r},m(n,i){t.m(zb,n,i),Pe(n,r,i)},p:Re,d(n){n&&De(r),n&&t.d()}}}function AI(e){let t,r;function n(c,a){return a[0]&8192&&(t=null),t==null&&(t=!!sp(c[13].icon)),t?DI:OI}let i=n(e,[-1,-1]),o=i(e);return{c(){o.c(),r=Ir()},m(c,a){o.m(c,a),Pe(c,r,a)},p(c,a){i===(i=n(c,a))&&o?o.p(c,a):(o.d(1),o=i(c),o&&(o.c(),o.m(r.parentNode,r)))},d(c){o.d(c),c&&De(r)}}}function OI(e){let t,r;return{c(){t=be("img"),Za(t.src,r=e[13].icon)||le(t,"src",r),le(t,"alt","logo")},m(n,i){Pe(n,t,i)},p(n,i){i[0]&8192&&!Za(t.src,r=n[13].icon)&&le(t,"src",r)},d(n){n&&De(t)}}}function DI(e){let t,r=e[13].icon+"",n;return{c(){t=new ec(!1),n=Ir(),t.a=n},m(i,o){t.m(r,i,o),Pe(i,n,o)},p(i,o){o[0]&8192&&r!==(r=i[13].icon+"")&&t.p(r)},d(i){i&&De(n),i&&t.d()}}}function TI(e){let t,r,n,i,o;return r=new jy({}),{c(){t=be("div"),qt(r.$$.fragment),le(t,"class","button-container absolute svelte-b3j15j")},m(c,a){Pe(c,t,a),Ft(r,t,null),n=!0,i||(o=yi(t,"click",e[20]),i=!0)},p:Re,i(c){n||(xe(r.$$.fragment,c),n=!0)},o(c){$e(r.$$.fragment,c),n=!1},d(c){c&&De(t),Ut(r),i=!1,o()}}}function Um(e){let t,r,n,i;const o=[RI,PI],c=[];function a(m,f){return m[2].length?0:1}return t=a(e),r=c[t]=o[t](e),{c(){r.c(),n=Ir()},m(m,f){c[t].m(m,f),Pe(m,n,f),i=!0},p(m,f){let g=t;t=a(m),t===g?c[t].p(m,f):(kr(),$e(c[g],1,1,()=>{c[g]=null}),Mr(),r=c[t],r?r.p(m,f):(r=c[t]=o[t](m),r.c()),xe(r,1),r.m(n.parentNode,n))},i(m){i||(xe(r),i=!0)},o(m){$e(r),i=!1},d(m){c[t].d(m),m&&De(n)}}}function PI(e){let t,r;return t=new eI({}),{c(){qt(t.$$.fragment)},m(n,i){Ft(t,n,i),r=!0},p:Re,i(n){r||(xe(t.$$.fragment,n),r=!0)},o(n){$e(t.$$.fragment,n),r=!1},d(n){Ut(t,n)}}}function RI(e){let t,r,n,i,o,c;function a(f){e[25](f)}let m={};return e[7]!==void 0&&(m.agreed=e[7]),t=new hx({props:m}),$u.push(()=>TS(t,"agreed",a)),o=new hI({props:{selectWallet:e[18],wallets:e[2],connectingWalletLabel:e[8],connectingErrorMessage:e[9]}}),{c(){qt(t.$$.fragment),n=Fe(),i=be("div"),qt(o.$$.fragment),le(i,"class","svelte-b3j15j"),Ue(i,"disabled",!e[7])},m(f,g){Ft(t,f,g),Pe(f,n,g),Pe(f,i,g),Ft(o,i,null),c=!0},p(f,g){const u={};!r&&g[0]&128&&(r=!0,u.agreed=f[7],IS(()=>r=!1)),t.$set(u);const d={};g[0]&4&&(d.wallets=f[2]),g[0]&256&&(d.connectingWalletLabel=f[8]),g[0]&512&&(d.connectingErrorMessage=f[9]),o.$set(d),(!c||g[0]&128)&&Ue(i,"disabled",!f[7])},i(f){c||(xe(t.$$.fragment,f),xe(o.$$.fragment,f),c=!0)},o(f){$e(t.$$.fragment,f),$e(o.$$.fragment,f),c=!1},d(f){Ut(t,f),f&&De(n),f&&De(i),Ut(o)}}}function Bm(e){let t,r;return t=new Gx({props:{connectWallet:e[21],connectionRejected:e[1],previousConnectionRequest:e[6],setStep:e[22],deselectWallet:e[19],selectedWallet:e[3]}}),{c(){qt(t.$$.fragment)},m(n,i){Ft(t,n,i),r=!0},p(n,i){const o={};i[0]&2&&(o.connectionRejected=n[1]),i[0]&64&&(o.previousConnectionRequest=n[6]),i[0]&8&&(o.selectedWallet=n[3]),t.$set(o)},i(n){r||(xe(t.$$.fragment,n),r=!0)},o(n){$e(t.$$.fragment,n),r=!1},d(n){Ut(t,n)}}}function Hm(e){let t,r;return t=new Bx({props:{selectedWallet:e[3]}}),{c(){qt(t.$$.fragment)},m(n,i){Ft(t,n,i),r=!0},p(n,i){const o={};i[0]&8&&(o.selectedWallet=n[3]),t.$set(o)},i(n){r||(xe(t.$$.fragment,n),r=!0)},o(n){$e(t.$$.fragment,n),r=!1},d(n){Ut(t,n)}}}function $I(e){let t,r,n,i,o,c,a,m,f,g=e[16].showSidebar&&SI(e);function u(y,C){return y[4]<=sn?xI:CI}let d=u(e),p=d(e),h=!e[16].disableClose&&TI(e),v=(e[5]==="selectingWallet"||e[4]<=sn)&&Um(e),w=e[11]&&Bm(e),_=e[5]==="connectedWallet"&&e[3]&&e[4]>=sn&&Hm(e);return{c(){t=be("div"),g&&g.c(),r=Fe(),n=be("div"),p.c(),i=Fe(),h&&h.c(),o=Fe(),c=be("div"),v&&v.c(),a=Fe(),w&&w.c(),m=Fe(),_&&_.c(),le(c,"class","scroll-container svelte-b3j15j"),le(n,"class","content flex flex-column svelte-b3j15j"),le(t,"class","container svelte-b3j15j"),Ue(t,"mobile-safari",e[23])},m(y,C){Pe(y,t,C),g&&g.m(t,null),he(t,r),he(t,n),p.m(n,null),he(n,i),h&&h.m(n,null),he(n,o),he(n,c),v&&v.m(c,null),he(c,a),w&&w.m(c,null),he(c,m),_&&_.m(c,null),e[26](c),f=!0},p(y,C){y[16].showSidebar&&g.p(y,C),d===(d=u(y))&&p?p.p(y,C):(p.d(1),p=d(y),p&&(p.c(),p.m(n,i))),y[16].disableClose||h.p(y,C),y[5]==="selectingWallet"||y[4]<=sn?v?(v.p(y,C),C[0]&48&&xe(v,1)):(v=Um(y),v.c(),xe(v,1),v.m(c,a)):v&&(kr(),$e(v,1,1,()=>{v=null}),Mr()),y[11]?w?(w.p(y,C),C[0]&2048&&xe(w,1)):(w=Bm(y),w.c(),xe(w,1),w.m(c,m)):w&&(kr(),$e(w,1,1,()=>{w=null}),Mr()),y[5]==="connectedWallet"&&y[3]&&y[4]>=sn?_?(_.p(y,C),C[0]&56&&xe(_,1)):(_=Hm(y),_.c(),xe(_,1),_.m(c,null)):_&&(kr(),$e(_,1,1,()=>{_=null}),Mr())},i(y){f||(xe(g),xe(h),xe(v),xe(w),xe(_),f=!0)},o(y){$e(g),$e(h),$e(v),$e(w),$e(_),f=!1},d(y){y&&De(t),g&&g.d(),p.d(),h&&h.d(),v&&v.d(),w&&w.d(),_&&_.d(),e[26](null)}}}function LI(e){let t,r,n,i;Qn(e[24]);let o=!e[0].disableModals&&Fm(e);return{c(){o&&o.c(),t=Ir()},m(c,a){o&&o.m(c,a),Pe(c,t,a),r=!0,n||(i=yi(window,"resize",e[24]),n=!0)},p(c,a){c[0].disableModals?o&&(kr(),$e(o,1,1,()=>{o=null}),Mr()):o?(o.p(c,a),a[0]&1&&xe(o,1)):(o=Fm(c),o.c(),xe(o,1),o.m(t.parentNode,t))},i(c){r||(xe(o),r=!0)},o(c){$e(o),r=!1},d(c){o&&o.d(c),c&&De(t),n=!1,i()}}}function NI(e,t,r){let n,i,o,c,a;Ur(e,js,me=>r(14,a=me));let{autoSelect:m}=t;const f=st.select("appMetadata").pipe(ho(st.get().appMetadata),go(1));Ur(e,f,me=>r(13,o=me));const{unstoppableResolution:g,device:u}=bi,{walletModules:d,connect:p,chains:h}=st.get(),v=new vo;let w=!1,_=!1,y=[],C,I,D,O,E,b;const x=new rl("selectingWallet");Ur(e,x,me=>r(5,c=me)),ds.pipe(db((me,ge)=>me.autoSelect&&ge.autoSelect&&me.autoSelect.disableModals===ge.autoSelect.disableModals),Wa(({autoSelect:me})=>me&&me.disableModals===!1),zc(wm)).subscribe(()=>{C&&q()});async function A({label:me,icon:ge,getInterface:Ie}){r(8,D=me);try{const ne=st.get().wallets.find(Oe=>Oe.label===me);if(ne){bd(ne),setTimeout(()=>z("connectedWallet"),1),r(3,C=ne);return}const{chains:J}=st.get(),{provider:te,instance:R}=await Ie({chains:J,BigNumber:F4,EventEmitter:q7,appMetadata:o}),Z=await ge;r(3,C={label:me,icon:Z,provider:te,instance:R,accounts:[],chains:[{namespace:"evm",id:"0x1"}]}),r(9,O=""),K(),setTimeout(()=>z("connectingWallet"),1)}catch(ne){const{message:J}=ne;r(9,O=J),r(8,D=""),K()}}function N(){r(3,C=null)}function j(me){r(3,C={...C,...me})}async function B(me){const{getIcon:ge,getInterface:Ie,label:ne}=me,J=ge();A({label:ne,icon:J,getInterface:Ie})}async function $(){r(2,y=d.map(({getIcon:me,getInterface:ge,label:Ie})=>({label:Ie,icon:me(),getInterface:ge})))}function L(){ds.next({inProgress:!1})}async function q(){r(1,w=!1);const{provider:me,label:ge}=C;v.next();try{const[Ie]=await Promise.race([FC(me),Xu(v.pipe(V0([])))]);if(!Ie)return;if(st.get().connect.autoConnectLastWallet||st.get().connect.autoConnectAllPreviousWallet){let te=rf(Ns.LAST_CONNECTED_WALLET);try{let R=JSON.parse(te);if(R&&Array.isArray(R)){const Z=R;te=[...new Set([ge,...Z])]}}catch(R){if(R instanceof SyntaxError&&te&&typeof te=="string")te=[te];else throw new Error(R)}te||(te=[ge]),nf(Ns.LAST_CONNECTED_WALLET,JSON.stringify(te))}const ne=await UC(me);if(st.get().notify.enabled){const te=await Mu();if(te)try{te.subscribe({id:Ie,chainId:ne,type:"account"})}catch{}}const J={accounts:[{address:Ie,ens:null,uns:null,balance:null}],chains:[{namespace:"evm",id:ne}]};bd({...C,...J}),HC(me,ge),j(J),z("connectedWallet"),K()}catch(Ie){const{code:ne}=Ie;if(K(),ne===Lo.ACCOUNT_ACCESS_REJECTED){r(1,w=!0),m.disableModals?ds.next({inProgress:!1}):m.label&&r(0,m.label="",m);return}if(ne===Lo.ACCOUNT_ACCESS_ALREADY_REQUESTED){if(r(6,_=!0),m.disableModals){ds.next({inProgress:!1});return}$y({provider:C.provider,disconnected$:ds.pipe(Wa(({inProgress:J})=>!J),V0(""))}).pipe(Xd(1)).subscribe(([J])=>{J&&q()});return}}}async function W(){const{accounts:me,chains:ge}=C,Ie=st.get().chains,[ne]=ge,J=Ie.find(({namespace:Ne,id:ke})=>Ne===ne.namespace&&ke===ne.id),{address:te}=me[0];let{balance:R,ens:Z,uns:Oe,secondaryTokens:Le}=me[0];if(R===null&&Nu(te,J).then(Ne=>{Mc(C.label,te,{balance:Ne})}),J&&!Le&&Array.isArray(J.secondaryTokens)&&J.secondaryTokens.length&&ku(C,te,J).then(Ne=>{Mc(C.label,te,{secondaryTokens:Ne})}),Z===null&&Bc(ne.id)){const Ne=h.find(({id:ke})=>ke===Bc(ne.id));yd(te,Ne).then(ke=>{Mc(C.label,te,{ens:ke})})}Oe===null&&g&&_d(te,J).then(Ne=>{Mc(C.label,te,{uns:Ne})}),setTimeout(()=>ds.next({inProgress:!1}),1500)}x.pipe(zc(wm)).subscribe(me=>{switch(me){case"selectingWallet":{if(m.label){const ge=d.find(({label:Ie})=>Ie.toLowerCase()===m.label.toLowerCase());ge?B(ge):m.disableModals&&ds.next({inProgress:!1})}else r(8,D=""),$();break}case"connectingWallet":{q();break}case"connectedWallet":{r(8,D=""),W();break}}});function z(me){v.next(),x.next(me)}function K(){b&&b.scrollTo(0,0)}const se=u.type==="mobile"&&u.browser.name&&u.browser.name==="Safari";function re(){r(4,E=window.innerWidth)}function we(me){I=me,r(7,I)}function fe(me){$u[me?"unshift":"push"](()=>{b=me,r(10,b)})}return e.$$set=me=>{"autoSelect"in me&&r(0,m=me.autoSelect)},e.$$.update=()=>{e.$$.dirty[0]&4&&r(12,n=y.length-st.get().wallets.length),e.$$.dirty[0]&58&&r(11,i=c==="connectingWallet"&&C&&E>=sn||E<=sn&&w&&c==="connectingWallet"&&C)},[m,w,y,C,E,c,_,I,D,O,b,i,n,o,a,f,p,x,A,N,L,q,z,se,re,we,fe]}class kI extends mn{constructor(t){super(),gn(this,t,NI,LI,dn,{autoSelect:0},EI,[-1,-1])}}function MI(e){pn(e,"svelte-12yam41",".container.svelte-12yam41{padding:var(--onboard-spacing-4, var(--spacing-4));font-family:var(--onboard-font-family-normal, var(--font-family-normal));line-height:16px;font-size:var(--onboard-font-size-5, var(--font-size-5))}.close.svelte-12yam41{top:var(--onboard-spacing-5, var(--spacing-5));right:var(--onboard-spacing-5, var(--spacing-5));padding:0.5rem}h4.svelte-12yam41{font-size:var(--onboard-font-size-3, var(--font-size-3));margin:var(--onboard-spacing-4, var(--spacing-4)) 0}p.svelte-12yam41{margin:0 0 var(--onboard-spacing-4, var(--spacing-4)) 0;max-width:488px}")}function jI(e){let t,r,n=e[0]("modals.switchChain.heading",{default:Lt.modals.switchChain.heading})+"",i,o,c,a=e[0]("modals.switchChain.paragraph1",{default:Lt.modals.switchChain.paragraph1,values:{app:e[1]&&e[1].name||"This app",nextNetworkName:e[2]}})+"",m,f,g,u=e[0]("modals.switchChain.paragraph2",{default:Lt.modals.switchChain.paragraph2})+"",d,p,h,v,w,_,y;return v=new jy({}),{c(){t=be("div"),r=be("h4"),i=Ht(n),o=Fe(),c=be("p"),m=Ht(a),f=Fe(),g=be("p"),d=Ht(u),p=Fe(),h=be("div"),qt(v.$$.fragment),le(r,"class","svelte-12yam41"),le(c,"class","svelte-12yam41"),le(g,"class","svelte-12yam41"),le(h,"class","close absolute svelte-12yam41"),le(t,"class","container relative svelte-12yam41")},m(C,I){Pe(C,t,I),he(t,r),he(r,i),he(t,o),he(t,c),he(c,m),he(t,f),he(t,g),he(g,d),he(t,p),he(t,h),Ft(v,h,null),w=!0,_||(y=yi(h,"click",e[3]),_=!0)},p(C,I){(!w||I&1)&&n!==(n=C[0]("modals.switchChain.heading",{default:Lt.modals.switchChain.heading})+"")&&nr(i,n),(!w||I&3)&&a!==(a=C[0]("modals.switchChain.paragraph1",{default:Lt.modals.switchChain.paragraph1,values:{app:C[1]&&C[1].name||"This app",nextNetworkName:C[2]}})+"")&&nr(m,a),(!w||I&1)&&u!==(u=C[0]("modals.switchChain.paragraph2",{default:Lt.modals.switchChain.paragraph2})+"")&&nr(d,u)},i(C){w||(xe(v.$$.fragment,C),w=!0)},o(C){$e(v.$$.fragment,C),w=!1},d(C){C&&De(t),Ut(v),_=!1,y()}}}function FI(e){let t,r;return t=new Ep({props:{close:e[3],$$slots:{default:[jI]},$$scope:{ctx:e}}}),{c(){qt(t.$$.fragment)},m(n,i){Ft(t,n,i),r=!0},p(n,[i]){const o={};i&67&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){r||(xe(t.$$.fragment,n),r=!0)},o(n){$e(t.$$.fragment,n),r=!1},d(n){Ut(t,n)}}}function UI(e,t,r){let n,i,o;Ur(e,Ya,f=>r(5,n=f)),Ur(e,js,f=>r(0,i=f));const c=n.chain.label;function a(){Ya.next(null)}const m=state.select("appMetadata").pipe(startWith(state.get().appMetadata),shareReplay(1));return Ur(e,m,f=>r(1,o=f)),[i,o,c,a,m]}class BI extends mn{constructor(t){super(),gn(this,t,UI,FI,dn,{},MI)}}function HI(e){pn(e,"svelte-z54y2j",".icon.svelte-z54y2j{border-radius:50px;color:var(--onboard-primary-500, var(--primary-500))}")}function qI(e){let t,r;return{c(){t=be("div"),le(t,"class","icon flex svelte-z54y2j"),le(t,"style",r=`width: ${e[0]}px; height: ${e[0]}px;`)},m(n,i){Pe(n,t,i),t.innerHTML=tf},p(n,[i]){i&1&&r!==(r=`width: ${n[0]}px; height: ${n[0]}px;`)&&le(t,"style",r)},i:Re,o:Re,d(n){n&&De(t)}}}function WI(e,t,r){let{size:n=20}=t;return e.$$set=i=>{"size"in i&&r(0,n=i.size)},[n]}class zI extends mn{constructor(t){super(),gn(this,t,WI,qI,dn,{size:0},HI)}}function VI(e){pn(e,"svelte-20hjq1",`.content.svelte-20hjq1{padding:1rem;width:300px;font-family:var(--onboard-font-family-normal, var(--font-family-normal));font-size:var(--onboard-font-size-5, var(--font-size-5));line-height:24px;background:var(
      --onboard-action-required-modal-background,
      var(--onboard-white, var(--white))
    )}.icon-container.svelte-20hjq1{width:3rem;height:3rem;background:var(--onboard-primary-100, var(--primary-100));border-radius:24px}h4.svelte-20hjq1{margin:1.5rem 0 0.5rem 0;font-weight:600}.action-required-heading.svelte-20hjq1,.action-required-info.svelte-20hjq1{color:var(
      --onboard-action-required-text-color,
      var(--onboard-black, inherit)
    )}.action-required-btn.svelte-20hjq1{color:var(
      --onboard-action-required-btn-text-color,
      var(--onboard-black, inherit)
    )}p.svelte-20hjq1{margin:0;font-weight:400}a.svelte-20hjq1{font-weight:600}button.svelte-20hjq1{margin-top:1.5rem;font-weight:600}`)}function qm(e){let t,r=e[1]("modals.actionRequired.linkText",{values:{wallet:e[0]}})+"",n;return{c(){t=be("a"),n=Ht(r),le(t,"href","https://metamask.zendesk.com/hc/en-us/articles/360061346311-Switching-accounts-in-MetaMask"),le(t,"target","_blank"),le(t,"rel","noreferrer noopener"),le(t,"class","svelte-20hjq1")},m(i,o){Pe(i,t,o),he(t,n)},p(i,o){o&3&&r!==(r=i[1]("modals.actionRequired.linkText",{values:{wallet:i[0]}})+"")&&nr(n,r)},d(i){i&&De(t)}}}function GI(e){let t,r,n,i,o,c=e[1]("modals.actionRequired.heading",{values:{wallet:e[0]}})+"",a,m,f,g=e[1]("modals.actionRequired.paragraph",{values:{wallet:e[0]}})+"",u,d,p,h,v=e[1]("modals.actionRequired.buttonText")+"",w,_,y,C;n=new zI({});let I=e[0]==="MetaMask"&&qm(e);return{c(){t=be("div"),r=be("div"),qt(n.$$.fragment),i=Fe(),o=be("h4"),a=Ht(c),m=Fe(),f=be("p"),u=Ht(g),d=Fe(),I&&I.c(),p=Fe(),h=be("button"),w=Ht(v),le(r,"class","icon-container flex justify-center items-center svelte-20hjq1"),le(o,"class","action-required-heading svelte-20hjq1"),le(f,"class","action-required-info svelte-20hjq1"),le(h,"class","button-neutral-solid rounded action-required-btn svelte-20hjq1"),le(t,"class","content svelte-20hjq1")},m(D,O){Pe(D,t,O),he(t,r),Ft(n,r,null),he(t,i),he(t,o),he(o,a),he(t,m),he(t,f),he(f,u),he(f,d),I&&I.m(f,null),he(t,p),he(t,h),he(h,w),_=!0,y||(C=yi(h,"click",e[2]),y=!0)},p(D,O){(!_||O&3)&&c!==(c=D[1]("modals.actionRequired.heading",{values:{wallet:D[0]}})+"")&&nr(a,c),(!_||O&3)&&g!==(g=D[1]("modals.actionRequired.paragraph",{values:{wallet:D[0]}})+"")&&nr(u,g),D[0]==="MetaMask"?I?I.p(D,O):(I=qm(D),I.c(),I.m(f,null)):I&&(I.d(1),I=null),(!_||O&2)&&v!==(v=D[1]("modals.actionRequired.buttonText")+"")&&nr(w,v)},i(D){_||(xe(n.$$.fragment,D),_=!0)},o(D){$e(n.$$.fragment,D),_=!1},d(D){D&&De(t),Ut(n),I&&I.d(),y=!1,C()}}}function KI(e){let t,r;return t=new Ep({props:{close:e[2],$$slots:{default:[GI]},$$scope:{ctx:e}}}),{c(){qt(t.$$.fragment)},m(n,i){Ft(t,n,i),r=!0},p(n,[i]){const o={};i&11&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){r||(xe(t.$$.fragment,n),r=!0)},o(n){$e(t.$$.fragment,n),r=!1},d(n){Ut(t,n)}}}function ZI(e,t,r){let n;Ur(e,js,c=>r(1,n=c));let{wallet:i}=t;function o(){ds.next({inProgress:!1,actionRequired:""})}return e.$$set=c=>{"wallet"in c&&r(0,i=c.wallet)},[i,n,o]}class YI extends mn{constructor(t){super(),gn(this,t,ZI,KI,dn,{wallet:0},VI)}}function XI(e){pn(e,"svelte-g9s19b",`.flex{display:flex}.inline-flex{display:inline-flex}.flex-column{flex-direction:column}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-center{justify-content:center}.justify-start{justify-content:flex-start}.justify-between{justify-content:space-between}.justify-end{justify-content:flex-end}.justify-around{justify-content:space-around}.relative{position:relative}.absolute{position:absolute}.fixed{position:fixed}.pointer{cursor:pointer}.shadow-1{box-shadow:var(--onboard-shadow-1, var(--shadow-1))}.w-100{width:100%}*{box-sizing:border-box}input{background:var(--onboard-white, var(--white))}input{width:100%;padding:0.5rem 1rem;outline:2px solid var(--onboard-gray-200, var(--gray-200));border:none;border-radius:8px;font-size:1rem;line-height:1.5;color:var(--onboard-gray-600, var(--gray-600));transition:all 200ms ease-in-out}input[type='checkbox']{-webkit-appearance:none;width:auto;background:var(--onboard-white, var(--white));outline:1px solid var(--onboard-gray-300, var(--gray-300));border:none;padding:0.5em;border-radius:3px;display:flex;justify-content:center;align-items:center;position:relative;cursor:pointer}input[type='checkbox']:hover{border-color:var(
      --onboard-checkbox-background,
      var(--onboard-primary-500, var(--primary-500))
    )}input[type='checkbox']:checked{background:var(
      --onboard-checkbox-background,
      var(--onboard-primary-500, var(--primary-500))
    );border-color:var(
      --onboard-checkbox-background,
      var(--onboard-primary-500, var(--primary-500))
    );color:var(--onboard-checkbox-color, var(--onboard-white, var(--white)))}input[type='checkbox']:checked:after{content:url("data:image/svg+xml,%3Csvg width='0.885em' height='0.6em' viewBox='0 0 14 11' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0 6L5 11L14 2L12.59 0.58L5 8.17L1.41 4.59L0 6Z' fill='white'/%3E%3C/svg%3E");font-size:12px;position:absolute;color:var(--onboard-checkbox-color, var(--onboard-white, var(--white)))}input:hover{border-color:var(
      --onboard-checkbox-color,
      var(--onboard-white, var(--white))
    )}input:focus{border-color:var(--onboard-primary-500, var(--primary-500));box-shadow:0 0 1px 1px
      var(
        --onboard-checkbox-background,
        var(--onboard-primary-500, var(--primary-500))
      );box-shadow:0 0 0 1px -moz-mac-focusring}input:disabled, textarea:disabled, select:disabled{background:var(--gray-100)}input::-moz-focus-inner{outline:0;padding:0;margin-top:-2px;margin-bottom:-2px}a{color:var(
      --onboard-link-color,
      var(--onboard-primary-500, var(--primary-500))
    );text-decoration:none}a:hover{text-decoration:underline}button{display:flex;align-items:center;justify-content:center;padding:calc(var(--onboard-spacing-4, var(--spacing-4)) - 1px);border-radius:24px;cursor:pointer;font:inherit;border:none;transition:background-color 150ms ease-in-out, color 150ms ease-in-out}.onboard-button-primary{background:var(--onboard-white, var(--white));padding:calc(var(--onboard-spacing-5, var(--spacing-5)) - 1px)
      calc(var(--onboard-spacing-4, var(--spacing-4)) - 1px);color:var(--onboard-gray-500, var(--gray-500));font-size:var(--onboard-font-size-6, var(--font-size-6));line-height:var(--onboard-font-line-height-3, var(--font-line-height-3));border:1px solid var(--onboard-gray-500, var(--gray-500));font-weight:600}.button-neutral-solid{width:100%;border-radius:8px;background:var(--onboard-gray-500, var(--gray-500));color:var(--onboard-white, var(--white));line-height:var(--onboard-font-line-height-3, var(--font-line-height-3))}.button-neutral-solid-b{width:100%;background:var(--onboard-gray-100, var(--gray-100));color:var(--onboard-gray-500, var(--gray-500));line-height:var(--onboard-font-line-height-3, var(--font-line-height-3))}button.rounded{border-radius:24px}.button-neutral-solid:hover{background:var(--onboard-gray-700, var(--gray-700))}.button-neutral-solid-b:hover{background:var(--onboard-gray-200, var(--gray-200))}.button-neutral-solid:active{color:var(--onboard-gray-300, var(--gray-300))}.button-neutral-solid-b:active{color:var(--onboard-gray-600, var(--gray-600));background:var(--onboard-gray-300, var(--gray-300))}.container.svelte-g9s19b{padding:16px;font-family:var(--onboard-font-family-normal, var(--font-family-normal));pointer-events:none;touch-action:none;width:100%}.z-indexed.svelte-g9s19b{z-index:var(--account-center-z-index)}@media all and (min-width: 428px){.container.svelte-g9s19b{max-width:348px}}`)}function Wm(e){let t,r;return t=new kI({props:{autoSelect:e[8].autoSelect}}),{c(){qt(t.$$.fragment)},m(n,i){Ft(t,n,i),r=!0},p(n,i){const o={};i&256&&(o.autoSelect=n[8].autoSelect),t.$set(o)},i(n){r||(xe(t.$$.fragment,n),r=!0)},o(n){$e(t.$$.fragment,n),r=!1},d(n){Ut(t,n)}}}function zm(e){let t,r;return t=new YI({props:{wallet:e[8].actionRequired}}),{c(){qt(t.$$.fragment)},m(n,i){Ft(t,n,i),r=!0},p(n,i){const o={};i&256&&(o.wallet=n[8].actionRequired),t.$set(o)},i(n){r||(xe(t.$$.fragment,n),r=!0)},o(n){$e(t.$$.fragment,n),r=!1},d(n){Ut(t,n)}}}function Vm(e){let t,r;return t=new BI({}),{c(){qt(t.$$.fragment)},m(n,i){Ft(t,n,i),r=!0},i(n){r||(xe(t.$$.fragment,n),r=!0)},o(n){$e(t.$$.fragment,n),r=!1},d(n){Ut(t,n)}}}function Gm(e){let t;return{c(){t=be("div"),le(t,"class","container flex flex-column fixed z-indexed svelte-g9s19b"),le(t,"style","top: 0; right: 0; "+(e[11].type==="mobile"?"padding-bottom: 0;":"")),le(t,"id","w3o-transaction-preview-container")},m(r,n){Pe(r,t,n)},p:Re,d(r){r&&De(t)}}}function Km(e){let t,r=e[3].position.includes("bottom")&&e[1].position.includes("bottom")&&e[7],n,i=e[1].position.includes("bottom"),o,c,a,m=e[1].position.includes("top"),f,g=e[3].position.includes("top")&&e[1].position.includes("top")&&e[7],u,d,p=r&&Zm(e),h=i&&Ym(),v={ctx:e,current:null,token:null,hasCatch:!1,pending:sA,then:nA,catch:rA,value:23,blocks:[,,,]};sa(e[16],v);let w=m&&Xm(),_=g&&Jm(e);return{c(){t=be("div"),p&&p.c(),n=Fe(),h&&h.c(),o=Fe(),c=be("div"),v.block.c(),a=Fe(),w&&w.c(),f=Fe(),_&&_.c(),le(c,"id","account-center-with-notify"),le(t,"class","container flex flex-column fixed z-indexed svelte-g9s19b"),le(t,"style",u=e[15](Fu)[e[1].position]+"; "+(e[11].type==="mobile"&&e[1].position.includes("top")?"padding-bottom: 0;":e[11].type==="mobile"&&e[1].position.includes("bottom")?"padding-top:0;":""))},m(y,C){Pe(y,t,C),p&&p.m(t,null),he(t,n),h&&h.m(t,null),he(t,o),he(t,c),v.block.m(c,v.anchor=null),v.mount=()=>c,v.anchor=null,he(t,a),w&&w.m(t,null),he(t,f),_&&_.m(t,null),d=!0},p(y,C){e=y,C&138&&(r=e[3].position.includes("bottom")&&e[1].position.includes("bottom")&&e[7]),r?p?(p.p(e,C),C&138&&xe(p,1)):(p=Zm(e),p.c(),xe(p,1),p.m(t,n)):p&&(kr(),$e(p,1,1,()=>{p=null}),Mr()),C&2&&(i=e[1].position.includes("bottom")),i?h||(h=Ym(),h.c(),h.m(t,o)):h&&(h.d(1),h=null),tc(v,e,C),C&2&&(m=e[1].position.includes("top")),m?w||(w=Xm(),w.c(),w.m(t,f)):w&&(w.d(1),w=null),C&138&&(g=e[3].position.includes("top")&&e[1].position.includes("top")&&e[7]),g?_?(_.p(e,C),C&138&&xe(_,1)):(_=Jm(e),_.c(),xe(_,1),_.m(t,null)):_&&(kr(),$e(_,1,1,()=>{_=null}),Mr()),(!d||C&2&&u!==(u=e[15](Fu)[e[1].position]+"; "+(e[11].type==="mobile"&&e[1].position.includes("top")?"padding-bottom: 0;":e[11].type==="mobile"&&e[1].position.includes("bottom")?"padding-top:0;":"")))&&le(t,"style",u)},i(y){d||(xe(p),xe(v.block),xe(_),d=!0)},o(y){$e(p);for(let C=0;C<3;C+=1){const I=v.blocks[C];$e(I)}$e(_),d=!1},d(y){y&&De(t),p&&p.d(),h&&h.d(),v.block.d(),v.token=null,v=null,w&&w.d(),_&&_.d()}}}function Zm(e){let t,r,n={ctx:e,current:null,token:null,hasCatch:!1,pending:tA,then:QI,catch:JI,value:22,blocks:[,,,]};return sa(e[17],n),{c(){t=Ir(),n.block.c()},m(i,o){Pe(i,t,o),n.block.m(i,n.anchor=o),n.mount=()=>t.parentNode,n.anchor=t,r=!0},p(i,o){e=i,tc(n,e,o)},i(i){r||(xe(n.block),r=!0)},o(i){for(let o=0;o<3;o+=1){const c=n.blocks[o];$e(c)}r=!1},d(i){i&&De(t),n.block.d(i),n.token=null,n=null}}}function JI(e){return{c:Re,m:Re,p:Re,i:Re,o:Re,d:Re}}function QI(e){let t,r,n=e[22]&&eA(e);return{c(){n&&n.c(),t=Ir()},m(i,o){n&&n.m(i,o),Pe(i,t,o),r=!0},p(i,o){i[22]&&n.p(i,o)},i(i){r||(xe(n),r=!0)},o(i){$e(n),r=!1},d(i){n&&n.d(i),i&&De(t)}}}function eA(e){let t,r,n;var i=e[22];function o(c){return{props:{notifications:c[10],position:c[3].position,sharedContainer:c[0]}}}return i&&(t=ks(i,o(e))),{c(){t&&qt(t.$$.fragment),r=Ir()},m(c,a){t&&Ft(t,c,a),Pe(c,r,a),n=!0},p(c,a){const m={};if(a&1024&&(m.notifications=c[10]),a&8&&(m.position=c[3].position),a&1&&(m.sharedContainer=c[0]),i!==(i=c[22])){if(t){kr();const f=t;$e(f.$$.fragment,1,0,()=>{Ut(f,1)}),Mr()}i?(t=ks(i,o(c)),qt(t.$$.fragment),xe(t.$$.fragment,1),Ft(t,r.parentNode,r)):t=null}else i&&t.$set(m)},i(c){n||(t&&xe(t.$$.fragment,c),n=!0)},o(c){t&&$e(t.$$.fragment,c),n=!1},d(c){c&&De(r),t&&Ut(t,c)}}}function tA(e){return{c:Re,m:Re,p:Re,i:Re,o:Re,d:Re}}function Ym(e){let t;return{c(){t=be("div"),le(t,"id","w3o-transaction-preview-container"),$s(t,"margin-bottom","8px")},m(r,n){Pe(r,t,n)},d(r){r&&De(t)}}}function rA(e){return{c:Re,m:Re,p:Re,i:Re,o:Re,d:Re}}function nA(e){let t,r,n=e[23]&&iA(e);return{c(){n&&n.c(),t=Ir()},m(i,o){n&&n.m(i,o),Pe(i,t,o),r=!0},p(i,o){i[23]&&n.p(i,o)},i(i){r||(xe(n),r=!0)},o(i){$e(n),r=!1},d(i){n&&n.d(i),i&&De(t)}}}function iA(e){let t,r,n;var i=e[23];function o(c){return{}}return i&&(t=ks(i,o())),{c(){t&&qt(t.$$.fragment),r=Ir()},m(c,a){t&&Ft(t,c,a),Pe(c,r,a),n=!0},p(c,a){if(i!==(i=c[23])){if(t){kr();const m=t;$e(m.$$.fragment,1,0,()=>{Ut(m,1)}),Mr()}i?(t=ks(i,o()),qt(t.$$.fragment),xe(t.$$.fragment,1),Ft(t,r.parentNode,r)):t=null}},i(c){n||(t&&xe(t.$$.fragment,c),n=!0)},o(c){t&&$e(t.$$.fragment,c),n=!1},d(c){c&&De(r),t&&Ut(t,c)}}}function sA(e){return{c:Re,m:Re,p:Re,i:Re,o:Re,d:Re}}function Xm(e){let t;return{c(){t=be("div"),le(t,"id","w3o-transaction-preview-container"),$s(t,"margin-top","8px")},m(r,n){Pe(r,t,n)},d(r){r&&De(t)}}}function Jm(e){let t,r,n={ctx:e,current:null,token:null,hasCatch:!1,pending:lA,then:aA,catch:oA,value:22,blocks:[,,,]};return sa(e[17],n),{c(){t=Ir(),n.block.c()},m(i,o){Pe(i,t,o),n.block.m(i,n.anchor=o),n.mount=()=>t.parentNode,n.anchor=t,r=!0},p(i,o){e=i,tc(n,e,o)},i(i){r||(xe(n.block),r=!0)},o(i){for(let o=0;o<3;o+=1){const c=n.blocks[o];$e(c)}r=!1},d(i){i&&De(t),n.block.d(i),n.token=null,n=null}}}function oA(e){return{c:Re,m:Re,p:Re,i:Re,o:Re,d:Re}}function aA(e){let t,r,n=e[22]&&cA(e);return{c(){n&&n.c(),t=Ir()},m(i,o){n&&n.m(i,o),Pe(i,t,o),r=!0},p(i,o){i[22]&&n.p(i,o)},i(i){r||(xe(n),r=!0)},o(i){$e(n),r=!1},d(i){n&&n.d(i),i&&De(t)}}}function cA(e){let t,r,n;var i=e[22];function o(c){return{props:{notifications:c[10],position:c[3].position,sharedContainer:c[0]}}}return i&&(t=ks(i,o(e))),{c(){t&&qt(t.$$.fragment),r=Ir()},m(c,a){t&&Ft(t,c,a),Pe(c,r,a),n=!0},p(c,a){const m={};if(a&1024&&(m.notifications=c[10]),a&8&&(m.position=c[3].position),a&1&&(m.sharedContainer=c[0]),i!==(i=c[22])){if(t){kr();const f=t;$e(f.$$.fragment,1,0,()=>{Ut(f,1)}),Mr()}i?(t=ks(i,o(c)),qt(t.$$.fragment),xe(t.$$.fragment,1),Ft(t,r.parentNode,r)):t=null}else i&&t.$set(m)},i(c){n||(t&&xe(t.$$.fragment,c),n=!0)},o(c){t&&$e(t.$$.fragment,c),n=!1},d(c){c&&De(r),t&&Ut(t,c)}}}function lA(e){return{c:Re,m:Re,p:Re,i:Re,o:Re,d:Re}}function Qm(e){let t,r=e[1].position.includes("bottom"),n,i,o,c=e[1].position.includes("top"),a,m,f=r&&e1(),g=e[1].enabled&&e[2].length&&t1(e),u=c&&r1();return{c(){t=be("div"),f&&f.c(),n=Fe(),i=be("div"),g&&g.c(),o=Fe(),u&&u.c(),le(t,"class","container flex flex-column fixed z-indexed svelte-g9s19b"),le(t,"style",a=e[15](Fu)[e[1].position]+"; "+(e[11].type==="mobile"&&e[1].position.includes("top")?"padding-bottom: 0;":e[11].type==="mobile"&&e[1].position.includes("bottom")?"padding-top:0;":""))},m(d,p){Pe(d,t,p),f&&f.m(t,null),he(t,n),he(t,i),g&&g.m(i,null),he(t,o),u&&u.m(t,null),m=!0},p(d,p){p&2&&(r=d[1].position.includes("bottom")),r?f||(f=e1(),f.c(),f.m(t,n)):f&&(f.d(1),f=null),d[1].enabled&&d[2].length?g?(g.p(d,p),p&6&&xe(g,1)):(g=t1(d),g.c(),xe(g,1),g.m(i,null)):g&&(kr(),$e(g,1,1,()=>{g=null}),Mr()),p&2&&(c=d[1].position.includes("top")),c?u||(u=r1(),u.c(),u.m(t,null)):u&&(u.d(1),u=null),(!m||p&2&&a!==(a=d[15](Fu)[d[1].position]+"; "+(d[11].type==="mobile"&&d[1].position.includes("top")?"padding-bottom: 0;":d[11].type==="mobile"&&d[1].position.includes("bottom")?"padding-top:0;":"")))&&le(t,"style",a)},i(d){m||(xe(g),m=!0)},o(d){$e(g),m=!1},d(d){d&&De(t),f&&f.d(),g&&g.d(),u&&u.d()}}}function e1(e){let t;return{c(){t=be("div"),le(t,"id","w3o-transaction-preview-container"),$s(t,"margin-bottom","8px")},m(r,n){Pe(r,t,n)},d(r){r&&De(t)}}}function t1(e){let t,r,n={ctx:e,current:null,token:null,hasCatch:!1,pending:dA,then:fA,catch:uA,value:23,blocks:[,,,]};return sa(e[16],n),{c(){t=Ir(),n.block.c()},m(i,o){Pe(i,t,o),n.block.m(i,n.anchor=o),n.mount=()=>t.parentNode,n.anchor=t,r=!0},p(i,o){e=i,tc(n,e,o)},i(i){r||(xe(n.block),r=!0)},o(i){for(let o=0;o<3;o+=1){const c=n.blocks[o];$e(c)}r=!1},d(i){i&&De(t),n.block.d(i),n.token=null,n=null}}}function uA(e){return{c:Re,m:Re,p:Re,i:Re,o:Re,d:Re}}function fA(e){let t,r,n=e[23]&&hA(e);return{c(){n&&n.c(),t=Ir()},m(i,o){n&&n.m(i,o),Pe(i,t,o),r=!0},p(i,o){i[23]&&n.p(i,o)},i(i){r||(xe(n),r=!0)},o(i){$e(n),r=!1},d(i){n&&n.d(i),i&&De(t)}}}function hA(e){let t,r,n;var i=e[23];function o(c){return{}}return i&&(t=ks(i,o())),{c(){t&&qt(t.$$.fragment),r=Ir()},m(c,a){t&&Ft(t,c,a),Pe(c,r,a),n=!0},p(c,a){if(i!==(i=c[23])){if(t){kr();const m=t;$e(m.$$.fragment,1,0,()=>{Ut(m,1)}),Mr()}i?(t=ks(i,o()),qt(t.$$.fragment),xe(t.$$.fragment,1),Ft(t,r.parentNode,r)):t=null}},i(c){n||(t&&xe(t.$$.fragment,c),n=!0)},o(c){t&&$e(t.$$.fragment,c),n=!1},d(c){c&&De(r),t&&Ut(t,c)}}}function dA(e){return{c:Re,m:Re,p:Re,i:Re,o:Re,d:Re}}function r1(e){let t;return{c(){t=be("div"),le(t,"id","w3o-transaction-preview-container"),$s(t,"margin-top","8px")},m(r,n){Pe(r,t,n)},d(r){r&&De(t)}}}function n1(e){let t,r=e[3].position.includes("top"),n,i,o=e[3].position.includes("bottom"),c,a,m=r&&i1(),f={ctx:e,current:null,token:null,hasCatch:!1,pending:vA,then:gA,catch:pA,value:22,blocks:[,,,]};sa(e[17],f);let g=o&&s1();return{c(){t=be("div"),m&&m.c(),n=Fe(),f.block.c(),i=Fe(),g&&g.c(),le(t,"class","container flex flex-column fixed z-indexed svelte-g9s19b"),le(t,"style",c=e[15](o1)[e[3].position]+"; "+(e[11].type==="mobile"&&e[3].position.includes("top")?"padding-bottom: 0;":e[11].type==="mobile"&&e[3].position.includes("bottom")?"padding-top:0;":""))},m(u,d){Pe(u,t,d),m&&m.m(t,null),he(t,n),f.block.m(t,f.anchor=null),f.mount=()=>t,f.anchor=i,he(t,i),g&&g.m(t,null),a=!0},p(u,d){e=u,d&8&&(r=e[3].position.includes("top")),r?m||(m=i1(),m.c(),m.m(t,n)):m&&(m.d(1),m=null),tc(f,e,d),d&8&&(o=e[3].position.includes("bottom")),o?g||(g=s1(),g.c(),g.m(t,null)):g&&(g.d(1),g=null),(!a||d&8&&c!==(c=e[15](o1)[e[3].position]+"; "+(e[11].type==="mobile"&&e[3].position.includes("top")?"padding-bottom: 0;":e[11].type==="mobile"&&e[3].position.includes("bottom")?"padding-top:0;":"")))&&le(t,"style",c)},i(u){a||(xe(f.block),a=!0)},o(u){for(let d=0;d<3;d+=1){const p=f.blocks[d];$e(p)}a=!1},d(u){u&&De(t),m&&m.d(),f.block.d(),f.token=null,f=null,g&&g.d()}}}function i1(e){let t;return{c(){t=be("div"),le(t,"id","w3o-transaction-preview-container")},m(r,n){Pe(r,t,n)},d(r){r&&De(t)}}}function pA(e){return{c:Re,m:Re,p:Re,i:Re,o:Re,d:Re}}function gA(e){let t,r,n=e[22]&&mA(e);return{c(){n&&n.c(),t=Ir()},m(i,o){n&&n.m(i,o),Pe(i,t,o),r=!0},p(i,o){i[22]&&n.p(i,o)},i(i){r||(xe(n),r=!0)},o(i){$e(n),r=!1},d(i){n&&n.d(i),i&&De(t)}}}function mA(e){let t,r,n;var i=e[22];function o(c){return{props:{notifications:c[10],position:c[3].position,sharedContainer:c[0]}}}return i&&(t=ks(i,o(e))),{c(){t&&qt(t.$$.fragment),r=Ir()},m(c,a){t&&Ft(t,c,a),Pe(c,r,a),n=!0},p(c,a){const m={};if(a&1024&&(m.notifications=c[10]),a&8&&(m.position=c[3].position),a&1&&(m.sharedContainer=c[0]),i!==(i=c[22])){if(t){kr();const f=t;$e(f.$$.fragment,1,0,()=>{Ut(f,1)}),Mr()}i?(t=ks(i,o(c)),qt(t.$$.fragment),xe(t.$$.fragment,1),Ft(t,r.parentNode,r)):t=null}else i&&t.$set(m)},i(c){n||(t&&xe(t.$$.fragment,c),n=!0)},o(c){t&&$e(t.$$.fragment,c),n=!1},d(c){c&&De(r),t&&Ut(t,c)}}}function vA(e){return{c:Re,m:Re,p:Re,i:Re,o:Re,d:Re}}function s1(e){let t;return{c(){t=be("div"),le(t,"id","w3o-transaction-preview-container")},m(r,n){Pe(r,t,n)},d(r){r&&De(t)}}}function bA(e){let t,r,n,i,o,c,a,m,f=e[8].inProgress&&Wm(e),g=e[8].actionRequired&&zm(e),u=e[9]&&Vm(),d=!e[1].enabled&&!e[3].enabled&&Gm(e),p=e[4]&&Km(e),h=e[5]&&Qm(e),v=e[6]&&n1(e);return{c(){f&&f.c(),t=Fe(),g&&g.c(),r=Fe(),u&&u.c(),n=Fe(),d&&d.c(),i=Fe(),p&&p.c(),o=Fe(),h&&h.c(),c=Fe(),v&&v.c(),a=Ir()},m(w,_){f&&f.m(w,_),Pe(w,t,_),g&&g.m(w,_),Pe(w,r,_),u&&u.m(w,_),Pe(w,n,_),d&&d.m(w,_),Pe(w,i,_),p&&p.m(w,_),Pe(w,o,_),h&&h.m(w,_),Pe(w,c,_),v&&v.m(w,_),Pe(w,a,_),m=!0},p(w,[_]){w[8].inProgress?f?(f.p(w,_),_&256&&xe(f,1)):(f=Wm(w),f.c(),xe(f,1),f.m(t.parentNode,t)):f&&(kr(),$e(f,1,1,()=>{f=null}),Mr()),w[8].actionRequired?g?(g.p(w,_),_&256&&xe(g,1)):(g=zm(w),g.c(),xe(g,1),g.m(r.parentNode,r)):g&&(kr(),$e(g,1,1,()=>{g=null}),Mr()),w[9]?u?_&512&&xe(u,1):(u=Vm(),u.c(),xe(u,1),u.m(n.parentNode,n)):u&&(kr(),$e(u,1,1,()=>{u=null}),Mr()),!w[1].enabled&&!w[3].enabled?d?d.p(w,_):(d=Gm(w),d.c(),d.m(i.parentNode,i)):d&&(d.d(1),d=null),w[4]?p?(p.p(w,_),_&16&&xe(p,1)):(p=Km(w),p.c(),xe(p,1),p.m(o.parentNode,o)):p&&(kr(),$e(p,1,1,()=>{p=null}),Mr()),w[5]?h?(h.p(w,_),_&32&&xe(h,1)):(h=Qm(w),h.c(),xe(h,1),h.m(c.parentNode,c)):h&&(kr(),$e(h,1,1,()=>{h=null}),Mr()),w[6]?v?(v.p(w,_),_&64&&xe(v,1)):(v=n1(w),v.c(),xe(v,1),v.m(a.parentNode,a)):v&&(kr(),$e(v,1,1,()=>{v=null}),Mr())},i(w){m||(xe(f),xe(g),xe(u),xe(p),xe(h),xe(v),m=!0)},o(w){$e(f),$e(g),$e(u),$e(p),$e(h),$e(v),m=!1},d(w){f&&f.d(w),w&&De(t),g&&g.d(w),w&&De(r),u&&u.d(w),w&&De(n),d&&d.d(w),w&&De(i),p&&p.d(w),w&&De(o),h&&h.d(w),w&&De(c),v&&v.d(w),w&&De(a)}}}const Fu="account-center",o1="notify-onboard-container";function yA(e,t,r){let n,i,o,c,a,m,f,g,u,d,p,h;Ur(e,cf,x=>r(2,g=x)),Ur(e,ds,x=>r(8,d=x)),Ur(e,Ya,x=>r(9,p=x));const{device:v,containerElements:w}=bi,_=st.select("accountCenter").pipe(ho(st.get().accountCenter),go(1));Ur(e,_,x=>r(1,f=x));const y=st.select("notify").pipe(ho(st.get().notify),go(1));Ur(e,y,x=>r(3,u=x));const C=st.select("notifications").pipe(ho(st.get().notifications));Ur(e,C,x=>r(10,h=x));const I=x=>({topLeft:`
        top: var(--${x}-position-top, 0); 
        left: var(--${x}-position-left, 0);`,topRight:`
        top: var(--${x}-position-top, 0); 
        right: var(--${x}-position-right, 0);`,bottomRight:`
        bottom: var(--${x}-position-bottom, 0); 
        right: var(--${x}-position-right, 0);`,bottomLeft:`
        bottom: var(--${x}-position-bottom, 0); 
        left: var(--${x}-position-left, 0);`}),D=f.enabled?Ke(()=>import("./Index-a8f5e52f.5e8314da.js"),["./Index-a8f5e52f.5e8314da.js","./merge.702a4c6c.js","./skip.62d4a753.js"],import.meta.url).then(x=>x.default):Promise.resolve(null),O=u.enabled?Ke(()=>import("./Index-66e3b3f1.123350c4.js"),["./Index-66e3b3f1.123350c4.js","./Loading.svelte_svelte_type_style_lang.68899ee6.js","./index.a1caa8db.js","./index.933105c2.js","../assets/Loading.94bb27be.css"],import.meta.url).then(x=>x.default):Promise.resolve(null),E=f.enabled&&w&&w.accountCenter,b=(x,A,N,j)=>{const B=x.attachShadow({mode:"open"});let L=document.querySelector("onboard-v2").shadowRoot.styleSheets;const q=new CSSStyleSheet;Object.values(L).forEach(K=>{Object.values(K.cssRules).forEach(re=>q.insertRule(re.cssText))}),B.adoptedStyleSheets=[q];const W=document.querySelector(A);if(W.appendChild(x),!W)throw new Error(`Element with query ${A} does not exist.`);(async()=>{let K=await N;K&&new K({target:B,props:{settings:j,mountInContainer:!0}})})()};if(E){const x=document.createElement("onboard-account-center");b(x,E,D,f)}return e.$$.update=()=>{e.$$.dirty&10&&r(0,n=!E&&f.enabled&&u.enabled&&u.position===f.position),e.$$.dirty&10&&r(7,i=v.type==="mobile"||f.position===u.position),e.$$.dirty&10&&r(18,o=u.position.includes("bottom")&&f.position.includes("bottom")||u.position.includes("top")&&f.position.includes("top")),e.$$.dirty&262158&&r(6,c=u.enabled&&(!f.enabled||E||u.position!==f.position&&v.type!=="mobile"||v.type==="mobile"&&!o||!g.length)),e.$$.dirty&262158&&r(5,a=f.enabled&&(!u.enabled||u.position!==f.position&&v.type!=="mobile"||v.type==="mobile"&&!o)&&g.length),e.$$.dirty&262159&&r(4,m=u.enabled&&f.enabled&&(n||v.type==="mobile"&&o)&&g.length)},[n,f,g,u,m,a,c,i,d,p,h,v,_,y,C,I,D,O,o]}class _A extends mn{constructor(t){super(),gn(this,t,yA,bA,dn,{},XI)}}let wd;st.select("notifications").subscribe(e=>{wd=e});async function wA(e){const t=vC(e);if(t)throw t;const{sendTransaction:r,estimateGas:n,gasPrice:i,balance:o,txDetails:c,txApproveReminderTimeout:a}=e,m=a&&a>3e3?a:15e3,[f,g]=await IA(n,i),u=SA(Ub()),d=new ia(c&&c.value||0);o&&f&&g&&f.times(g).plus(d).gt(new ia(o))&&Pa(xc("nsfFail",u));const p=wd.find(w=>w.eventCode==="txRequest");if(p){const _=xc("txAwaitingApproval",p.id);Pa(_)}if(setTimeout(()=>{const w=wd.find(_=>_.id===u&&_.eventCode==="txRequest");if(w){const y=xc("txConfirmReminder",w.id);Pa(y)}},m),Pa(xc("txRequest",u)),!r)return u;let v;try{v=await r()}catch(w){const{eventCode:_,errorMsg:y}=xA(w);Pa(xc(_,u)),console.error(y);return}if(Dy(u),v)return v}const xc=(e,t)=>({eventCode:e,type:ky(e),id:t,key:EA(t,e),message:CA(e),startTime:Date.now(),network:Object.keys(gm).find(r=>gm[r]===st.get().chains[0].id),autoDismiss:0}),EA=(e,t)=>`${e}-${t}`,SA=e=>`${e}-preflight`,CA=e=>{const t=Lt.notify;return t.transaction,t.transaction[e]};function xA(e){if(!e.stack||!e.message)return{eventCode:"txError",errorMsg:"An unknown error occured"};const t=e.stack||e.message;return t.includes("User denied transaction signature")?{eventCode:"txSendFail",errorMsg:"User denied transaction signature"}:t.includes("transaction underpriced")?{eventCode:"txUnderpriced",errorMsg:"Transaction is under priced"}:{eventCode:"txError",errorMsg:t}}const IA=async(e,t)=>{if(!e||!t)return Promise.resolve([]);const r=e();if(!r.then)throw new Error("The `estimateGas` function must return a Promise");const n=t();if(!n.then)throw new Error("The `gasPrice` function must return a Promise");return Promise.all([r,n]).then(([i,o])=>{if(typeof i!="string")throw new Error(`The Promise returned from calling 'estimateGas' must resolve with a value of type 'string'. Received a value of: ${i} with a type: ${typeof i}`);if(typeof o!="string")throw new Error(`The Promise returned from calling 'gasPrice' must resolve with a value of type 'string'. Received a value of: ${o} with a type: ${typeof o}`);return[new ia(i),new ia(o)]}).catch(i=>{throw new Error(`There was an error getting gas estimates: ${i}`)})},qc={connectWallet:$C,disconnectWallet:My,setChain:YC,state:{get:st.get,select:st.select,actions:{setWalletModules:Ty,setLocale:DC,updateNotify:vu,customNotification:AC,preflightNotifications:wA,updateBalances:Ny,updateAccountCenter:Oy,setPrimaryWallet:xC,updateTheme:Py,updateAppMetadata:Ry}}};function zj(e){if(typeof window>"u")return qc;if(e){const y=aC(e);if(y)throw y}const{wallets:t,chains:r,appMetadata:n,i18n:i,accountCenter:o,apiKey:c,notify:a,gas:m,connect:f,containerElements:g,transactionPreview:u,theme:d,disableFontDownload:p,unstoppableResolution:h}=e;g&&mm({containerElements:g});const{device:v,svelteInstance:w}=bi;if(w&&(console.warn("Re-initializing Onboard and resetting back to initial state"),bp.next()),JC(i),EC(nS(r)),typeof f!==void 0&&IC(f),typeof o<"u"){let y;const{hideTransactionProtectionBtn:C,transactionProtectionInfoLink:I}=o;v.type==="mobile"?y={...To.accountCenter,hideTransactionProtectionBtn:C,transactionProtectionInfoLink:I,...o.mobile?o.mobile:{}}:o.desktop&&(y={...To.accountCenter,hideTransactionProtectionBtn:C,transactionProtectionInfoLink:I,...o.desktop}),Oy(y)}if(typeof a<"u")if("desktop"in a||"mobile"in a){const y=pC(a);if(y)throw y;(!a.desktop||a.desktop&&!a.desktop.position)&&o&&o.desktop&&o.desktop.position&&(a.desktop.position=o.desktop.position),(!a.mobile||a.mobile&&!a.mobile.position)&&o&&o.mobile&&o.mobile.position&&(a.mobile.position=o.mobile.position);let C;v.type==="mobile"&&a.mobile?C={...To.notify,...a.mobile}:a.desktop&&(C={...To.notify,...a.desktop}),vu(C)}else{const y=Ay(a);if(y)throw y;const C={...To.notify,...a};vu(C)}else{const y=To.notify;vu(y)}const _=w||TA(d,p);if(mm({svelteInstance:_,apiKey:c,initialWalletInit:t,gas:m,transactionPreview:u,unstoppableResolution:h}),n&&Ry(n),c&&u&&(async()=>(u.init({containerElement:"#w3o-transaction-preview-container",sdk:await ZC(),apiKey:c}),cf.subscribe(C=>{C.forEach(({provider:I})=>{u.patchProvider(I)})})))(),d&&Py(d),f&&(f.autoConnectLastWallet||f.autoConnectAllPreviousWallet)){const y=rf(Ns.LAST_CONNECTED_WALLET);try{const C=JSON.parse(y);C&&Array.isArray(C)&&C.length&&DA(C,f)}catch(C){C instanceof SyntaxError&&y&&qc.connectWallet({autoSelect:{label:y,disableModals:!0}})}}return qc}const AA=(e,t)=>t||document.body&&(getComputedStyle(document.body).getPropertyValue("--onboard-font-family-normal")||getComputedStyle(document.body).getPropertyValue("--w3o-font-family"))?!0:e?!!(typeof e=="object"&&e["--w3o-font-family"]):!1,OA=async()=>{const{InterVar:e}=await Ke(()=>import("./index.09bbd7f1.js"),[],import.meta.url),t=document.createElement("style");t.innerHTML=`
    ${e}
  `,document.body.appendChild(t)},DA=async(e,t)=>{const r=[],n=e;if(!t.autoConnectAllPreviousWallet)qc.connectWallet({autoSelect:{label:n[0],disableModals:!0}}),r.push(n[0]);else for(let i=n.length;i--;)(await qc.connectWallet({autoSelect:{label:n[i],disableModals:!0}})).some(c=>c.label===n[i])&&r.unshift(n[i]);nf(Ns.LAST_CONNECTED_WALLET,JSON.stringify(r))};function TA(e,t){class r extends HTMLElement{constructor(){super()}}customElements.get("onboard-v2")||customElements.define("onboard-v2",r),AA(e,t)||OA();const n=document.createElement("onboard-v2"),i=n.attachShadow({mode:"open"});n.style.all="initial",i.innerHTML=`

  <style>
    :host {
          /* COLORS */
          --white: white;
          --black: black;
          --primary-1: #2F80ED;
          --primary-100: #eff1fc;
          --primary-200: #d0d4f7;
          --primary-300: #b1b8f2;
          --primary-400: #929bed;
          --primary-500: #6370e5;
          --primary-600: #454ea0;
          --primary-700: #323873;
          --gray-100: #ebebed;
          --gray-200: #c2c4c9;
          --gray-300: #999ca5;
          --gray-400: #707481;
          --gray-500: #33394b;
          --gray-600: #242835;
          --gray-700: #1a1d26;
          --success-100: #d1fae3;
          --success-200: #baf7d5;
          --success-300: #a4f4c6;
          --success-400: #8df2b8;
          --success-500: #5aec99;
          --success-600: #18ce66;
          --success-700: #129b4d;
          --danger-100: #ffe5e6;
          --danger-200: #ffcccc;
          --danger-300: #ffb3b3;
          --danger-400: #ff8080;
          --danger-500: #ff4f4f;
          --danger-600: #cc0000;
          --danger-700: #660000;
          --warning-100: #ffefcc;
          --warning-200: #ffe7b3;
          --warning-300: #ffd780;
          --warning-400: #ffc74c;
          --warning-500: #ffaf00;
          --warning-600: #cc8c00;
          --warning-700: #664600;

          /* FONTS */
          --font-family-normal: var(--w3o-font-family, Inter, sans-serif);

          --font-size-1: 3rem;
          --font-size-2: 2.25rem;
          --font-size-3: 1.5rem;
          --font-size-4: 1.25rem;
          --font-size-5: 1rem;
          --font-size-6: .875rem;
          --font-size-7: .75rem;

          --font-line-height-1: 24px;
          --font-line-height-2: 20px;
          --font-line-height-3: 16px;
          --font-line-height-4: 12px;

          /* SPACING */
          --spacing-1: 3rem;
          --spacing-2: 2rem;
          --spacing-3: 1.5rem;
          --spacing-4: 1rem;
          --spacing-5: 0.5rem;
          --spacing-6: 0.25rem;
          --spacing-7: 0.125rem;

          /* BORDER RADIUS */
          --border-radius-1: 24px;
          --border-radius-2: 20px;
          --border-radius-3: 16px;
          --border-radius-4: 12px;
          --border-radius-5: 8px;

          /* SHADOWS */
          --shadow-0: none;
          --shadow-1: 0px 4px 12px rgba(0, 0, 0, 0.1);
          --shadow-2: inset 0px -1px 0px rgba(0, 0, 0, 0.1);
          --shadow-3: 0px 4px 16px rgba(0, 0, 0, 0.2);

          /* MODAL POSITIONING */
          --modal-z-index: 10;
          --modal-top: unset;
          --modal-right: unset;
          --modal-bottom: unset;
          --modal-left: unset;

          /* MODAL STYLES */
          --modal-backdrop: rgba(0, 0, 0, 0.6);

        }
      </style>
    `;const c=bi.containerElements.connectModal||st.get().accountCenter.containerElement||"body",a=document.querySelector(c);if(!a)throw new Error(`Element with query ${c} does not exist.`);return a.appendChild(n),new _A({target:i})}var Uu={exports:{}};Uu.exports;(function(e,t){var r=200,n="Expected a function",i="__lodash_hash_undefined__",o=1,c=2,a=1/0,m=9007199254740991,f="[object Arguments]",g="[object Array]",u="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Function]",v="[object GeneratorFunction]",w="[object Map]",_="[object Number]",y="[object Object]",C="[object Promise]",I="[object RegExp]",D="[object Set]",O="[object String]",E="[object Symbol]",b="[object WeakMap]",x="[object ArrayBuffer]",A="[object DataView]",N="[object Float32Array]",j="[object Float64Array]",B="[object Int8Array]",$="[object Int16Array]",L="[object Int32Array]",q="[object Uint8Array]",W="[object Uint8ClampedArray]",z="[object Uint16Array]",K="[object Uint32Array]",se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,we=/^\./,fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,me=/[\\^$.*+?()[\]{}|]/g,ge=/\\(\\)?/g,Ie=/^\[object .+?Constructor\]$/,ne=/^(?:0|[1-9]\d*)$/,J={};J[N]=J[j]=J[B]=J[$]=J[L]=J[q]=J[W]=J[z]=J[K]=!0,J[f]=J[g]=J[x]=J[u]=J[A]=J[d]=J[p]=J[h]=J[w]=J[_]=J[y]=J[I]=J[D]=J[O]=J[b]=!1;var te=typeof Vr=="object"&&Vr&&Vr.Object===Object&&Vr,R=typeof self=="object"&&self&&self.Object===Object&&self,Z=te||R||Function("return this")(),Oe=t&&!t.nodeType&&t,Le=Oe&&!0&&e&&!e.nodeType&&e,Ne=Le&&Le.exports===Oe,ke=Ne&&te.process,Et=function(){try{return ke&&ke.binding("util")}catch{}}(),dt=Et&&Et.isTypedArray;function ar(T,F){var ee=T?T.length:0;return!!ee&&ct(T,F,0)>-1}function cr(T,F,ee){for(var de=-1,_e=T?T.length:0;++de<_e;)if(ee(F,T[de]))return!0;return!1}function pt(T,F){for(var ee=-1,de=T?T.length:0;++ee<de;)if(F(T[ee],ee,T))return!0;return!1}function rt(T,F,ee,de){for(var _e=T.length,ve=ee+(de?1:-1);de?ve--:++ve<_e;)if(F(T[ve],ve,T))return ve;return-1}function ct(T,F,ee){if(F!==F)return rt(T,et,ee);for(var de=ee-1,_e=T.length;++de<_e;)if(T[de]===F)return de;return-1}function et(T){return T!==T}function gt(T){return function(F){return F==null?void 0:F[T]}}function ot(T,F){for(var ee=-1,de=Array(T);++ee<T;)de[ee]=F(ee);return de}function vt(T){return function(F){return T(F)}}function nt(T,F){return T.has(F)}function it(T,F){return T==null?void 0:T[F]}function bt(T){var F=!1;if(T!=null&&typeof T.toString!="function")try{F=!!(T+"")}catch{}return F}function tt(T){var F=-1,ee=Array(T.size);return T.forEach(function(de,_e){ee[++F]=[_e,de]}),ee}function _t(T,F){return function(ee){return T(F(ee))}}function wt(T){var F=-1,ee=Array(T.size);return T.forEach(function(de){ee[++F]=de}),ee}var Ot=Array.prototype,yt=Function.prototype,mt=Object.prototype,mr=Z["__core-js_shared__"],$r=function(){var T=/[^.]+$/.exec(mr&&mr.keys&&mr.keys.IE_PROTO||"");return T?"Symbol(src)_1."+T:""}(),vn=yt.toString,lr=mt.hasOwnProperty,en=mt.toString,Hn=RegExp("^"+vn.call(lr).replace(me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tn=Z.Symbol,rr=Z.Uint8Array,Bt=mt.propertyIsEnumerable,ur=Ot.splice,fr=_t(Object.keys,Object),Kt=qr(Z,"DataView"),er=qr(Z,"Map"),Er=qr(Z,"Promise"),Mt=qr(Z,"Set"),hr=qr(Z,"WeakMap"),dr=qr(Object,"create"),ir=M(Kt),vr=M(er),br=M(Er),xt=M(Mt),Tr=M(hr),yr=tn?tn.prototype:void 0,es=yr?yr.valueOf:void 0,ms=yr?yr.toString:void 0;function qn(T){var F=-1,ee=T?T.length:0;for(this.clear();++F<ee;){var de=T[F];this.set(de[0],de[1])}}function sr(){this.__data__=dr?dr(null):{}}function Bs(T){return this.has(T)&&delete this.__data__[T]}function Hs(T){var F=this.__data__;if(dr){var ee=F[T];return ee===i?void 0:ee}return lr.call(F,T)?F[T]:void 0}function qs(T){var F=this.__data__;return dr?F[T]!==void 0:lr.call(F,T)}function Ws(T,F){var ee=this.__data__;return ee[T]=dr&&F===void 0?i:F,this}qn.prototype.clear=sr,qn.prototype.delete=Bs,qn.prototype.get=Hs,qn.prototype.has=qs,qn.prototype.set=Ws;function In(T){var F=-1,ee=T?T.length:0;for(this.clear();++F<ee;){var de=T[F];this.set(de[0],de[1])}}function Hr(){this.__data__=[]}function ri(T){var F=this.__data__,ee=ii(F,T);if(ee<0)return!1;var de=F.length-1;return ee==de?F.pop():ur.call(F,ee,1),!0}function zs(T){var F=this.__data__,ee=ii(F,T);return ee<0?void 0:F[ee][1]}function Wn(T){return ii(this.__data__,T)>-1}function ts(T,F){var ee=this.__data__,de=ii(ee,T);return de<0?ee.push([T,F]):ee[de][1]=F,this}In.prototype.clear=Hr,In.prototype.delete=ri,In.prototype.get=zs,In.prototype.has=Wn,In.prototype.set=ts;function An(T){var F=-1,ee=T?T.length:0;for(this.clear();++F<ee;){var de=T[F];this.set(de[0],de[1])}}function bn(){this.__data__={hash:new qn,map:new(er||In),string:new qn}}function rs(T){return _n(this,T).delete(T)}function vs(T){return _n(this,T).get(T)}function Lr(T){return _n(this,T).has(T)}function Vs(T,F){return _n(this,T).set(T,F),this}An.prototype.clear=bn,An.prototype.delete=rs,An.prototype.get=vs,An.prototype.has=Lr,An.prototype.set=Vs;function ni(T){var F=-1,ee=T?T.length:0;for(this.__data__=new An;++F<ee;)this.add(T[F])}function Gs(T){return this.__data__.set(T,i),this}function Ks(T){return this.__data__.has(T)}ni.prototype.add=ni.prototype.push=Gs,ni.prototype.has=Ks;function yn(T){this.__data__=new In(T)}function bs(){this.__data__=new In}function Rn(T){return this.__data__.delete(T)}function ns(T){return this.__data__.get(T)}function _i(T){return this.__data__.has(T)}function is(T,F){var ee=this.__data__;if(ee instanceof In){var de=ee.__data__;if(!er||de.length<r-1)return de.push([T,F]),this;ee=this.__data__=new An(de)}return ee.set(T,F),this}yn.prototype.clear=bs,yn.prototype.delete=Rn,yn.prototype.get=ns,yn.prototype.has=_i,yn.prototype.set=is;function wi(T,F){var ee=Ge(T)||Ve(T)?ot(T.length,String):[],de=ee.length,_e=!!de;for(var ve in T)(F||lr.call(T,ve))&&!(_e&&(ve=="length"||Ln(ve,de)))&&ee.push(ve);return ee}function ii(T,F){for(var ee=T.length;ee--;)if(Ee(T[ee][0],F))return ee;return-1}function Ei(T,F){F=Nn(F,T)?[F]:os(F);for(var ee=0,de=F.length;T!=null&&ee<de;)T=T[oe(F[ee++])];return ee&&ee==de?T:void 0}function $i(T){return en.call(T)}function Li(T,F){return T!=null&&F in Object(T)}function si(T,F,ee,de,_e){return T===F?!0:T==null||F==null||!St(T)&&!Pt(F)?T!==T&&F!==F:ys(T,F,si,ee,de,_e)}function ys(T,F,ee,de,_e,ve){var We=Ge(T),Je=Ge(F),ut=g,Rt=g;We||(ut=jr(T),ut=ut==f?y:ut),Je||(Rt=jr(F),Rt=Rt==f?y:Rt);var Nt=ut==y&&!bt(T),Dt=Rt==y&&!bt(F),Vt=ut==Rt;if(Vt&&!Nt)return ve||(ve=new yn),We||an(T)?on(T,F,ee,de,_e,ve):ji(T,F,ut,ee,de,_e,ve);if(!(_e&c)){var Sr=Nt&&lr.call(T,"__wrapped__"),Pr=Dt&&lr.call(F,"__wrapped__");if(Sr||Pr){var Nr=Sr?T.value():T,ln=Pr?F.value():F;return ve||(ve=new yn),ee(Nr,ln,de,_e,ve)}}return Vt?(ve||(ve=new yn),Fi(T,F,ee,de,_e,ve)):!1}function _s(T,F,ee,de){var _e=ee.length,ve=_e,We=!de;if(T==null)return!ve;for(T=Object(T);_e--;){var Je=ee[_e];if(We&&Je[2]?Je[1]!==T[Je[0]]:!(Je[0]in T))return!1}for(;++_e<ve;){Je=ee[_e];var ut=Je[0],Rt=T[ut],Nt=Je[1];if(We&&Je[2]){if(Rt===void 0&&!(ut in T))return!1}else{var Dt=new yn;if(de)var Vt=de(Rt,Nt,ut,T,F,Dt);if(!(Vt===void 0?si(Nt,Rt,de,o|c,Dt):Vt))return!1}}return!0}function Ni(T){if(!St(T)||xs(T))return!1;var F=at(T)||bt(T)?Hn:Ie;return F.test(M(T))}function oi(T){return Pt(T)&&Yt(T.length)&&!!J[en.call(T)]}function rn(T){return typeof T=="function"?T:T==null?Gr:typeof T=="object"?Ge(T)?$n(T[0],T[1]):Es(T):U(T)}function ws(T){if(!Is(T))return fr(T);var F=[];for(var ee in Object(T))lr.call(T,ee)&&ee!="constructor"&&F.push(ee);return F}function Es(T){var F=Cs(T);return F.length==1&&F[0][2]?zt(F[0][0],F[0][1]):function(ee){return ee===T||_s(ee,T,F)}}function $n(T,F){return Nn(T)&&Zt(F)?zt(oe(T),F):function(ee){var de=ci(ee,T);return de===void 0&&de===F?Zs(ee,T):si(F,de,void 0,o|c)}}function ki(T){return function(F){return Ei(F,T)}}function ss(T){if(typeof T=="string")return T;if(Ar(T))return ms?ms.call(T):"";var F=T+"";return F=="0"&&1/T==-a?"-0":F}function Ss(T,F,ee){var de=-1,_e=ar,ve=T.length,We=!0,Je=[],ut=Je;if(ee)We=!1,_e=cr;else if(ve>=r){var Rt=F?null:Mi(T);if(Rt)return wt(Rt);We=!1,_e=nt,ut=new ni}else ut=F?[]:Je;e:for(;++de<ve;){var Nt=T[de],Dt=F?F(Nt):Nt;if(Nt=ee||Nt!==0?Nt:0,We&&Dt===Dt){for(var Vt=ut.length;Vt--;)if(ut[Vt]===Dt)continue e;F&&ut.push(Dt),Je.push(Nt)}else _e(ut,Dt,ee)||(ut!==Je&&ut.push(Dt),Je.push(Nt))}return Je}function os(T){return Ge(T)?T:G(T)}var Mi=Mt&&1/wt(new Mt([,-0]))[1]==a?function(T){return new Mt(T)}:ac;function on(T,F,ee,de,_e,ve){var We=_e&c,Je=T.length,ut=F.length;if(Je!=ut&&!(We&&ut>Je))return!1;var Rt=ve.get(T);if(Rt&&ve.get(F))return Rt==F;var Nt=-1,Dt=!0,Vt=_e&o?new ni:void 0;for(ve.set(T,F),ve.set(F,T);++Nt<Je;){var Sr=T[Nt],Pr=F[Nt];if(de)var Nr=We?de(Pr,Sr,Nt,F,T,ve):de(Sr,Pr,Nt,T,F,ve);if(Nr!==void 0){if(Nr)continue;Dt=!1;break}if(Vt){if(!pt(F,function(ln,Si){if(!Vt.has(Si)&&(Sr===ln||ee(Sr,ln,de,_e,ve)))return Vt.add(Si)})){Dt=!1;break}}else if(!(Sr===Pr||ee(Sr,Pr,de,_e,ve))){Dt=!1;break}}return ve.delete(T),ve.delete(F),Dt}function ji(T,F,ee,de,_e,ve,We){switch(ee){case A:if(T.byteLength!=F.byteLength||T.byteOffset!=F.byteOffset)return!1;T=T.buffer,F=F.buffer;case x:return!(T.byteLength!=F.byteLength||!de(new rr(T),new rr(F)));case u:case d:case _:return Ee(+T,+F);case p:return T.name==F.name&&T.message==F.message;case I:case O:return T==F+"";case w:var Je=tt;case D:var ut=ve&c;if(Je||(Je=wt),T.size!=F.size&&!ut)return!1;var Rt=We.get(T);if(Rt)return Rt==F;ve|=o,We.set(T,F);var Nt=on(Je(T),Je(F),de,_e,ve,We);return We.delete(T),Nt;case E:if(es)return es.call(T)==es.call(F)}return!1}function Fi(T,F,ee,de,_e,ve){var We=_e&c,Je=kn(T),ut=Je.length,Rt=kn(F),Nt=Rt.length;if(ut!=Nt&&!We)return!1;for(var Dt=ut;Dt--;){var Vt=Je[Dt];if(!(We?Vt in F:lr.call(F,Vt)))return!1}var Sr=ve.get(T);if(Sr&&ve.get(F))return Sr==F;var Pr=!0;ve.set(T,F),ve.set(F,T);for(var Nr=We;++Dt<ut;){Vt=Je[Dt];var ln=T[Vt],Si=F[Vt];if(de)var As=We?de(Si,ln,Vt,F,T,ve):de(ln,Si,Vt,T,F,ve);if(!(As===void 0?ln===Si||ee(ln,Si,de,_e,ve):As)){Pr=!1;break}Nr||(Nr=Vt=="constructor")}if(Pr&&!Nr){var Ci=T.constructor,_o=F.constructor;Ci!=_o&&"constructor"in T&&"constructor"in F&&!(typeof Ci=="function"&&Ci instanceof Ci&&typeof _o=="function"&&_o instanceof _o)&&(Pr=!1)}return ve.delete(T),ve.delete(F),Pr}function _n(T,F){var ee=T.__data__;return ai(F)?ee[typeof F=="string"?"string":"hash"]:ee.map}function Cs(T){for(var F=kn(T),ee=F.length;ee--;){var de=F[ee],_e=T[de];F[ee]=[de,_e,Zt(_e)]}return F}function qr(T,F){var ee=it(T,F);return Ni(ee)?ee:void 0}var jr=$i;(Kt&&jr(new Kt(new ArrayBuffer(1)))!=A||er&&jr(new er)!=w||Er&&jr(Er.resolve())!=C||Mt&&jr(new Mt)!=D||hr&&jr(new hr)!=b)&&(jr=function(T){var F=en.call(T),ee=F==y?T.constructor:void 0,de=ee?M(ee):void 0;if(de)switch(de){case ir:return A;case vr:return w;case br:return C;case xt:return D;case Tr:return b}return F});function wn(T,F,ee){F=Nn(F,T)?[F]:os(F);for(var de,_e=-1,We=F.length;++_e<We;){var ve=oe(F[_e]);if(!(de=T!=null&&ee(T,ve)))break;T=T[ve]}if(de)return de;var We=T?T.length:0;return!!We&&Yt(We)&&Ln(ve,We)&&(Ge(T)||Ve(T))}function Ln(T,F){return F=F??m,!!F&&(typeof T=="number"||ne.test(T))&&T>-1&&T%1==0&&T<F}function Nn(T,F){if(Ge(T))return!1;var ee=typeof T;return ee=="number"||ee=="symbol"||ee=="boolean"||T==null||Ar(T)?!0:re.test(T)||!se.test(T)||F!=null&&T in Object(F)}function ai(T){var F=typeof T;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?T!=="__proto__":T===null}function xs(T){return!!$r&&$r in T}function Is(T){var F=T&&T.constructor,ee=typeof F=="function"&&F.prototype||mt;return T===ee}function Zt(T){return T===T&&!St(T)}function zt(T,F){return function(ee){return ee==null?!1:ee[T]===F&&(F!==void 0||T in Object(ee))}}var G=ce(function(T){T=cn(T);var F=[];return we.test(T)&&F.push(""),T.replace(fe,function(ee,de,_e,ve){F.push(_e?ve.replace(ge,"$1"):de||ee)}),F});function oe(T){if(typeof T=="string"||Ar(T))return T;var F=T+"";return F=="0"&&1/T==-a?"-0":F}function M(T){if(T!=null){try{return vn.call(T)}catch{}try{return T+""}catch{}}return""}function Y(T,F){return T&&T.length?Ss(T,rn(F)):[]}function ce(T,F){if(typeof T!="function"||F&&typeof F!="function")throw new TypeError(n);var ee=function(){var de=arguments,_e=F?F.apply(this,de):de[0],ve=ee.cache;if(ve.has(_e))return ve.get(_e);var We=T.apply(this,de);return ee.cache=ve.set(_e,We),We};return ee.cache=new(ce.Cache||An),ee}ce.Cache=An;function Ee(T,F){return T===F||T!==T&&F!==F}function Ve(T){return qe(T)&&lr.call(T,"callee")&&(!Bt.call(T,"callee")||en.call(T)==f)}var Ge=Array.isArray;function He(T){return T!=null&&Yt(T.length)&&!at(T)}function qe(T){return Pt(T)&&He(T)}function at(T){var F=St(T)?en.call(T):"";return F==h||F==v}function Yt(T){return typeof T=="number"&&T>-1&&T%1==0&&T<=m}function St(T){var F=typeof T;return!!T&&(F=="object"||F=="function")}function Pt(T){return!!T&&typeof T=="object"}function Ar(T){return typeof T=="symbol"||Pt(T)&&en.call(T)==E}var an=dt?vt(dt):oi;function cn(T){return T==null?"":ss(T)}function ci(T,F,ee){var de=T==null?void 0:Ei(T,F);return de===void 0?ee:de}function Zs(T,F){return T!=null&&wn(T,F,Li)}function kn(T){return He(T)?wi(T):ws(T)}function Gr(T){return T}function ac(){}function U(T){return Nn(T)?gt(oe(T)):ki(T)}e.exports=Y})(Uu,Uu.exports);var PA=Uu.exports;const RA=mo(PA);var Be;(function(e){e.AlphaWallet="isAlphaWallet",e.ApexWallet="isApexWallet",e.AToken="isAToken",e.BifrostWallet="isBifrost",e.Binance="bbcSignTx",e.Bitpie="isBitpie",e.BlockWallet="isBlockWallet",e.Coinbase="isToshi",e.CoinbaseExtension="isCoinbaseWallet",e.Detected="request",e.Dcent="isDcentWallet",e.Exodus="isExodus",e.Frontier="isFrontier",e.Frame="isFrame",e.HuobiWallet="isHbWallet",e.HyperPay="isHyperPay",e.ImToken="isImToken",e.InfinityWallet="isInfinityWallet",e.Liquality="isLiquality",e.MeetOne="wallet",e.MetaMask="isMetaMask",e.MyKey="isMYKEY",e.OwnBit="isOwnbit",e.Status="isStatus",e.Trust="isTrust",e.TokenPocket="isTokenPocket",e.TP="isTp",e.WalletIo="isWalletIO",e.XDEFI="isXDEFI",e.OneInch="isOneInchIOSWallet",e.Tokenary="isTokenary",e.Tally="isTally",e.BraveWallet="isBraveWallet",e.Rabby="isRabby",e.MathWallet="isMathWallet",e.GameStop="isGamestop",e.Bitget="isBitKeep",e.Sequence="isSequence",e.Core="isAvalanche",e.Opera="isOpera",e.Bitski="isBitski",e.Enkrypt="isEnkrypt",e.Phantom="isPhantom",e.OKXWallet="isOkxWallet",e.Zeal="isZeal",e.Zerion="isZerion",e.Rainbow="isRainbow",e.SafePal="isSafePal",e.DeFiWallet="isDeficonnectProvider",e.Safeheron="isSafeheron",e.Talisman="isTalisman",e.OneKey="isOneKey",e.Fordefi="isFordefi",e.Coin98Wallet="isCoin98",e.SubWallet="isSubWallet",e.Kayros="isKayros"})(Be||(Be={}));var ei;(function(e){e.Binance="https://www.bnbchain.org/ru/blog/binance-extension-wallet/",e.Bitget="https://web3.bitget.com/en/wallet-download",e.Coinbase="https://www.coinbase.com/wallet/downloads",e.MetaMask="https://metamask.io/download/",e.OKXWallet="https://okx.com/download",e.Phantom="https://phantom.app/ul/v1/connect",e.Talisman="https://www.talisman.xyz/",e.Trust="https://link.trustwallet.com",e.OneKey="https://onekey.so/download/",e.RoninWallet="https://wallet.skymavis.com/",e.Coin98Wallet="https://coin98.com/wallet/",e.SubWallet="https://www.subwallet.app/",e.Kayros="https://www.kayros.games/wallet/",e.XDEFI="https://xdefi.io/"})(ei||(ei={}));var Qe;(function(e){e.AlphaWallet="AlphaWallet",e.ApexWallet="Apex Wallet",e.AToken="AToken",e.BifrostWallet="Bifrost Wallet",e.Binance="Binance Smart Wallet",e.Bitpie="Bitpie",e.Bitski="Bitski",e.BlockWallet="BlockWallet",e.Brave="Brave Wallet",e.Coinbase="Coinbase Wallet",e.Dcent="D'CENT",e.Detected="Detected Wallet",e.Exodus="Exodus",e.Frame="Frame",e.Frontier="Frontier",e.HuobiWallet="Huobi Wallet",e.HyperPay="HyperPay",e.ImToken="imToken",e.InfinityWallet="Infinity Wallet",e.Liquality="Liquality",e.MeetOne="MeetOne",e.MetaMask="MetaMask",e.MyKey="MyKey",e.Opera="Opera Wallet",e.OwnBit="OwnBit",e.Status="Status Wallet",e.Trust="Trust Wallet",e.TokenPocket="TokenPocket",e.TP="TP Wallet",e.WalletIo="Wallet.io",e.XDEFI="XDEFI Wallet",e.OneInch="1inch Wallet",e.Tokenary="Tokenary Wallet",e.Tally="Taho",e.Rabby="Rabby Wallet",e.MathWallet="MathWallet",e.GameStop="GameStop Wallet",e.Bitget="Bitget Wallet",e.Sequence="Sequence",e.Core="Core",e.Enkrypt="Enkrypt",e.Zeal="Zeal",e.Phantom="Phantom",e.OKXWallet="OKX Wallet",e.Zerion="Zerion",e.Rainbow="Rainbow",e.SafePal="SafePal",e.DeFiWallet="DeFi Wallet",e.Safeheron="Safeheron",e.Talisman="Talisman",e.OneKey="OneKey",e.Fordefi="Fordefi",e.RoninWallet="Ronin Wallet",e.Coin98Wallet="Coin98 Wallet",e.SubWallet="SubWallet",e.Kayros="Kayros"})(Qe||(Qe={}));var Ze;(function(e){e.Ethereum="ethereum",e.Binance="BinanceChain",e.Tally="tally",e.Web3="web3",e.Arbitrum="arbitrum",e.XFI="xfi",e.GameStop="gamestop",e.Bitget="bitkeep",e.Avalanche="avalanche",e.Bitski="Bitski",e.Enkrypt="enkrypt",e.Zeal="zeal",e.Phantom="phantom",e.OKXWallet="okxwallet",e.Trust="trustwallet",e.Frontier="frontier",e.DeFiConnectProvider="deficonnectProvider",e.Safeheron="safeheron",e.Talisman="talismanEth",e.OneKey="$onekey",e.RoninWallet="ronin",e.Coin98Wallet="coin98",e.SubWallet="SubWallet",e.Kayros="kayros"})(Ze||(Ze={}));const hn=null;function Qi(e,t){return async()=>({provider:window.ethereum.providers&&Array.isArray(window.ethereum.providers)?$A(e,t):window.ethereum})}function $A(e,t){return window.ethereum.providers.find(r=>t?!!r[e]&&!By(e,r):!!r[e])}function By(e,t){return Object.values(Be).filter(n=>n!==e&&n!==Be.Detected).some(n=>!!t[n])}const LA={label:Qe.MetaMask,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.MetaMask]&&!By(Be.MetaMask,e),getIcon:async()=>(await Ke(()=>import("./metamask.1c685b94.js"),[],import.meta.url)).default,getInterface:Qi(Be.MetaMask,!0),platforms:["all"],externalUrl:ei.MetaMask},NA={label:Qe.InfinityWallet,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.InfinityWallet],getIcon:async()=>(await Ke(()=>import("./infinitywallet.c00488d1.js"),[],import.meta.url)).default,getInterface:Qi(Be.InfinityWallet),platforms:["desktop"]},kA={label:Qe.Exodus,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Exodus],getIcon:async()=>(await Ke(()=>import("./exodus.358b5e9e.js"),[],import.meta.url)).default,getInterface:Qi(Be.Exodus),platforms:["all"]},MA={label:Qe.Frontier,injectedNamespace:Ze.Frontier,checkProviderIdentity:({provider:e})=>!!e&&!!e.ethereum&&!!e.ethereum[Be.Frontier],getIcon:async()=>(await Ke(()=>import("./frontier.035eb74c.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.frontier.ethereum)}),platforms:["all"]},jA={label:Qe.Brave,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.BraveWallet],getIcon:async()=>(await Ke(()=>import("./brave.889178d1.js"),[],import.meta.url)).default,getInterface:Qi(Be.BraveWallet),platforms:["all"]},FA={label:Qe.Binance,injectedNamespace:Ze.Binance,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Binance],getIcon:async()=>(await Ke(()=>import("./binance.aad6707a.js"),[],import.meta.url)).default,getInterface:async()=>{let e={...window.BinanceChain};window.BinanceChain=e;const t=window.BinanceChain.on.bind(window.BinanceChain);window.BinanceChain.on=(n,i)=>{n==="chainChanged"?t(n,o=>{i(`0x${parseInt(o).toString(16)}`)}):t(n,i)};const r=wr(window.BinanceChain,{eth_chainId:({baseRequest:n})=>n({method:"eth_chainId"}).then(i=>`0x${parseInt(i).toString(16)}`),eth_selectAccounts:hn,wallet_switchEthereumChain:hn});return r.removeListener=(n,i)=>{},{provider:r}},platforms:["desktop"],externalUrl:ei.Binance},UA={label:Qe.Coinbase,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Coinbase]||!!e&&!!e[Be.CoinbaseExtension],getIcon:async()=>(await Ke(()=>import("./coinbase.8194cd0a.js"),[],import.meta.url)).default,getInterface:async()=>{const{provider:e}=await Qi(Be.CoinbaseExtension)(),t=e.on.bind(e);return e.on=(r,n)=>{r==="chainChanged"?t(r,i=>{n(`0x${parseInt(i).toString(16)}`)}):t(r,n)},{provider:e}},platforms:["all"],externalUrl:ei.Coinbase},BA={label:Qe.Detected,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Detected],getIcon:async()=>(await Ke(()=>import("./detected.641a4aef.js"),[],import.meta.url)).default,getInterface:async()=>({provider:window.ethereum}),platforms:["all"]},HA={label:Qe.Trust,injectedNamespace:Ze.Trust,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Trust],getIcon:async()=>(await Ke(()=>import("./trust.59d19f99.js"),[],import.meta.url)).default,getInterface:async()=>{const e=window.hasOwnProperty(Ze.Ethereum);let t;return e&&window[Ze.Ethereum].isTrust?t=window[Ze.Ethereum]:t=window[Ze.Trust],{provider:t}},platforms:["all"],externalUrl:ei.Trust},qA={label:Qe.Opera,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Opera],getIcon:async()=>(await Ke(()=>import("./opera.02e3a0e8.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.ethereum,{eth_requestAccounts:async({baseRequest:e})=>e({method:"eth_accounts"}),eth_selectAccounts:hn})}),platforms:["all"]},WA={label:Qe.Status,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Status],getIcon:async()=>(await Ke(()=>import("./status.049055fb.js"),[],import.meta.url)).default,getInterface:async()=>({provider:window.ethereum}),platforms:["mobile"]},zA={label:Qe.AlphaWallet,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.AlphaWallet],getIcon:async()=>(await Ke(()=>import("./alphawallet.eb2bedab.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.ethereum,{wallet_switchEthereumChain:hn,eth_selectAccounts:hn})}),platforms:["mobile"]},VA={label:Qe.ApexWallet,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.ApexWallet],getIcon:async()=>(await Ke(()=>import("./apexwallet.ea5f0b2c.js"),[],import.meta.url)).default,getInterface:async()=>({provider:window.ethereum}),platforms:["desktop","Chrome","Chromium","Microsoft Edge"]},GA={label:Qe.AToken,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.AToken],getIcon:async()=>(await Ke(()=>import("./atoken.f422e6b4.js"),[],import.meta.url)).default,getInterface:async()=>({provider:window.ethereum}),platforms:["mobile"]},KA={label:Qe.BifrostWallet,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.BifrostWallet],getIcon:async()=>(await Ke(()=>import("./bifrostwallet.b2843d3a.js"),[],import.meta.url)).default,getInterface:Qi(Be.BifrostWallet),platforms:["all"]},ZA={label:Qe.Bitpie,injectedNamespace:Ze.Ethereum,checkProviderIdentity:()=>!!window.Bitpie,getIcon:async()=>(await Ke(()=>import("./bitpie.8ea44eae.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.ethereum,{wallet_switchEthereumChain:hn,eth_selectAccounts:hn})}),platforms:["mobile"]},YA={label:Qe.BlockWallet,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.BlockWallet],getIcon:async()=>(await Ke(()=>import("./blockwallet.1235c6b8.js"),[],import.meta.url)).default,getInterface:Qi(Be.BlockWallet),platforms:["desktop"]},XA={label:Qe.Frame,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Frame],getIcon:async()=>(await Ke(()=>import("./frame.594ec465.js"),[],import.meta.url)).default,getInterface:async()=>{const e=window.ethereum;if(!e||!e.connected)throw new Error("Frame App must be open with a hot wallet connected. If not installed first download the Frame App.");return{provider:e}},platforms:["desktop"]},JA={label:Qe.HuobiWallet,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.HuobiWallet],getIcon:async()=>(await Ke(()=>import("./huobiwallet.c6da4601.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.ethereum,{wallet_switchEthereumChain:hn,eth_selectAccounts:hn})}),platforms:["mobile"]},QA={label:Qe.HyperPay,injectedNamespace:Ze.Ethereum,checkProviderIdentity:()=>!!window.hiWallet,getIcon:async()=>(await Ke(()=>import("./hyperpay.75c22b59.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.ethereum,{wallet_switchEthereumChain:hn,eth_selectAccounts:hn})}),platforms:["mobile"]},eO={label:Qe.ImToken,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.ImToken],getIcon:async()=>(await Ke(()=>import("./imtoken.4be0a845.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.ethereum,{eth_selectAccounts:hn})}),platforms:["mobile"]},tO={label:Qe.Liquality,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Liquality],getIcon:async()=>(await Ke(()=>import("./liquality.0e245cbb.js"),[],import.meta.url)).default,getInterface:async()=>{const e=wr(window.ethereum,{wallet_switchEthereumChain:hn,eth_selectAccounts:hn});return e.removeListener=(t,r)=>{},{provider:e}},platforms:["desktop"]},rO={label:Qe.MeetOne,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&e[Be.MeetOne]==="MEETONE",getIcon:async()=>(await Ke(()=>import("./meetone.d2b0ac23.js"),[],import.meta.url)).default,getInterface:async()=>({provider:window.ethereum}),platforms:["mobile"]},nO={label:Qe.MyKey,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.MyKey],getIcon:async()=>(await Ke(()=>import("./mykey.4e0c6565.js"),[],import.meta.url)).default,getInterface:async()=>({provider:window.ethereum}),platforms:["mobile"]},iO={label:Qe.OwnBit,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.OwnBit],getIcon:async()=>(await Ke(()=>import("./ownbit.fa6734bd.js"),[],import.meta.url)).default,getInterface:async()=>{const e=wr(window.ethereum,{eth_chainId:({baseRequest:t})=>t({method:"eth_chainId"}).then(r=>`0x${parseInt(r).toString(16)}`),wallet_switchEthereumChain:hn,eth_selectAccounts:hn});return e.removeListener=(t,r)=>{},e.on=(t,r)=>{},{provider:e}},platforms:["mobile"]},sO={label:Qe.TokenPocket,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.TokenPocket]&&!e[Be.TP],getIcon:async()=>(await Ke(()=>import("./tokenpocket.a7e81129.js"),[],import.meta.url)).default,getInterface:Qi(Be.TokenPocket),platforms:["all"]},oO={label:Qe.TP,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.TP],getIcon:async()=>(await Ke(()=>import("./tp.4b793710.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.ethereum,{wallet_switchEthereumChain:hn,eth_selectAccounts:hn})}),platforms:["mobile"]},aO={label:Qe.XDEFI,injectedNamespace:Ze.XFI,checkProviderIdentity:({provider:e})=>e&&e.ethereum&&e.ethereum[Be.XDEFI],getIcon:async()=>(await Ke(()=>import("./xdefi.49d53216.js"),[],import.meta.url)).default,getInterface:async()=>({provider:window.xfi&&window.xfi.ethereum}),platforms:["all"],externalUrl:ei.XDEFI},cO={label:Qe.OneInch,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.OneInch],getIcon:async()=>(await Ke(()=>import("./oneInch.104b3cc4.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.ethereum)}),platforms:["mobile"]},lO={label:Qe.Tokenary,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Tokenary],getIcon:async()=>(await Ke(()=>import("./tokenary.f771c254.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.ethereum)}),platforms:["all"]},uO={label:Qe.Tally,injectedNamespace:Ze.Tally,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Tally],getIcon:async()=>(await Ke(()=>import("./tallywallet.a671320d.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.tally)}),platforms:["desktop"]},fO={label:Qe.Zeal,injectedNamespace:Ze.Zeal,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Zeal],getIcon:async()=>(await Ke(()=>import("./zeal.8b158173.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.zeal)}),platforms:["desktop"]},hO={label:Qe.Rabby,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Rabby],getIcon:async()=>(await Ke(()=>import("./rabby.fc161279.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.ethereum)}),platforms:["desktop"]},dO={label:Qe.MathWallet,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.MathWallet],getIcon:async()=>(await Ke(()=>import("./mathwallet.ff05f48e.js"),[],import.meta.url)).default,getInterface:Qi(Be.MathWallet),platforms:["all"]},pO={label:Qe.GameStop,injectedNamespace:Ze.GameStop,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.GameStop],getIcon:async()=>(await Ke(()=>import("./gamestop.0e4c1409.js"),[],import.meta.url)).default,getInterface:async()=>{const e=wr(window.gamestop,{eth_chainId:({baseRequest:t})=>t({method:"eth_chainId"}).then(r=>`0x${parseInt(r).toString(16)}`),wallet_switchEthereumChain:hn});return e.removeListener=(t,r)=>{},e.on=(t,r)=>{},{provider:e}},platforms:["desktop"]},gO={label:Qe.Bitget,injectedNamespace:Ze.Bitget,checkProviderIdentity:({provider:e})=>!!e&&!!e.ethereum[Be.Bitget],getIcon:async()=>(await Ke(()=>import("./bitget.85ee4ac2.js"),[],import.meta.url)).default,getInterface:async()=>({provider:window.bitkeep&&window.bitkeep.ethereum}),platforms:["all"],externalUrl:ei.Bitget},mO={label:Qe.Sequence,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Sequence],getIcon:async()=>(await Ke(()=>import("./sequence.c07eb3ae.js"),[],import.meta.url)).default,getInterface:async()=>({provider:window.ethereum}),platforms:["all"]},vO={label:Qe.Core,injectedNamespace:Ze.Avalanche,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Core],getIcon:async()=>(await Ke(()=>import("./core.1c42229d.js"),[],import.meta.url)).default,getInterface:Qi(Be.Core),platforms:["desktop","Chrome","Chromium","Microsoft Edge"]},bO={label:Qe.Bitski,injectedNamespace:Ze.Bitski,checkProviderIdentity:({provider:e})=>!!e&&!!e.getProvider&&!!e.getProvider().isBitski,getIcon:async()=>(await Ke(()=>import("./bitski.220980c2.js"),[],import.meta.url)).default,getInterface:async()=>({provider:window.Bitski&&window.Bitski.getProvider&&window.Bitski.getProvider()}),platforms:["all"]},yO={label:Qe.Zerion,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Zerion],getIcon:async()=>(await Ke(()=>import("./zerion.d2dfe88d.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.ethereum)}),platforms:["all"]},_O={label:Qe.Enkrypt,injectedNamespace:Ze.Enkrypt,checkProviderIdentity:({provider:e})=>!!e&&!!e.providers&&!!e.providers.ethereum,getIcon:async()=>(await Ke(()=>import("./enkrypt.b1f25ae2.js"),[],import.meta.url)).default,getInterface:async()=>{const e=window.enkrypt.providers.ethereum.on.bind(window.enkrypt.providers.ethereum);window.enkrypt.providers.ethereum.on=(r,n)=>{r==="chainChanged"?e(r,i=>{n(`0x${parseInt(i).toString(16)}`)}):e(r,n)};const t=wr(window.enkrypt.providers.ethereum,{eth_chainId:({baseRequest:r})=>r({method:"eth_chainId"}).then(n=>`0x${parseInt(n).toString(16)}`)});return t.removeListener=(r,n)=>{},{provider:t}},platforms:["all"]},wO={label:Qe.Phantom,injectedNamespace:Ze.Phantom,checkProviderIdentity:({provider:e})=>!!e&&!!e.ethereum&&!!e.ethereum[Be.Phantom],getIcon:async()=>(await Ke(()=>import("./phantom.9b3bd709.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.phantom.ethereum)}),platforms:["all"],externalUrl:ei.Phantom},EO={label:Qe.SafePal,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.SafePal],getIcon:async()=>(await Ke(()=>import("./safepal.7fa6b910.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.ethereum)}),platforms:["all"]},SO={label:Qe.Rainbow,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Rainbow],getIcon:async()=>(await Ke(()=>import("./rainbow.1fe0d81a.js"),[],import.meta.url)).default,getInterface:Qi(Be.Rainbow),platforms:["all"]},CO={label:Qe.OKXWallet,injectedNamespace:Ze.OKXWallet,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.OKXWallet],getIcon:async()=>(await Ke(()=>import("./okxwallet.1c6a2600.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.okxwallet)}),platforms:["all"],externalUrl:ei.OKXWallet},xO={label:Qe.DeFiWallet,injectedNamespace:Ze.DeFiConnectProvider,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.DeFiWallet],getIcon:async()=>(await Ke(()=>import("./defiwallet.99978b81.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.deficonnectProvider)}),platforms:["all"]},IO={label:Qe.Safeheron,injectedNamespace:Ze.Safeheron,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Safeheron],getIcon:async()=>(await Ke(()=>import("./safeheron.de7caf3b.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.safeheron)}),platforms:["desktop","Chrome","Chromium","Microsoft Edge"]},AO={label:Qe.Talisman,injectedNamespace:Ze.Talisman,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Talisman],getIcon:async()=>(await Ke(()=>import("./talisman.0ce2f18e.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.talismanEth)}),platforms:["desktop"],externalUrl:ei.Talisman},OO={label:Qe.RoninWallet,injectedNamespace:Ze.RoninWallet,checkProviderIdentity:({provider:e})=>!!e,getIcon:async()=>(await Ke(()=>import("./roninwallet.b1ea937e.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.ronin.provider)}),platforms:["all"],externalUrl:ei.RoninWallet},DO={label:Qe.OneKey,injectedNamespace:Ze.OneKey,checkProviderIdentity:({provider:e})=>!!e&&!!e.ethereum&&!!e.ethereum[Be.OneKey],getIcon:async()=>(await Ke(()=>import("./onekey.102b2f4e.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.$onekey.ethereum)}),platforms:["all"],externalUrl:ei.OneKey},TO={label:Qe.Fordefi,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Fordefi],getIcon:async()=>(await Ke(()=>import("./fordefi.9b741b3f.js"),[],import.meta.url)).default,getInterface:Qi(Be.Fordefi,!0),platforms:["desktop"]},PO={label:Qe.Coin98Wallet,injectedNamespace:Ze.Ethereum,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Coin98Wallet],getIcon:async()=>(await Ke(()=>import("./coin98wallet.3c8352d2.js"),[],import.meta.url)).default,getInterface:async()=>{const e=window.hasOwnProperty(Ze.Ethereum);let t;return e&&window[Ze.Ethereum].isCoin98?t=window[Ze.Ethereum]:t=window[Ze.Coin98Wallet].provider,{provider:t}},platforms:["all"],externalUrl:ei.Coin98Wallet},RO={label:Qe.SubWallet,injectedNamespace:Ze.SubWallet,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.SubWallet],getIcon:async()=>(await Ke(()=>import("./subwallet.eb6bfc96.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.SubWallet)}),platforms:["all"],externalUrl:ei.SubWallet},$O={label:Qe.Kayros,injectedNamespace:Ze.Kayros,checkProviderIdentity:({provider:e})=>!!e&&!!e[Be.Kayros],getIcon:async()=>(await Ke(()=>import("./kayros.362d5de7.js"),[],import.meta.url)).default,getInterface:async()=>({provider:wr(window.kayros)}),platforms:["desktop"]},LO=[fO,kA,MA,LA,KA,FA,UA,BA,HA,qA,WA,zA,VA,GA,gO,ZA,YA,jA,XA,JA,QA,eO,tO,rO,nO,iO,sO,oO,aO,cO,lO,uO,hO,dO,pO,mO,vO,bO,_O,wO,CO,yO,SO,EO,xO,NA,IO,AO,DO,TO,OO,PO,RO,$O],NO=X.object({label:X.string().required(),getIcon:X.function().arity(0).required(),getInterface:X.function().maxArity(1).required(),injectedNamespace:X.string().required(),checkProviderIdentity:X.function().arity(1).required(),platforms:X.array().items(X.string()),externalUrl:X.string()}),kO=X.array().items(NO),MO=X.object().pattern(/\w+/,X.any().allow(X.boolean(),X.array().items(X.string()))),jO=X.object({custom:kO,filter:MO,displayUnavailable:[X.boolean(),X.array().items(X.string())],walletUnavailableMessage:X.function(),sort:X.function(),externalUrl:X.string()}),FO=e=>Qr(jO,e),UO=({label:e,externalUrl:t})=>t?`Please <a href="${t}" target="_blank">install or switch to</a> ${e} to continue`:`Please install or enable ${e} to continue`,BO=(e,t,r)=>{var n;return e?t({provider:e,device:r})?!0:!!(!((n=e.providers)===null||n===void 0)&&n.some(i=>t({provider:i,device:r}))):!1};function Vj(e){if(typeof window>"u")return()=>null;if(e){const t=FO(e);if(t&&t.error)throw t.error}return t=>{const{device:r}=t,{custom:n=[],filter:i={},displayUnavailable:o,sort:c,walletUnavailableMessage:a}=e||{},f=RA([...n,...LO],({label:g})=>g).reduce((g,u)=>{const{label:d,platforms:p,injectedNamespace:h,checkProviderIdentity:v}=u,w=i[d],_=w===!1,y=window[h],C=BO(y,v,r);let I=!1;Array.isArray(w)&&(w.includes(r.type)||w.includes(r.os.name))&&(I=!0),w==="unavailable"&&!C&&(I=!0);const D=!p.includes("all")&&!p.includes(r.type)&&!p.includes(r.os.name);return!_&&!I&&!D&&(C||o===!0||Array.isArray(o)&&o.length&&o.includes(u.label))&&g.push((o===!0||Array.isArray(o)&&o.length&&o.includes(u.label))&&!C?{...u,getInterface:async()=>{throw new Error(a?a(u):UO(u))}}:u),g},[]);if(f.length){const g=f.length>1,u=f.filter(d=>{const{label:p}=d;return!(p===Qe.Detected&&g)}).map(({label:d,getIcon:p,getInterface:h})=>({label:d,getIcon:p,getInterface:h})).sort((d,p)=>d.label<p.label?-1:d.label>p.label?1:0);return c?c(u):u}return[]}}const HO=X.object({handleUri:X.func().optional(),version:X.number().optional().custom((e,t)=>{if(e===1)console.warn("Version 1 of WalletConnect has been fully deprecated. This version of @web3-onboard/walletconnect only supports version 2");else if(e!==2&&e!==void 0)return t.error("any.invalid",{message:"Invalid version number. This version of @web3-onboard/walletconnect only supports version 2"});return e},"Custom version validation"),projectId:X.string().messages({"any.required":"WalletConnect version 2 requires a projectId. Please visit https://cloud.walletconnect.com to get one."}),dappUrl:X.string().optional().custom((e,t)=>e||t.message({message:"It is strongly recommended to supply a dappUrl as it is required by some wallets (i.e. MetaMask) to allow connection.",type:"any.custom"}),"Custom dappUrl validation"),requiredChains:X.array().items(X.number()).optional(),optionalChains:X.array().items(X.number()).optional(),qrModalOptions:X.object().optional(),additionalRequiredMethods:X.array().items(X.string()).optional(),additionalOptionalMethods:X.array().items(X.string()).optional()}),qO=(e,t)=>{const r=e.validate(t);return r.error?r:null},WO=e=>qO(HO,e);var Cp={exports:{}},ja=typeof Reflect=="object"?Reflect:null,a1=ja&&typeof ja.apply=="function"?ja.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},bu;ja&&typeof ja.ownKeys=="function"?bu=ja.ownKeys:Object.getOwnPropertySymbols?bu=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:bu=function(t){return Object.getOwnPropertyNames(t)};function zO(e){console&&console.warn&&console.warn(e)}var Hy=Number.isNaN||function(t){return t!==t};function xr(){xr.init.call(this)}Cp.exports=xr;Cp.exports.once=ZO;xr.EventEmitter=xr;xr.prototype._events=void 0;xr.prototype._eventsCount=0;xr.prototype._maxListeners=void 0;var c1=10;function lf(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(xr,"defaultMaxListeners",{enumerable:!0,get:function(){return c1},set:function(e){if(typeof e!="number"||e<0||Hy(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c1=e}});xr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};xr.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Hy(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function qy(e){return e._maxListeners===void 0?xr.defaultMaxListeners:e._maxListeners}xr.prototype.getMaxListeners=function(){return qy(this)};xr.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var c;if(r.length>0&&(c=r[0]),c instanceof Error)throw c;var a=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw a.context=c,a}var m=o[t];if(m===void 0)return!1;if(typeof m=="function")a1(m,this,r);else for(var f=m.length,g=Ky(m,f),n=0;n<f;++n)a1(g[n],this,r);return!0};function Wy(e,t,r,n){var i,o,c;if(lf(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),c=o[t]),c===void 0)c=o[t]=r,++e._eventsCount;else if(typeof c=="function"?c=o[t]=n?[r,c]:[c,r]:n?c.unshift(r):c.push(r),i=qy(e),i>0&&c.length>i&&!c.warned){c.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=c.length,zO(a)}return e}xr.prototype.addListener=function(t,r){return Wy(this,t,r,!1)};xr.prototype.on=xr.prototype.addListener;xr.prototype.prependListener=function(t,r){return Wy(this,t,r,!0)};function VO(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function zy(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=VO.bind(n);return i.listener=r,n.wrapFn=i,i}xr.prototype.once=function(t,r){return lf(r),this.on(t,zy(this,t,r)),this};xr.prototype.prependOnceListener=function(t,r){return lf(r),this.prependListener(t,zy(this,t,r)),this};xr.prototype.removeListener=function(t,r){var n,i,o,c,a;if(lf(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(o=-1,c=n.length-1;c>=0;c--)if(n[c]===r||n[c].listener===r){a=n[c].listener,o=c;break}if(o<0)return this;o===0?n.shift():GO(n,o),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this};xr.prototype.off=xr.prototype.removeListener;xr.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o=Object.keys(n),c;for(i=0;i<o.length;++i)c=o[i],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function Vy(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?KO(i):Ky(i,i.length)}xr.prototype.listeners=function(t){return Vy(this,t,!0)};xr.prototype.rawListeners=function(t){return Vy(this,t,!1)};xr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Gy.call(e,t)};xr.prototype.listenerCount=Gy;function Gy(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}xr.prototype.eventNames=function(){return this._eventsCount>0?bu(this._events):[]};function Ky(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function GO(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function KO(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function ZO(e,t){return new Promise(function(r,n){function i(c){e.removeListener(t,o),n(c)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}Zy(e,t,o,{once:!0}),t!=="error"&&YO(e,i,{once:!0})})}function YO(e,t,r){typeof e.on=="function"&&Zy(e,"error",t,r)}function Zy(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Pi=Cp.exports;const xp=mo(Pi);var Ip={},uf={},Tt={},Yy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(a,m){var f=a>>>16&65535,g=a&65535,u=m>>>16&65535,d=m&65535;return g*d+(f*d+g*u<<16>>>0)|0}e.mul=Math.imul||t;function r(a,m){return a+m|0}e.add=r;function n(a,m){return a-m|0}e.sub=n;function i(a,m){return a<<m|a>>>32-m}e.rotl=i;function o(a,m){return a<<32-m|a>>>m}e.rotr=o;function c(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}e.isInteger=Number.isInteger||c,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(a){return e.isInteger(a)&&a>=-e.MAX_SAFE_INTEGER&&a<=e.MAX_SAFE_INTEGER}})(Yy);Object.defineProperty(Tt,"__esModule",{value:!0});var Xy=Yy;function XO(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}Tt.readInt16BE=XO;function JO(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])>>>0}Tt.readUint16BE=JO;function QO(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])<<16>>16}Tt.readInt16LE=QO;function eD(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])>>>0}Tt.readUint16LE=eD;function Jy(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}Tt.writeUint16BE=Jy;Tt.writeInt16BE=Jy;function Qy(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}Tt.writeUint16LE=Qy;Tt.writeInt16LE=Qy;function Ed(e,t){return t===void 0&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}Tt.readInt32BE=Ed;function Sd(e,t){return t===void 0&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}Tt.readUint32BE=Sd;function Cd(e,t){return t===void 0&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}Tt.readInt32LE=Cd;function xd(e,t){return t===void 0&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}Tt.readUint32LE=xd;function Bu(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}Tt.writeUint32BE=Bu;Tt.writeInt32BE=Bu;function Hu(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}Tt.writeUint32LE=Hu;Tt.writeInt32LE=Hu;function tD(e,t){t===void 0&&(t=0);var r=Ed(e,t),n=Ed(e,t+4);return r*4294967296+n-(n>>31)*4294967296}Tt.readInt64BE=tD;function rD(e,t){t===void 0&&(t=0);var r=Sd(e,t),n=Sd(e,t+4);return r*4294967296+n}Tt.readUint64BE=rD;function nD(e,t){t===void 0&&(t=0);var r=Cd(e,t),n=Cd(e,t+4);return n*4294967296+r-(r>>31)*4294967296}Tt.readInt64LE=nD;function iD(e,t){t===void 0&&(t=0);var r=xd(e,t),n=xd(e,t+4);return n*4294967296+r}Tt.readUint64LE=iD;function e_(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),Bu(e/4294967296>>>0,t,r),Bu(e>>>0,t,r+4),t}Tt.writeUint64BE=e_;Tt.writeInt64BE=e_;function t_(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),Hu(e>>>0,t,r),Hu(e/4294967296>>>0,t,r+4),t}Tt.writeUint64LE=t_;Tt.writeInt64LE=t_;function sD(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=e/8+r-1;o>=r;o--)n+=t[o]*i,i*=256;return n}Tt.readUintBE=sD;function oD(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+e/8;o++)n+=t[o]*i,i*=256;return n}Tt.readUintLE=oD;function aD(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Xy.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,o=e/8+n-1;o>=n;o--)r[o]=t/i&255,i*=256;return r}Tt.writeUintBE=aD;function cD(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Xy.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,o=n;o<n+e/8;o++)r[o]=t/i&255,i*=256;return r}Tt.writeUintLE=cD;function lD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}Tt.readFloat32BE=lD;function uD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)}Tt.readFloat32LE=uD;function fD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}Tt.readFloat64BE=fD;function hD(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)}Tt.readFloat64LE=hD;function dD(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e),t}Tt.writeFloat32BE=dD;function pD(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e,!0),t}Tt.writeFloat32LE=pD;function gD(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e),t}Tt.writeFloat64BE=gD;function mD(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e,!0),t}Tt.writeFloat64LE=mD;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});function vD(e){for(var t=0;t<e.length;t++)e[t]=0;return e}Ri.wipe=vD;Object.defineProperty(uf,"__esModule",{value:!0});var Fn=Tt,Id=Ri,bD=20;function yD(e,t,r){for(var n=1634760805,i=857760878,o=2036477234,c=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],m=r[7]<<24|r[6]<<16|r[5]<<8|r[4],f=r[11]<<24|r[10]<<16|r[9]<<8|r[8],g=r[15]<<24|r[14]<<16|r[13]<<8|r[12],u=r[19]<<24|r[18]<<16|r[17]<<8|r[16],d=r[23]<<24|r[22]<<16|r[21]<<8|r[20],p=r[27]<<24|r[26]<<16|r[25]<<8|r[24],h=r[31]<<24|r[30]<<16|r[29]<<8|r[28],v=t[3]<<24|t[2]<<16|t[1]<<8|t[0],w=t[7]<<24|t[6]<<16|t[5]<<8|t[4],_=t[11]<<24|t[10]<<16|t[9]<<8|t[8],y=t[15]<<24|t[14]<<16|t[13]<<8|t[12],C=n,I=i,D=o,O=c,E=a,b=m,x=f,A=g,N=u,j=d,B=p,$=h,L=v,q=w,W=_,z=y,K=0;K<bD;K+=2)C=C+E|0,L^=C,L=L>>>32-16|L<<16,N=N+L|0,E^=N,E=E>>>32-12|E<<12,I=I+b|0,q^=I,q=q>>>32-16|q<<16,j=j+q|0,b^=j,b=b>>>32-12|b<<12,D=D+x|0,W^=D,W=W>>>32-16|W<<16,B=B+W|0,x^=B,x=x>>>32-12|x<<12,O=O+A|0,z^=O,z=z>>>32-16|z<<16,$=$+z|0,A^=$,A=A>>>32-12|A<<12,D=D+x|0,W^=D,W=W>>>32-8|W<<8,B=B+W|0,x^=B,x=x>>>32-7|x<<7,O=O+A|0,z^=O,z=z>>>32-8|z<<8,$=$+z|0,A^=$,A=A>>>32-7|A<<7,I=I+b|0,q^=I,q=q>>>32-8|q<<8,j=j+q|0,b^=j,b=b>>>32-7|b<<7,C=C+E|0,L^=C,L=L>>>32-8|L<<8,N=N+L|0,E^=N,E=E>>>32-7|E<<7,C=C+b|0,z^=C,z=z>>>32-16|z<<16,B=B+z|0,b^=B,b=b>>>32-12|b<<12,I=I+x|0,L^=I,L=L>>>32-16|L<<16,$=$+L|0,x^=$,x=x>>>32-12|x<<12,D=D+A|0,q^=D,q=q>>>32-16|q<<16,N=N+q|0,A^=N,A=A>>>32-12|A<<12,O=O+E|0,W^=O,W=W>>>32-16|W<<16,j=j+W|0,E^=j,E=E>>>32-12|E<<12,D=D+A|0,q^=D,q=q>>>32-8|q<<8,N=N+q|0,A^=N,A=A>>>32-7|A<<7,O=O+E|0,W^=O,W=W>>>32-8|W<<8,j=j+W|0,E^=j,E=E>>>32-7|E<<7,I=I+x|0,L^=I,L=L>>>32-8|L<<8,$=$+L|0,x^=$,x=x>>>32-7|x<<7,C=C+b|0,z^=C,z=z>>>32-8|z<<8,B=B+z|0,b^=B,b=b>>>32-7|b<<7;Fn.writeUint32LE(C+n|0,e,0),Fn.writeUint32LE(I+i|0,e,4),Fn.writeUint32LE(D+o|0,e,8),Fn.writeUint32LE(O+c|0,e,12),Fn.writeUint32LE(E+a|0,e,16),Fn.writeUint32LE(b+m|0,e,20),Fn.writeUint32LE(x+f|0,e,24),Fn.writeUint32LE(A+g|0,e,28),Fn.writeUint32LE(N+u|0,e,32),Fn.writeUint32LE(j+d|0,e,36),Fn.writeUint32LE(B+p|0,e,40),Fn.writeUint32LE($+h|0,e,44),Fn.writeUint32LE(L+v|0,e,48),Fn.writeUint32LE(q+w|0,e,52),Fn.writeUint32LE(W+_|0,e,56),Fn.writeUint32LE(z+y|0,e,60)}function r_(e,t,r,n,i){if(i===void 0&&(i=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var o,c;if(i===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");o=new Uint8Array(16),c=o.length-t.length,o.set(t,c)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");o=t,c=i}for(var a=new Uint8Array(64),m=0;m<r.length;m+=64){yD(a,o,e);for(var f=m;f<m+64&&f<r.length;f++)n[f]=r[f]^a[f-m];wD(o,0,c)}return Id.wipe(a),i===0&&Id.wipe(o),n}uf.streamXOR=r_;function _D(e,t,r,n){return n===void 0&&(n=0),Id.wipe(r),r_(e,t,r,r,n)}uf.stream=_D;function wD(e,t,r){for(var n=1;r--;)n=n+(e[t]&255)|0,e[t]=n&255,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}var n_={},Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});function ED(e,t,r){return~(e-1)&t|e-1&r}Uo.select=ED;function SD(e,t){return(e|0)-(t|0)-1>>>31&1}Uo.lessOrEqual=SD;function i_(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Uo.compare=i_;function CD(e,t){return e.length===0||t.length===0?!1:i_(e,t)!==0}Uo.equal=CD;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Uo,r=Ri;e.DIGEST_LENGTH=16;var n=function(){function c(a){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var m=a[0]|a[1]<<8;this._r[0]=m&8191;var f=a[2]|a[3]<<8;this._r[1]=(m>>>13|f<<3)&8191;var g=a[4]|a[5]<<8;this._r[2]=(f>>>10|g<<6)&7939;var u=a[6]|a[7]<<8;this._r[3]=(g>>>7|u<<9)&8191;var d=a[8]|a[9]<<8;this._r[4]=(u>>>4|d<<12)&255,this._r[5]=d>>>1&8190;var p=a[10]|a[11]<<8;this._r[6]=(d>>>14|p<<2)&8191;var h=a[12]|a[13]<<8;this._r[7]=(p>>>11|h<<5)&8065;var v=a[14]|a[15]<<8;this._r[8]=(h>>>8|v<<8)&8191,this._r[9]=v>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return c.prototype._blocks=function(a,m,f){for(var g=this._fin?0:2048,u=this._h[0],d=this._h[1],p=this._h[2],h=this._h[3],v=this._h[4],w=this._h[5],_=this._h[6],y=this._h[7],C=this._h[8],I=this._h[9],D=this._r[0],O=this._r[1],E=this._r[2],b=this._r[3],x=this._r[4],A=this._r[5],N=this._r[6],j=this._r[7],B=this._r[8],$=this._r[9];f>=16;){var L=a[m+0]|a[m+1]<<8;u+=L&8191;var q=a[m+2]|a[m+3]<<8;d+=(L>>>13|q<<3)&8191;var W=a[m+4]|a[m+5]<<8;p+=(q>>>10|W<<6)&8191;var z=a[m+6]|a[m+7]<<8;h+=(W>>>7|z<<9)&8191;var K=a[m+8]|a[m+9]<<8;v+=(z>>>4|K<<12)&8191,w+=K>>>1&8191;var se=a[m+10]|a[m+11]<<8;_+=(K>>>14|se<<2)&8191;var re=a[m+12]|a[m+13]<<8;y+=(se>>>11|re<<5)&8191;var we=a[m+14]|a[m+15]<<8;C+=(re>>>8|we<<8)&8191,I+=we>>>5|g;var fe=0,me=fe;me+=u*D,me+=d*(5*$),me+=p*(5*B),me+=h*(5*j),me+=v*(5*N),fe=me>>>13,me&=8191,me+=w*(5*A),me+=_*(5*x),me+=y*(5*b),me+=C*(5*E),me+=I*(5*O),fe+=me>>>13,me&=8191;var ge=fe;ge+=u*O,ge+=d*D,ge+=p*(5*$),ge+=h*(5*B),ge+=v*(5*j),fe=ge>>>13,ge&=8191,ge+=w*(5*N),ge+=_*(5*A),ge+=y*(5*x),ge+=C*(5*b),ge+=I*(5*E),fe+=ge>>>13,ge&=8191;var Ie=fe;Ie+=u*E,Ie+=d*O,Ie+=p*D,Ie+=h*(5*$),Ie+=v*(5*B),fe=Ie>>>13,Ie&=8191,Ie+=w*(5*j),Ie+=_*(5*N),Ie+=y*(5*A),Ie+=C*(5*x),Ie+=I*(5*b),fe+=Ie>>>13,Ie&=8191;var ne=fe;ne+=u*b,ne+=d*E,ne+=p*O,ne+=h*D,ne+=v*(5*$),fe=ne>>>13,ne&=8191,ne+=w*(5*B),ne+=_*(5*j),ne+=y*(5*N),ne+=C*(5*A),ne+=I*(5*x),fe+=ne>>>13,ne&=8191;var J=fe;J+=u*x,J+=d*b,J+=p*E,J+=h*O,J+=v*D,fe=J>>>13,J&=8191,J+=w*(5*$),J+=_*(5*B),J+=y*(5*j),J+=C*(5*N),J+=I*(5*A),fe+=J>>>13,J&=8191;var te=fe;te+=u*A,te+=d*x,te+=p*b,te+=h*E,te+=v*O,fe=te>>>13,te&=8191,te+=w*D,te+=_*(5*$),te+=y*(5*B),te+=C*(5*j),te+=I*(5*N),fe+=te>>>13,te&=8191;var R=fe;R+=u*N,R+=d*A,R+=p*x,R+=h*b,R+=v*E,fe=R>>>13,R&=8191,R+=w*O,R+=_*D,R+=y*(5*$),R+=C*(5*B),R+=I*(5*j),fe+=R>>>13,R&=8191;var Z=fe;Z+=u*j,Z+=d*N,Z+=p*A,Z+=h*x,Z+=v*b,fe=Z>>>13,Z&=8191,Z+=w*E,Z+=_*O,Z+=y*D,Z+=C*(5*$),Z+=I*(5*B),fe+=Z>>>13,Z&=8191;var Oe=fe;Oe+=u*B,Oe+=d*j,Oe+=p*N,Oe+=h*A,Oe+=v*x,fe=Oe>>>13,Oe&=8191,Oe+=w*b,Oe+=_*E,Oe+=y*O,Oe+=C*D,Oe+=I*(5*$),fe+=Oe>>>13,Oe&=8191;var Le=fe;Le+=u*$,Le+=d*B,Le+=p*j,Le+=h*N,Le+=v*A,fe=Le>>>13,Le&=8191,Le+=w*x,Le+=_*b,Le+=y*E,Le+=C*O,Le+=I*D,fe+=Le>>>13,Le&=8191,fe=(fe<<2)+fe|0,fe=fe+me|0,me=fe&8191,fe=fe>>>13,ge+=fe,u=me,d=ge,p=Ie,h=ne,v=J,w=te,_=R,y=Z,C=Oe,I=Le,m+=16,f-=16}this._h[0]=u,this._h[1]=d,this._h[2]=p,this._h[3]=h,this._h[4]=v,this._h[5]=w,this._h[6]=_,this._h[7]=y,this._h[8]=C,this._h[9]=I},c.prototype.finish=function(a,m){m===void 0&&(m=0);var f=new Uint16Array(10),g,u,d,p;if(this._leftover){for(p=this._leftover,this._buffer[p++]=1;p<16;p++)this._buffer[p]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(g=this._h[1]>>>13,this._h[1]&=8191,p=2;p<10;p++)this._h[p]+=g,g=this._h[p]>>>13,this._h[p]&=8191;for(this._h[0]+=g*5,g=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=g,g=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=g,f[0]=this._h[0]+5,g=f[0]>>>13,f[0]&=8191,p=1;p<10;p++)f[p]=this._h[p]+g,g=f[p]>>>13,f[p]&=8191;for(f[9]-=8192,u=(g^1)-1,p=0;p<10;p++)f[p]&=u;for(u=~u,p=0;p<10;p++)this._h[p]=this._h[p]&u|f[p];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,d=this._h[0]+this._pad[0],this._h[0]=d&65535,p=1;p<8;p++)d=(this._h[p]+this._pad[p]|0)+(d>>>16)|0,this._h[p]=d&65535;return a[m+0]=this._h[0]>>>0,a[m+1]=this._h[0]>>>8,a[m+2]=this._h[1]>>>0,a[m+3]=this._h[1]>>>8,a[m+4]=this._h[2]>>>0,a[m+5]=this._h[2]>>>8,a[m+6]=this._h[3]>>>0,a[m+7]=this._h[3]>>>8,a[m+8]=this._h[4]>>>0,a[m+9]=this._h[4]>>>8,a[m+10]=this._h[5]>>>0,a[m+11]=this._h[5]>>>8,a[m+12]=this._h[6]>>>0,a[m+13]=this._h[6]>>>8,a[m+14]=this._h[7]>>>0,a[m+15]=this._h[7]>>>8,this._finished=!0,this},c.prototype.update=function(a){var m=0,f=a.length,g;if(this._leftover){g=16-this._leftover,g>f&&(g=f);for(var u=0;u<g;u++)this._buffer[this._leftover+u]=a[m+u];if(f-=g,m+=g,this._leftover+=g,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(f>=16&&(g=f-f%16,this._blocks(a,m,g),m+=g,f-=g),f){for(var u=0;u<f;u++)this._buffer[this._leftover+u]=a[m+u];this._leftover+=f}return this},c.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},c.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},c}();e.Poly1305=n;function i(c,a){var m=new n(c);m.update(a);var f=m.digest();return m.clean(),f}e.oneTimeAuth=i;function o(c,a){return c.length!==e.DIGEST_LENGTH||a.length!==e.DIGEST_LENGTH?!1:t.equal(c,a)}e.equal=o})(n_);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=uf,r=n_,n=Ri,i=Tt,o=Uo;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var c=new Uint8Array(16),a=function(){function m(f){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,f.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(f)}return m.prototype.seal=function(f,g,u,d){if(f.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var p=new Uint8Array(16);p.set(f,p.length-f.length);var h=new Uint8Array(32);t.stream(this._key,p,h,4);var v=g.length+this.tagLength,w;if(d){if(d.length!==v)throw new Error("ChaCha20Poly1305: incorrect destination length");w=d}else w=new Uint8Array(v);return t.streamXOR(this._key,p,g,w,4),this._authenticate(w.subarray(w.length-this.tagLength,w.length),h,w.subarray(0,w.length-this.tagLength),u),n.wipe(p),w},m.prototype.open=function(f,g,u,d){if(f.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(g.length<this.tagLength)return null;var p=new Uint8Array(16);p.set(f,p.length-f.length);var h=new Uint8Array(32);t.stream(this._key,p,h,4);var v=new Uint8Array(this.tagLength);if(this._authenticate(v,h,g.subarray(0,g.length-this.tagLength),u),!o.equal(v,g.subarray(g.length-this.tagLength,g.length)))return null;var w=g.length-this.tagLength,_;if(d){if(d.length!==w)throw new Error("ChaCha20Poly1305: incorrect destination length");_=d}else _=new Uint8Array(w);return t.streamXOR(this._key,p,g.subarray(0,g.length-this.tagLength),_,4),n.wipe(p),_},m.prototype.clean=function(){return n.wipe(this._key),this},m.prototype._authenticate=function(f,g,u,d){var p=new r.Poly1305(g);d&&(p.update(d),d.length%16>0&&p.update(c.subarray(d.length%16))),p.update(u),u.length%16>0&&p.update(c.subarray(u.length%16));var h=new Uint8Array(8);d&&i.writeUint64LE(d.length,h),p.update(h),i.writeUint64LE(u.length,h),p.update(h);for(var v=p.digest(),w=0;w<v.length;w++)f[w]=v[w];p.clean(),n.wipe(v),n.wipe(h)},m}();e.ChaCha20Poly1305=a})(Ip);var s_={},al={},Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});function xD(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}Ap.isSerializableHash=xD;Object.defineProperty(al,"__esModule",{value:!0});var Ps=Ap,ID=Uo,AD=Ri,o_=function(){function e(t,r){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),Ps.isSerializableHash(this._inner)&&Ps.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),AD.wipe(n)}return e.prototype.reset=function(){if(!Ps.isSerializableHash(this._inner)||!Ps.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){Ps.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Ps.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(t){return this._inner.update(t),this},e.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype.saveState=function(){if(!Ps.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(t){if(!Ps.isSerializableHash(this._inner)||!Ps.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(t){if(!Ps.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},e}();al.HMAC=o_;function OD(e,t,r){var n=new o_(e,t);n.update(r);var i=n.digest();return n.clean(),i}al.hmac=OD;al.equal=ID.equal;Object.defineProperty(s_,"__esModule",{value:!0});var l1=al,u1=Ri,DD=function(){function e(t,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=i;var o=l1.hmac(this._hash,n,r);this._hmac=new l1.HMAC(t,o),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(t){for(var r=new Uint8Array(t),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},e.prototype.clean=function(){this._hmac.clean(),u1.wipe(this._buffer),u1.wipe(this._counter),this._bufpos=0},e}(),TD=s_.HKDF=DD,rc={},ff={},hf={};Object.defineProperty(hf,"__esModule",{value:!0});hf.BrowserRandomSource=void 0;const f1=65536;class PD{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(t);for(let n=0;n<r.length;n+=f1)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,f1)));return r}}hf.BrowserRandomSource=PD;function RD(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var df={};Object.defineProperty(df,"__esModule",{value:!0});df.NodeRandomSource=void 0;const $D=Ri;class LD{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof RD<"u"){const t=H4;t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(t);if(r.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,$D.wipe)(r),n}}df.NodeRandomSource=LD;Object.defineProperty(ff,"__esModule",{value:!0});ff.SystemRandomSource=void 0;const ND=hf,kD=df;class MD{constructor(){if(this.isAvailable=!1,this.name="",this._source=new ND.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new kD.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}ff.SystemRandomSource=MD;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=ff,r=Tt,n=Ri;e.defaultRandomSource=new t.SystemRandomSource;function i(f,g=e.defaultRandomSource){return g.randomBytes(f)}e.randomBytes=i;function o(f=e.defaultRandomSource){const g=i(4,f),u=(0,r.readUint32LE)(g);return(0,n.wipe)(g),u}e.randomUint32=o;const c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(f,g=c,u=e.defaultRandomSource){if(g.length<2)throw new Error("randomString charset is too short");if(g.length>256)throw new Error("randomString charset is too long");let d="";const p=g.length,h=256-256%p;for(;f>0;){const v=i(Math.ceil(f*256/h),u);for(let w=0;w<v.length&&f>0;w++){const _=v[w];_<h&&(d+=g.charAt(_%p),f--)}(0,n.wipe)(v)}return d}e.randomString=a;function m(f,g=c,u=e.defaultRandomSource){const d=Math.ceil(f/(Math.log(g.length)/Math.LN2));return a(d,g,u)}e.randomStringForEntropy=m})(rc);var pf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Tt,r=Ri;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var n=function(){function a(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},a.prototype.update=function(m,f){if(f===void 0&&(f=m.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var g=0;if(this._bytesHashed+=f,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&f>0;)this._buffer[this._bufferLength++]=m[g++],f--;this._bufferLength===this.blockSize&&(o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(f>=this.blockSize&&(g=o(this._temp,this._state,m,g,f),f%=this.blockSize);f>0;)this._buffer[this._bufferLength++]=m[g++],f--;return this},a.prototype.finish=function(m){if(!this._finished){var f=this._bytesHashed,g=this._bufferLength,u=f/536870912|0,d=f<<3,p=f%64<56?64:128;this._buffer[g]=128;for(var h=g+1;h<p-8;h++)this._buffer[h]=0;t.writeUint32BE(u,this._buffer,p-8),t.writeUint32BE(d,this._buffer,p-4),o(this._temp,this._state,this._buffer,0,p),this._finished=!0}for(var h=0;h<this.digestLength/4;h++)t.writeUint32BE(this._state[h],m,h*4);return this},a.prototype.digest=function(){var m=new Uint8Array(this.digestLength);return this.finish(m),m},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(m){return this._state.set(m.state),this._bufferLength=m.bufferLength,m.buffer&&this._buffer.set(m.buffer),this._bytesHashed=m.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(m){r.wipe(m.state),m.buffer&&r.wipe(m.buffer),m.bufferLength=0,m.bytesHashed=0},a}();e.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(a,m,f,g,u){for(;u>=64;){for(var d=m[0],p=m[1],h=m[2],v=m[3],w=m[4],_=m[5],y=m[6],C=m[7],I=0;I<16;I++){var D=g+I*4;a[I]=t.readUint32BE(f,D)}for(var I=16;I<64;I++){var O=a[I-2],E=(O>>>17|O<<32-17)^(O>>>19|O<<32-19)^O>>>10;O=a[I-15];var b=(O>>>7|O<<32-7)^(O>>>18|O<<32-18)^O>>>3;a[I]=(E+a[I-7]|0)+(b+a[I-16]|0)}for(var I=0;I<64;I++){var E=(((w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7))+(w&_^~w&y)|0)+(C+(i[I]+a[I]|0)|0)|0,b=((d>>>2|d<<32-2)^(d>>>13|d<<32-13)^(d>>>22|d<<32-22))+(d&p^d&h^p&h)|0;C=y,y=_,_=w,w=v+E|0,v=h,h=p,p=d,d=E+b|0}m[0]+=d,m[1]+=p,m[2]+=h,m[3]+=v,m[4]+=w,m[5]+=_,m[6]+=y,m[7]+=C,g+=64,u-=64}return g}function c(a){var m=new n;m.update(a);var f=m.digest();return m.clean(),f}e.hash=c})(pf);var Op={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=rc,r=Ri;e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function n(I){const D=new Float64Array(16);if(I)for(let O=0;O<I.length;O++)D[O]=I[O];return D}const i=new Uint8Array(32);i[0]=9;const o=n([56129,1]);function c(I){let D=1;for(let O=0;O<16;O++){let E=I[O]+D+65535;D=Math.floor(E/65536),I[O]=E-D*65536}I[0]+=D-1+37*(D-1)}function a(I,D,O){const E=~(O-1);for(let b=0;b<16;b++){const x=E&(I[b]^D[b]);I[b]^=x,D[b]^=x}}function m(I,D){const O=n(),E=n();for(let b=0;b<16;b++)E[b]=D[b];c(E),c(E),c(E);for(let b=0;b<2;b++){O[0]=E[0]-65517;for(let A=1;A<15;A++)O[A]=E[A]-65535-(O[A-1]>>16&1),O[A-1]&=65535;O[15]=E[15]-32767-(O[14]>>16&1);const x=O[15]>>16&1;O[14]&=65535,a(E,O,1-x)}for(let b=0;b<16;b++)I[2*b]=E[b]&255,I[2*b+1]=E[b]>>8}function f(I,D){for(let O=0;O<16;O++)I[O]=D[2*O]+(D[2*O+1]<<8);I[15]&=32767}function g(I,D,O){for(let E=0;E<16;E++)I[E]=D[E]+O[E]}function u(I,D,O){for(let E=0;E<16;E++)I[E]=D[E]-O[E]}function d(I,D,O){let E,b,x=0,A=0,N=0,j=0,B=0,$=0,L=0,q=0,W=0,z=0,K=0,se=0,re=0,we=0,fe=0,me=0,ge=0,Ie=0,ne=0,J=0,te=0,R=0,Z=0,Oe=0,Le=0,Ne=0,ke=0,Et=0,dt=0,ar=0,cr=0,pt=O[0],rt=O[1],ct=O[2],et=O[3],gt=O[4],ot=O[5],vt=O[6],nt=O[7],it=O[8],bt=O[9],tt=O[10],_t=O[11],wt=O[12],Ot=O[13],yt=O[14],mt=O[15];E=D[0],x+=E*pt,A+=E*rt,N+=E*ct,j+=E*et,B+=E*gt,$+=E*ot,L+=E*vt,q+=E*nt,W+=E*it,z+=E*bt,K+=E*tt,se+=E*_t,re+=E*wt,we+=E*Ot,fe+=E*yt,me+=E*mt,E=D[1],A+=E*pt,N+=E*rt,j+=E*ct,B+=E*et,$+=E*gt,L+=E*ot,q+=E*vt,W+=E*nt,z+=E*it,K+=E*bt,se+=E*tt,re+=E*_t,we+=E*wt,fe+=E*Ot,me+=E*yt,ge+=E*mt,E=D[2],N+=E*pt,j+=E*rt,B+=E*ct,$+=E*et,L+=E*gt,q+=E*ot,W+=E*vt,z+=E*nt,K+=E*it,se+=E*bt,re+=E*tt,we+=E*_t,fe+=E*wt,me+=E*Ot,ge+=E*yt,Ie+=E*mt,E=D[3],j+=E*pt,B+=E*rt,$+=E*ct,L+=E*et,q+=E*gt,W+=E*ot,z+=E*vt,K+=E*nt,se+=E*it,re+=E*bt,we+=E*tt,fe+=E*_t,me+=E*wt,ge+=E*Ot,Ie+=E*yt,ne+=E*mt,E=D[4],B+=E*pt,$+=E*rt,L+=E*ct,q+=E*et,W+=E*gt,z+=E*ot,K+=E*vt,se+=E*nt,re+=E*it,we+=E*bt,fe+=E*tt,me+=E*_t,ge+=E*wt,Ie+=E*Ot,ne+=E*yt,J+=E*mt,E=D[5],$+=E*pt,L+=E*rt,q+=E*ct,W+=E*et,z+=E*gt,K+=E*ot,se+=E*vt,re+=E*nt,we+=E*it,fe+=E*bt,me+=E*tt,ge+=E*_t,Ie+=E*wt,ne+=E*Ot,J+=E*yt,te+=E*mt,E=D[6],L+=E*pt,q+=E*rt,W+=E*ct,z+=E*et,K+=E*gt,se+=E*ot,re+=E*vt,we+=E*nt,fe+=E*it,me+=E*bt,ge+=E*tt,Ie+=E*_t,ne+=E*wt,J+=E*Ot,te+=E*yt,R+=E*mt,E=D[7],q+=E*pt,W+=E*rt,z+=E*ct,K+=E*et,se+=E*gt,re+=E*ot,we+=E*vt,fe+=E*nt,me+=E*it,ge+=E*bt,Ie+=E*tt,ne+=E*_t,J+=E*wt,te+=E*Ot,R+=E*yt,Z+=E*mt,E=D[8],W+=E*pt,z+=E*rt,K+=E*ct,se+=E*et,re+=E*gt,we+=E*ot,fe+=E*vt,me+=E*nt,ge+=E*it,Ie+=E*bt,ne+=E*tt,J+=E*_t,te+=E*wt,R+=E*Ot,Z+=E*yt,Oe+=E*mt,E=D[9],z+=E*pt,K+=E*rt,se+=E*ct,re+=E*et,we+=E*gt,fe+=E*ot,me+=E*vt,ge+=E*nt,Ie+=E*it,ne+=E*bt,J+=E*tt,te+=E*_t,R+=E*wt,Z+=E*Ot,Oe+=E*yt,Le+=E*mt,E=D[10],K+=E*pt,se+=E*rt,re+=E*ct,we+=E*et,fe+=E*gt,me+=E*ot,ge+=E*vt,Ie+=E*nt,ne+=E*it,J+=E*bt,te+=E*tt,R+=E*_t,Z+=E*wt,Oe+=E*Ot,Le+=E*yt,Ne+=E*mt,E=D[11],se+=E*pt,re+=E*rt,we+=E*ct,fe+=E*et,me+=E*gt,ge+=E*ot,Ie+=E*vt,ne+=E*nt,J+=E*it,te+=E*bt,R+=E*tt,Z+=E*_t,Oe+=E*wt,Le+=E*Ot,Ne+=E*yt,ke+=E*mt,E=D[12],re+=E*pt,we+=E*rt,fe+=E*ct,me+=E*et,ge+=E*gt,Ie+=E*ot,ne+=E*vt,J+=E*nt,te+=E*it,R+=E*bt,Z+=E*tt,Oe+=E*_t,Le+=E*wt,Ne+=E*Ot,ke+=E*yt,Et+=E*mt,E=D[13],we+=E*pt,fe+=E*rt,me+=E*ct,ge+=E*et,Ie+=E*gt,ne+=E*ot,J+=E*vt,te+=E*nt,R+=E*it,Z+=E*bt,Oe+=E*tt,Le+=E*_t,Ne+=E*wt,ke+=E*Ot,Et+=E*yt,dt+=E*mt,E=D[14],fe+=E*pt,me+=E*rt,ge+=E*ct,Ie+=E*et,ne+=E*gt,J+=E*ot,te+=E*vt,R+=E*nt,Z+=E*it,Oe+=E*bt,Le+=E*tt,Ne+=E*_t,ke+=E*wt,Et+=E*Ot,dt+=E*yt,ar+=E*mt,E=D[15],me+=E*pt,ge+=E*rt,Ie+=E*ct,ne+=E*et,J+=E*gt,te+=E*ot,R+=E*vt,Z+=E*nt,Oe+=E*it,Le+=E*bt,Ne+=E*tt,ke+=E*_t,Et+=E*wt,dt+=E*Ot,ar+=E*yt,cr+=E*mt,x+=38*ge,A+=38*Ie,N+=38*ne,j+=38*J,B+=38*te,$+=38*R,L+=38*Z,q+=38*Oe,W+=38*Le,z+=38*Ne,K+=38*ke,se+=38*Et,re+=38*dt,we+=38*ar,fe+=38*cr,b=1,E=x+b+65535,b=Math.floor(E/65536),x=E-b*65536,E=A+b+65535,b=Math.floor(E/65536),A=E-b*65536,E=N+b+65535,b=Math.floor(E/65536),N=E-b*65536,E=j+b+65535,b=Math.floor(E/65536),j=E-b*65536,E=B+b+65535,b=Math.floor(E/65536),B=E-b*65536,E=$+b+65535,b=Math.floor(E/65536),$=E-b*65536,E=L+b+65535,b=Math.floor(E/65536),L=E-b*65536,E=q+b+65535,b=Math.floor(E/65536),q=E-b*65536,E=W+b+65535,b=Math.floor(E/65536),W=E-b*65536,E=z+b+65535,b=Math.floor(E/65536),z=E-b*65536,E=K+b+65535,b=Math.floor(E/65536),K=E-b*65536,E=se+b+65535,b=Math.floor(E/65536),se=E-b*65536,E=re+b+65535,b=Math.floor(E/65536),re=E-b*65536,E=we+b+65535,b=Math.floor(E/65536),we=E-b*65536,E=fe+b+65535,b=Math.floor(E/65536),fe=E-b*65536,E=me+b+65535,b=Math.floor(E/65536),me=E-b*65536,x+=b-1+37*(b-1),b=1,E=x+b+65535,b=Math.floor(E/65536),x=E-b*65536,E=A+b+65535,b=Math.floor(E/65536),A=E-b*65536,E=N+b+65535,b=Math.floor(E/65536),N=E-b*65536,E=j+b+65535,b=Math.floor(E/65536),j=E-b*65536,E=B+b+65535,b=Math.floor(E/65536),B=E-b*65536,E=$+b+65535,b=Math.floor(E/65536),$=E-b*65536,E=L+b+65535,b=Math.floor(E/65536),L=E-b*65536,E=q+b+65535,b=Math.floor(E/65536),q=E-b*65536,E=W+b+65535,b=Math.floor(E/65536),W=E-b*65536,E=z+b+65535,b=Math.floor(E/65536),z=E-b*65536,E=K+b+65535,b=Math.floor(E/65536),K=E-b*65536,E=se+b+65535,b=Math.floor(E/65536),se=E-b*65536,E=re+b+65535,b=Math.floor(E/65536),re=E-b*65536,E=we+b+65535,b=Math.floor(E/65536),we=E-b*65536,E=fe+b+65535,b=Math.floor(E/65536),fe=E-b*65536,E=me+b+65535,b=Math.floor(E/65536),me=E-b*65536,x+=b-1+37*(b-1),I[0]=x,I[1]=A,I[2]=N,I[3]=j,I[4]=B,I[5]=$,I[6]=L,I[7]=q,I[8]=W,I[9]=z,I[10]=K,I[11]=se,I[12]=re,I[13]=we,I[14]=fe,I[15]=me}function p(I,D){d(I,D,D)}function h(I,D){const O=n();for(let E=0;E<16;E++)O[E]=D[E];for(let E=253;E>=0;E--)p(O,O),E!==2&&E!==4&&d(O,O,D);for(let E=0;E<16;E++)I[E]=O[E]}function v(I,D){const O=new Uint8Array(32),E=new Float64Array(80),b=n(),x=n(),A=n(),N=n(),j=n(),B=n();for(let W=0;W<31;W++)O[W]=I[W];O[31]=I[31]&127|64,O[0]&=248,f(E,D);for(let W=0;W<16;W++)x[W]=E[W];b[0]=N[0]=1;for(let W=254;W>=0;--W){const z=O[W>>>3]>>>(W&7)&1;a(b,x,z),a(A,N,z),g(j,b,A),u(b,b,A),g(A,x,N),u(x,x,N),p(N,j),p(B,b),d(b,A,b),d(A,x,j),g(j,b,A),u(b,b,A),p(x,b),u(A,N,B),d(b,A,o),g(b,b,N),d(A,A,b),d(b,N,B),d(N,x,E),p(x,j),a(b,x,z),a(A,N,z)}for(let W=0;W<16;W++)E[W+16]=b[W],E[W+32]=A[W],E[W+48]=x[W],E[W+64]=N[W];const $=E.subarray(32),L=E.subarray(16);h($,$),d(L,L,$);const q=new Uint8Array(32);return m(q,L),q}e.scalarMult=v;function w(I){return v(I,i)}e.scalarMultBase=w;function _(I){if(I.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const D=new Uint8Array(I);return{publicKey:w(D),secretKey:D}}e.generateKeyPairFromSeed=_;function y(I){const D=(0,t.randomBytes)(32,I),O=_(D);return(0,r.wipe)(D),O}e.generateKeyPair=y;function C(I,D,O=!1){if(I.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(D.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const E=v(I,D);if(O){let b=0;for(let x=0;x<E.length;x++)b|=E[x];if(b===0)throw new Error("X25519: invalid shared key")}return E}e.sharedKey=C})(Op);function Dp(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function a_(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Dp(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Ad(e,t){t||(t=e.reduce((i,o)=>i+o.length,0));const r=a_(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return Dp(r)}function jD(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),c=o.charCodeAt(0);if(r[c]!==255)throw new TypeError(o+" is ambiguous");r[c]=i}var a=e.length,m=e.charAt(0),f=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function u(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var v=0,w=0,_=0,y=h.length;_!==y&&h[_]===0;)_++,v++;for(var C=(y-_)*g+1>>>0,I=new Uint8Array(C);_!==y;){for(var D=h[_],O=0,E=C-1;(D!==0||O<w)&&E!==-1;E--,O++)D+=256*I[E]>>>0,I[E]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");w=O,_++}for(var b=C-w;b!==C&&I[b]===0;)b++;for(var x=m.repeat(v);b<C;++b)x+=e.charAt(I[b]);return x}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var v=0;if(h[v]!==" "){for(var w=0,_=0;h[v]===m;)w++,v++;for(var y=(h.length-v)*f+1>>>0,C=new Uint8Array(y);h[v];){var I=r[h.charCodeAt(v)];if(I===255)return;for(var D=0,O=y-1;(I!==0||D<_)&&O!==-1;O--,D++)I+=a*C[O]>>>0,C[O]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");_=D,v++}if(h[v]!==" "){for(var E=y-_;E!==y&&C[E]===0;)E++;for(var b=new Uint8Array(w+(y-E)),x=w;E!==y;)b[x++]=C[E++];return b}}}function p(h){var v=d(h);if(v)return v;throw new Error(`Non-${t} character`)}return{encode:u,decodeUnsafe:d,decode:p}}var FD=jD,UD=FD;const BD=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},HD=e=>new TextEncoder().encode(e),qD=e=>new TextDecoder().decode(e);class WD{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class zD{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return c_(this,t)}}class VD{constructor(t){this.decoders=t}or(t){return c_(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const c_=(e,t)=>new VD({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class GD{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new WD(t,r,n),this.decoder=new zD(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const gf=({name:e,prefix:t,encode:r,decode:n})=>new GD(e,t,r,n),cl=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=UD(r,t);return gf({prefix:e,name:t,encode:n,decode:o=>BD(i(o))})},KD=(e,t,r,n)=>{const i={};for(let g=0;g<t.length;++g)i[t[g]]=g;let o=e.length;for(;e[o-1]==="=";)--o;const c=new Uint8Array(o*r/8|0);let a=0,m=0,f=0;for(let g=0;g<o;++g){const u=i[e[g]];if(u===void 0)throw new SyntaxError(`Non-${n} character`);m=m<<r|u,a+=r,a>=8&&(a-=8,c[f++]=255&m>>a)}if(a>=r||255&m<<8-a)throw new SyntaxError("Unexpected end of data");return c},ZD=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let o="",c=0,a=0;for(let m=0;m<e.length;++m)for(a=a<<8|e[m],c+=8;c>r;)c-=r,o+=t[i&a>>c];if(c&&(o+=t[i&a<<r-c]),n)for(;o.length*r&7;)o+="=";return o},Tn=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>gf({prefix:t,name:e,encode(i){return ZD(i,n,r)},decode(i){return KD(i,n,r,e)}}),YD=gf({prefix:"\0",name:"identity",encode:e=>qD(e),decode:e=>HD(e)}),XD=Object.freeze(Object.defineProperty({__proto__:null,identity:YD},Symbol.toStringTag,{value:"Module"})),JD=Tn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),QD=Object.freeze(Object.defineProperty({__proto__:null,base2:JD},Symbol.toStringTag,{value:"Module"})),eT=Tn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),tT=Object.freeze(Object.defineProperty({__proto__:null,base8:eT},Symbol.toStringTag,{value:"Module"})),rT=cl({prefix:"9",name:"base10",alphabet:"0123456789"}),nT=Object.freeze(Object.defineProperty({__proto__:null,base10:rT},Symbol.toStringTag,{value:"Module"})),iT=Tn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),sT=Tn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),oT=Object.freeze(Object.defineProperty({__proto__:null,base16:iT,base16upper:sT},Symbol.toStringTag,{value:"Module"})),aT=Tn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cT=Tn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),lT=Tn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uT=Tn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),fT=Tn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),hT=Tn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dT=Tn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pT=Tn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),gT=Tn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),mT=Object.freeze(Object.defineProperty({__proto__:null,base32:aT,base32hex:fT,base32hexpad:dT,base32hexpadupper:pT,base32hexupper:hT,base32pad:lT,base32padupper:uT,base32upper:cT,base32z:gT},Symbol.toStringTag,{value:"Module"})),vT=cl({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),bT=cl({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),yT=Object.freeze(Object.defineProperty({__proto__:null,base36:vT,base36upper:bT},Symbol.toStringTag,{value:"Module"})),_T=cl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),wT=cl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ET=Object.freeze(Object.defineProperty({__proto__:null,base58btc:_T,base58flickr:wT},Symbol.toStringTag,{value:"Module"})),ST=Tn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),CT=Tn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),xT=Tn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),IT=Tn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),AT=Object.freeze(Object.defineProperty({__proto__:null,base64:ST,base64pad:CT,base64url:xT,base64urlpad:IT},Symbol.toStringTag,{value:"Module"})),l_=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),OT=l_.reduce((e,t,r)=>(e[r]=t,e),[]),DT=l_.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function TT(e){return e.reduce((t,r)=>(t+=OT[r],t),"")}function PT(e){const t=[];for(const r of e){const n=DT[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const RT=gf({prefix:"🚀",name:"base256emoji",encode:TT,decode:PT}),$T=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:RT},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const h1={...XD,...QD,...tT,...nT,...oT,...mT,...yT,...ET,...AT,...$T};function u_(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const d1=u_("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Nh=u_("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=a_(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),f_={utf8:d1,"utf-8":d1,hex:h1.base16,latin1:Nh,ascii:Nh,binary:Nh,...h1};function vi(e,t="utf8"){const r=f_[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Dp(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function ti(e,t="utf8"){const r=f_[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var p1=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},LT=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),NT=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),kT=function(){function e(t,r,n,i){this.name=t,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return e}(),MT=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),jT=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),FT=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,UT=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,g1=3,BT=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",FT]],m1=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function HT(e){return e?v1(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new jT:typeof navigator<"u"?v1(navigator.userAgent):zT()}function qT(e){return e!==""&&BT.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]},!1)}function v1(e){var t=qT(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new MT;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<g1&&(i=p1(p1([],i,!0),VT(g1-i.length),!0)):i=[];var o=i.join("."),c=WT(e),a=UT.exec(e);return a&&a[1]?new kT(r,o,c,a[1]):new LT(r,o,c)}function WT(e){for(var t=0,r=m1.length;t<r;t++){var n=m1[t],i=n[0],o=n[1],c=o.exec(e);if(c)return i}return null}function zT(){var e=typeof process<"u"&&process.version;return e?new NT(process.version.slice(1)):null}function VT(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var Xe={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Od=function(e,t){return Od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Od(e,t)};function GT(e,t){Od(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Dd=function(){return Dd=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Dd.apply(this,arguments)};function KT(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function ZT(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(o=(i<3?c(o):i>3?c(t,r,o):c(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function YT(e,t){return function(r,n){t(r,n,e)}}function XT(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function JT(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function a(g){try{f(n.next(g))}catch(u){c(u)}}function m(g){try{f(n.throw(g))}catch(u){c(u)}}function f(g){g.done?o(g.value):i(g.value).then(a,m)}f((n=n.apply(e,t||[])).next())})}function QT(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,c;return c={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function a(f){return function(g){return m([f,g])}}function m(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(g){f=[6,g],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function eP(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function tP(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Td(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h_(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],c;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){c={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return o}function rP(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h_(arguments[t]));return e}function nP(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],c=0,a=o.length;c<a;c++,i++)n[i]=o[c];return n}function Qc(e){return this instanceof Qc?(this.v=e,this):new Qc(e)}function iP(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(d){n[d]&&(i[d]=function(p){return new Promise(function(h,v){o.push([d,p,h,v])>1||a(d,p)})})}function a(d,p){try{m(n[d](p))}catch(h){u(o[0][3],h)}}function m(d){d.value instanceof Qc?Promise.resolve(d.value.v).then(f,g):u(o[0][2],d)}function f(d){a("next",d)}function g(d){a("throw",d)}function u(d,p){d(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function sP(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,o){t[i]=e[i]?function(c){return(r=!r)?{value:Qc(e[i](c)),done:i==="return"}:o?o(c):c}:o}}function oP(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Td=="function"?Td(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(c){return new Promise(function(a,m){c=e[o](c),i(a,m,c.done,c.value)})}}function i(o,c,a,m){Promise.resolve(m).then(function(f){o({value:f,done:a})},c)}}function aP(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function cP(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function lP(e){return e&&e.__esModule?e:{default:e}}function uP(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function fP(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const hP=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Dd},__asyncDelegator:sP,__asyncGenerator:iP,__asyncValues:oP,__await:Qc,__awaiter:JT,__classPrivateFieldGet:uP,__classPrivateFieldSet:fP,__createBinding:eP,__decorate:ZT,__exportStar:tP,__extends:GT,__generator:QT,__importDefault:lP,__importStar:cP,__makeTemplateObject:aP,__metadata:XT,__param:YT,__read:h_,__rest:KT,__spread:rP,__spreadArrays:nP,__values:Td},Symbol.toStringTag,{value:"Module"})),Us=zv(hP);var kh={},Ic={},b1;function dP(){if(b1)return Ic;b1=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return Ic.delay=e,Ic}var Xo={},Mh={},Jo={},y1;function pP(){return y1||(y1=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.ONE_THOUSAND=Jo.ONE_HUNDRED=void 0,Jo.ONE_HUNDRED=100,Jo.ONE_THOUSAND=1e3),Jo}var jh={},_1;function gP(){return _1||(_1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(jh)),jh}var w1;function d_(){return w1||(w1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Us;t.__exportStar(pP(),e),t.__exportStar(gP(),e)}(Mh)),Mh}var E1;function mP(){if(E1)return Xo;E1=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.fromMiliseconds=Xo.toMiliseconds=void 0;const e=d_();function t(n){return n*e.ONE_THOUSAND}Xo.toMiliseconds=t;function r(n){return Math.floor(n/e.ONE_THOUSAND)}return Xo.fromMiliseconds=r,Xo}var S1;function vP(){return S1||(S1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Us;t.__exportStar(dP(),e),t.__exportStar(mP(),e)}(kh)),kh}var Da={},C1;function bP(){if(C1)return Da;C1=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Da.Watch=e,Da.default=e,Da}var Fh={},Ac={},x1;function yP(){if(x1)return Ac;x1=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.IWatch=void 0;class e{}return Ac.IWatch=e,Ac}var I1;function _P(){return I1||(I1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Us.__exportStar(yP(),e)}(Fh)),Fh}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Us;t.__exportStar(vP(),e),t.__exportStar(bP(),e),t.__exportStar(_P(),e),t.__exportStar(d_(),e)})(Xe);var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.getLocalStorage=Rr.getLocalStorageOrThrow=Rr.getCrypto=Rr.getCryptoOrThrow=g_=Rr.getLocation=Rr.getLocationOrThrow=Tp=Rr.getNavigator=Rr.getNavigatorOrThrow=p_=Rr.getDocument=Rr.getDocumentOrThrow=Rr.getFromWindowOrThrow=Rr.getFromWindow=void 0;function ua(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}Rr.getFromWindow=ua;function nc(e){const t=ua(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Rr.getFromWindowOrThrow=nc;function wP(){return nc("document")}Rr.getDocumentOrThrow=wP;function EP(){return ua("document")}var p_=Rr.getDocument=EP;function SP(){return nc("navigator")}Rr.getNavigatorOrThrow=SP;function CP(){return ua("navigator")}var Tp=Rr.getNavigator=CP;function xP(){return nc("location")}Rr.getLocationOrThrow=xP;function IP(){return ua("location")}var g_=Rr.getLocation=IP;function AP(){return nc("crypto")}Rr.getCryptoOrThrow=AP;function OP(){return ua("crypto")}Rr.getCrypto=OP;function DP(){return nc("localStorage")}Rr.getLocalStorageOrThrow=DP;function TP(){return ua("localStorage")}Rr.getLocalStorage=TP;var Pp={};Object.defineProperty(Pp,"__esModule",{value:!0});var m_=Pp.getWindowMetadata=void 0;const A1=Rr;function PP(){let e,t;try{e=A1.getDocumentOrThrow(),t=A1.getLocationOrThrow()}catch{return null}function r(){const u=e.getElementsByTagName("link"),d=[];for(let p=0;p<u.length;p++){const h=u[p],v=h.getAttribute("rel");if(v&&v.toLowerCase().indexOf("icon")>-1){const w=h.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let _=t.protocol+"//"+t.host;if(w.indexOf("/")===0)_+=w;else{const y=t.pathname.split("/");y.pop();const C=y.join("/");_+=C+"/"+w}d.push(_)}else if(w.indexOf("//")===0){const _=t.protocol+w;d.push(_)}else d.push(w)}}return d}function n(...u){const d=e.getElementsByTagName("meta");for(let p=0;p<d.length;p++){const h=d[p],v=["itemprop","property","name"].map(w=>h.getAttribute(w)).filter(w=>w?u.includes(w):!1);if(v.length&&v){const w=h.getAttribute("content");if(w)return w}}return""}function i(){let u=n("name","og:site_name","og:title","twitter:title");return u||(u=e.title),u}function o(){return n("description","og:description","twitter:description","keywords")}const c=i(),a=o(),m=t.origin,f=r();return{description:a,url:m,icons:f,name:c}}m_=Pp.getWindowMetadata=PP;var el={},RP=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),v_="%[a-f0-9]{2}",O1=new RegExp("("+v_+")|([^%]+?)","gi"),D1=new RegExp("("+v_+")+","gi");function Pd(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],Pd(r),Pd(n))}function $P(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(O1)||[],r=1;r<t.length;r++)e=Pd(t,r).join(""),t=e.match(O1)||[];return e}}function LP(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=D1.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var n=$P(r[0]);n!==r[0]&&(t[r[0]]=n)}r=D1.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),o=0;o<i.length;o++){var c=i[o];e=e.replace(new RegExp(c,"g"),t[c])}return e}var NP=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return LP(e)}},kP=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},MP=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var c=n[o],a=e[c];(i?t.indexOf(c)!==-1:t(c,a,e))&&(r[c]=a)}return r};(function(e){const t=RP,r=NP,n=kP,i=MP,o=y=>y==null,c=Symbol("encodeFragmentIdentifier");function a(y){switch(y.arrayFormat){case"index":return C=>(I,D)=>{const O=I.length;return D===void 0||y.skipNull&&D===null||y.skipEmptyString&&D===""?I:D===null?[...I,[g(C,y),"[",O,"]"].join("")]:[...I,[g(C,y),"[",g(O,y),"]=",g(D,y)].join("")]};case"bracket":return C=>(I,D)=>D===void 0||y.skipNull&&D===null||y.skipEmptyString&&D===""?I:D===null?[...I,[g(C,y),"[]"].join("")]:[...I,[g(C,y),"[]=",g(D,y)].join("")];case"colon-list-separator":return C=>(I,D)=>D===void 0||y.skipNull&&D===null||y.skipEmptyString&&D===""?I:D===null?[...I,[g(C,y),":list="].join("")]:[...I,[g(C,y),":list=",g(D,y)].join("")];case"comma":case"separator":case"bracket-separator":{const C=y.arrayFormat==="bracket-separator"?"[]=":"=";return I=>(D,O)=>O===void 0||y.skipNull&&O===null||y.skipEmptyString&&O===""?D:(O=O===null?"":O,D.length===0?[[g(I,y),C,g(O,y)].join("")]:[[D,g(O,y)].join(y.arrayFormatSeparator)])}default:return C=>(I,D)=>D===void 0||y.skipNull&&D===null||y.skipEmptyString&&D===""?I:D===null?[...I,g(C,y)]:[...I,[g(C,y),"=",g(D,y)].join("")]}}function m(y){let C;switch(y.arrayFormat){case"index":return(I,D,O)=>{if(C=/\[(\d*)\]$/.exec(I),I=I.replace(/\[\d*\]$/,""),!C){O[I]=D;return}O[I]===void 0&&(O[I]={}),O[I][C[1]]=D};case"bracket":return(I,D,O)=>{if(C=/(\[\])$/.exec(I),I=I.replace(/\[\]$/,""),!C){O[I]=D;return}if(O[I]===void 0){O[I]=[D];return}O[I]=[].concat(O[I],D)};case"colon-list-separator":return(I,D,O)=>{if(C=/(:list)$/.exec(I),I=I.replace(/:list$/,""),!C){O[I]=D;return}if(O[I]===void 0){O[I]=[D];return}O[I]=[].concat(O[I],D)};case"comma":case"separator":return(I,D,O)=>{const E=typeof D=="string"&&D.includes(y.arrayFormatSeparator),b=typeof D=="string"&&!E&&u(D,y).includes(y.arrayFormatSeparator);D=b?u(D,y):D;const x=E||b?D.split(y.arrayFormatSeparator).map(A=>u(A,y)):D===null?D:u(D,y);O[I]=x};case"bracket-separator":return(I,D,O)=>{const E=/(\[\])$/.test(I);if(I=I.replace(/\[\]$/,""),!E){O[I]=D&&u(D,y);return}const b=D===null?[]:D.split(y.arrayFormatSeparator).map(x=>u(x,y));if(O[I]===void 0){O[I]=b;return}O[I]=[].concat(O[I],b)};default:return(I,D,O)=>{if(O[I]===void 0){O[I]=D;return}O[I]=[].concat(O[I],D)}}}function f(y){if(typeof y!="string"||y.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function g(y,C){return C.encode?C.strict?t(y):encodeURIComponent(y):y}function u(y,C){return C.decode?r(y):y}function d(y){return Array.isArray(y)?y.sort():typeof y=="object"?d(Object.keys(y)).sort((C,I)=>Number(C)-Number(I)).map(C=>y[C]):y}function p(y){const C=y.indexOf("#");return C!==-1&&(y=y.slice(0,C)),y}function h(y){let C="";const I=y.indexOf("#");return I!==-1&&(C=y.slice(I)),C}function v(y){y=p(y);const C=y.indexOf("?");return C===-1?"":y.slice(C+1)}function w(y,C){return C.parseNumbers&&!Number.isNaN(Number(y))&&typeof y=="string"&&y.trim()!==""?y=Number(y):C.parseBooleans&&y!==null&&(y.toLowerCase()==="true"||y.toLowerCase()==="false")&&(y=y.toLowerCase()==="true"),y}function _(y,C){C=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},C),f(C.arrayFormatSeparator);const I=m(C),D=Object.create(null);if(typeof y!="string"||(y=y.trim().replace(/^[?#&]/,""),!y))return D;for(const O of y.split("&")){if(O==="")continue;let[E,b]=n(C.decode?O.replace(/\+/g," "):O,"=");b=b===void 0?null:["comma","separator","bracket-separator"].includes(C.arrayFormat)?b:u(b,C),I(u(E,C),b,D)}for(const O of Object.keys(D)){const E=D[O];if(typeof E=="object"&&E!==null)for(const b of Object.keys(E))E[b]=w(E[b],C);else D[O]=w(E,C)}return C.sort===!1?D:(C.sort===!0?Object.keys(D).sort():Object.keys(D).sort(C.sort)).reduce((O,E)=>{const b=D[E];return b&&typeof b=="object"&&!Array.isArray(b)?O[E]=d(b):O[E]=b,O},Object.create(null))}e.extract=v,e.parse=_,e.stringify=(y,C)=>{if(!y)return"";C=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},C),f(C.arrayFormatSeparator);const I=b=>C.skipNull&&o(y[b])||C.skipEmptyString&&y[b]==="",D=a(C),O={};for(const b of Object.keys(y))I(b)||(O[b]=y[b]);const E=Object.keys(O);return C.sort!==!1&&E.sort(C.sort),E.map(b=>{const x=y[b];return x===void 0?"":x===null?g(b,C):Array.isArray(x)?x.length===0&&C.arrayFormat==="bracket-separator"?g(b,C)+"[]":x.reduce(D(b),[]).join("&"):g(b,C)+"="+g(x,C)}).filter(b=>b.length>0).join("&")},e.parseUrl=(y,C)=>{C=Object.assign({decode:!0},C);const[I,D]=n(y,"#");return Object.assign({url:I.split("?")[0]||"",query:_(v(y),C)},C&&C.parseFragmentIdentifier&&D?{fragmentIdentifier:u(D,C)}:{})},e.stringifyUrl=(y,C)=>{C=Object.assign({encode:!0,strict:!0,[c]:!0},C);const I=p(y.url).split("?")[0]||"",D=e.extract(y.url),O=e.parse(D,{sort:!1}),E=Object.assign(O,y.query);let b=e.stringify(E,C);b&&(b=`?${b}`);let x=h(y.url);return y.fragmentIdentifier&&(x=`#${C[c]?g(y.fragmentIdentifier,C):y.fragmentIdentifier}`),`${I}${b}${x}`},e.pick=(y,C,I)=>{I=Object.assign({parseFragmentIdentifier:!0,[c]:!1},I);const{url:D,query:O,fragmentIdentifier:E}=e.parseUrl(y,I);return e.stringifyUrl({url:D,query:i(O,C),fragmentIdentifier:E},I)},e.exclude=(y,C,I)=>{const D=Array.isArray(C)?O=>!C.includes(O):(O,E)=>!C(O,E);return e.pick(y,D,I)}})(el);const jP={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}},FP=":";function UP(e){const[t,r]=e.split(FP);return{namespace:t,reference:r}}function BP(e,t=[]){const r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;const i=e[n];r.push(...i.accounts)}),r}function b_(e,t){return e.includes(":")?[e]:t.chains||[]}const y_="base10",Jn="base16",Rd="base64pad",Rp="utf8",__=0,fa=1,HP=0,T1=1,$d=12,$p=32;function qP(){const e=Op.generateKeyPair();return{privateKey:ti(e.secretKey,Jn),publicKey:ti(e.publicKey,Jn)}}function Ld(){const e=rc.randomBytes($p);return ti(e,Jn)}function WP(e,t){const r=Op.sharedKey(vi(e,Jn),vi(t,Jn),!0),n=new TD(pf.SHA256,r).expand($p);return ti(n,Jn)}function zP(e){const t=pf.hash(vi(e,Jn));return ti(t,Jn)}function Fa(e){const t=pf.hash(vi(e,Rp));return ti(t,Jn)}function VP(e){return vi(`${e}`,y_)}function ll(e){return Number(ti(e,y_))}function GP(e){const t=VP(typeof e.type<"u"?e.type:__);if(ll(t)===fa&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?vi(e.senderPublicKey,Jn):void 0,n=typeof e.iv<"u"?vi(e.iv,Jn):rc.randomBytes($d),i=new Ip.ChaCha20Poly1305(vi(e.symKey,Jn)).seal(n,vi(e.message,Rp));return ZP({type:t,sealed:i,iv:n,senderPublicKey:r})}function KP(e){const t=new Ip.ChaCha20Poly1305(vi(e.symKey,Jn)),{sealed:r,iv:n}=qu(e.encoded),i=t.open(n,r);if(i===null)throw new Error("Failed to decrypt");return ti(i,Rp)}function ZP(e){if(ll(e.type)===fa){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ti(Ad([e.type,e.senderPublicKey,e.iv,e.sealed]),Rd)}return ti(Ad([e.type,e.iv,e.sealed]),Rd)}function qu(e){const t=vi(e,Rd),r=t.slice(HP,T1),n=T1;if(ll(r)===fa){const a=n+$p,m=a+$d,f=t.slice(n,a),g=t.slice(a,m),u=t.slice(m);return{type:r,sealed:u,iv:g,senderPublicKey:f}}const i=n+$d,o=t.slice(n,i),c=t.slice(i);return{type:r,sealed:c,iv:o}}function YP(e,t){const r=qu(e);return w_({type:ll(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?ti(r.senderPublicKey,Jn):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function w_(e){const t=(e==null?void 0:e.type)||__;if(t===fa){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function P1(e){return e.type===fa&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}var XP=Object.defineProperty,R1=Object.getOwnPropertySymbols,JP=Object.prototype.hasOwnProperty,QP=Object.prototype.propertyIsEnumerable,$1=(e,t,r)=>t in e?XP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,L1=(e,t)=>{for(var r in t||(t={}))JP.call(t,r)&&$1(e,r,t[r]);if(R1)for(var r of R1(t))QP.call(t,r)&&$1(e,r,t[r]);return e};const eR="ReactNative",Ti={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},tR="js";function Lp(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ic(){return!p_()&&!!Tp()&&navigator.product===eR}function ul(){return!Lp()&&!!Tp()}function fl(){return ic()?Ti.reactNative:Lp()?Ti.node:ul()?Ti.browser:Ti.unknown}function rR(){var e;try{return ic()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function nR(e,t){let r=el.parse(e);return r=L1(L1({},r),t),e=el.stringify(r),e}function iR(){return m_()||{name:"",description:"",url:"",icons:[""]}}function sR(){if(fl()===Ti.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const e=HT();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function oR(){var e;const t=fl();return t===Ti.browser?[t,((e=g_())==null?void 0:e.host)||"unknown"].join(":"):t}function aR(e,t,r){const n=sR(),i=oR();return[[e,t].join("-"),[tR,r].join("-"),n,i].join("/")}function cR({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:o,useOnCloseEvent:c,bundleId:a}){const m=r.split("?"),f=aR(e,t,n),g={auth:i,ua:f,projectId:o,useOnCloseEvent:c||void 0,origin:a||void 0},u=nR(m[1]||"",g);return m[0]+"?"+u}function ra(e,t){return e.filter(r=>t.includes(r)).length===e.length}function E_(e){return Object.fromEntries(e.entries())}function S_(e){return new Map(Object.entries(e))}function Ra(e=Xe.FIVE_MINUTES,t){const r=Xe.toMiliseconds(e||Xe.FIVE_MINUTES);let n,i,o;return{resolve:c=>{o&&n&&(clearTimeout(o),n(c))},reject:c=>{o&&i&&(clearTimeout(o),i(c))},done:()=>new Promise((c,a)=>{o=setTimeout(()=>{a(new Error(t))},r),n=c,i=a})}}function tl(e,t,r){return new Promise(async(n,i)=>{const o=setTimeout(()=>i(new Error(r)),t);try{const c=await e;n(c)}catch(c){i(c)}clearTimeout(o)})}function C_(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function lR(e){return C_("topic",e)}function uR(e){return C_("id",e)}function x_(e){const[t,r]=e.split(":"),n={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")n.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function ps(e,t){return Xe.fromMiliseconds((t||Date.now())+Xe.toMiliseconds(e))}function Po(e){return Date.now()>=Xe.toMiliseconds(e)}function nn(e,t){return`${e}${t?`:${t}`:""}`}function Uh(e=[],t=[]){return[...new Set([...e,...t])]}async function fR({id:e,topic:t,wcDeepLink:r}){try{if(!r)return;const n=typeof r=="string"?JSON.parse(r):r;let i=n==null?void 0:n.href;if(typeof i!="string")return;i.endsWith("/")&&(i=i.slice(0,-1));const o=`${i}/wc?requestId=${e}&sessionTopic=${t}`,c=fl();c===Ti.browser?o.startsWith("https://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,"_self","noreferrer noopener"):c===Ti.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(n){console.error(n)}}const hR="irn";function Nd(e){return(e==null?void 0:e.relay)||{protocol:hR}}function yu(e){const t=jP[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var dR=Object.defineProperty,N1=Object.getOwnPropertySymbols,pR=Object.prototype.hasOwnProperty,gR=Object.prototype.propertyIsEnumerable,k1=(e,t,r)=>t in e?dR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mR=(e,t)=>{for(var r in t||(t={}))pR.call(t,r)&&k1(e,r,t[r]);if(N1)for(var r of N1(t))gR.call(t,r)&&k1(e,r,t[r]);return e};function vR(e,t="-"){const r={},n="relay"+t;return Object.keys(e).forEach(i=>{if(i.startsWith(n)){const o=i.replace(n,""),c=e[i];r[o]=c}}),r}function bR(e){e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),i=e.substring(t+1,r).split("@"),o=typeof r<"u"?e.substring(r):"",c=el.parse(o);return{protocol:n,topic:yR(i[0]),version:parseInt(i[1],10),symKey:c.symKey,relay:vR(c)}}function yR(e){return e.startsWith("//")?e.substring(2):e}function _R(e,t="-"){const r="relay",n={};return Object.keys(e).forEach(i=>{const o=r+t+i;e[i]&&(n[o]=e[i])}),n}function wR(e){return`${e.protocol}:${e.topic}@${e.version}?`+el.stringify(mR({symKey:e.symKey},_R(e.relay)))}function sc(e){const t=[];return e.forEach(r=>{const[n,i]=r.split(":");t.push(`${n}:${i}`)}),t}function ER(e){const t=[];return Object.values(e).forEach(r=>{t.push(...sc(r.accounts))}),t}function SR(e,t){const r=[];return Object.values(e).forEach(n=>{sc(n.accounts).includes(t)&&r.push(...n.methods)}),r}function CR(e,t){const r=[];return Object.values(e).forEach(n=>{sc(n.accounts).includes(t)&&r.push(...n.events)}),r}function xR(e,t){const r=_u(e,t);if(r)throw new Error(r.message);const n={};for(const[i,o]of Object.entries(e))n[i]={methods:o.methods,events:o.events,chains:o.accounts.map(c=>`${c.split(":")[0]}:${c.split(":")[1]}`)};return n}function Np(e){return e.includes(":")}function jc(e){return Np(e)?e.split(":")[0]:e}const IR={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},AR={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function je(e,t){const{message:r,code:n}=AR[e];return{message:t?`${r} ${t}`:r,code:n}}function Jr(e,t){const{message:r,code:n}=IR[e];return{message:t?`${r} ${t}`:r,code:n}}function Ms(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function Ua(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Xn(e){return typeof e>"u"}function xn(e,t){return t&&Xn(e)?!0:typeof e=="string"&&!!e.trim().length}function kp(e,t){return t&&Xn(e)?!0:typeof e=="number"&&!isNaN(e)}function OR(e,t){const{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r);let o=!0;return ra(i,n)?(n.forEach(c=>{const{accounts:a,methods:m,events:f}=e.namespaces[c],g=sc(a),u=r[c];(!ra(b_(c,u),g)||!ra(u.methods,m)||!ra(u.events,f))&&(o=!1)}),o):!1}function Wu(e){return xn(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function DR(e){if(xn(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&Wu(r)}}return!1}function TR(e){if(xn(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function PR(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function RR(e){return e==null?void 0:e.topic}function $R(e,t){let r=null;return xn(e==null?void 0:e.publicKey,!1)||(r=je("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function M1(e){let t=!0;return Ms(e)?e.length&&(t=e.every(r=>xn(r,!1))):t=!1,t}function LR(e,t,r){let n=null;return Ms(t)&&t.length?t.forEach(i=>{n||Wu(i)||(n=Jr("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Wu(e)||(n=Jr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function NR(e,t,r){let n=null;return Object.entries(e).forEach(([i,o])=>{if(n)return;const c=LR(i,b_(i,o),`${t} ${r}`);c&&(n=c)}),n}function kR(e,t){let r=null;return Ms(e)?e.forEach(n=>{r||DR(n)||(r=Jr("UNSUPPORTED_ACCOUNTS",`${t}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Jr("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function MR(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=kR(n==null?void 0:n.accounts,`${t} namespace`);i&&(r=i)}),r}function jR(e,t){let r=null;return M1(e==null?void 0:e.methods)?M1(e==null?void 0:e.events)||(r=Jr("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=Jr("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function I_(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const i=jR(n,`${t}, namespace`);i&&(r=i)}),r}function FR(e,t,r){let n=null;if(e&&Ua(e)){const i=I_(e,t);i&&(n=i);const o=NR(e,t,r);o&&(n=o)}else n=je("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function _u(e,t){let r=null;if(e&&Ua(e)){const n=I_(e,t);n&&(r=n);const i=MR(e,t);i&&(r=i)}else r=je("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function A_(e){return xn(e.protocol,!0)}function UR(e,t){let r=!1;return t&&!e?r=!0:e&&Ms(e)&&e.length&&e.forEach(n=>{r=A_(n)}),r}function BR(e){return typeof e=="number"}function mi(e){return typeof e<"u"&&typeof e!==null}function HR(e){return!(!e||typeof e!="object"||!e.code||!kp(e.code,!1)||!e.message||!xn(e.message,!1))}function qR(e){return!(Xn(e)||!xn(e.method,!1))}function WR(e){return!(Xn(e)||Xn(e.result)&&Xn(e.error)||!kp(e.id,!1)||!xn(e.jsonrpc,!1))}function zR(e){return!(Xn(e)||!xn(e.name,!1))}function j1(e,t){return!(!Wu(t)||!ER(e).includes(t))}function VR(e,t,r){return xn(r,!1)?SR(e,t).includes(r):!1}function GR(e,t,r){return xn(r,!1)?CR(e,t).includes(r):!1}function F1(e,t,r){let n=null;const i=KR(e),o=ZR(t),c=Object.keys(i),a=Object.keys(o),m=U1(Object.keys(e)),f=U1(Object.keys(t)),g=m.filter(u=>!f.includes(u));return g.length&&(n=je("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${g.toString()}
      Received: ${Object.keys(t).toString()}`)),ra(c,a)||(n=je("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(u=>{if(!u.includes(":")||n)return;const d=sc(t[u].accounts);d.includes(u)||(n=je("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${u}
        Required: ${u}
        Approved: ${d.toString()}`))}),c.forEach(u=>{n||(ra(i[u].methods,o[u].methods)?ra(i[u].events,o[u].events)||(n=je("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${u}`)):n=je("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${u}`))}),n}function KR(e){const t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:(n=e[r].chains)==null||n.forEach(i=>{t[i]={methods:e[r].methods,events:e[r].events}})}),t}function U1(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function ZR(e){const t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{const n=sc(e[r].accounts);n==null||n.forEach(i=>{t[i]={accounts:e[r].accounts.filter(o=>o.includes(`${i}:`)),methods:e[r].methods,events:e[r].events}})}}),t}function YR(e,t){return kp(e,!1)&&e<=t.max&&e>=t.min}function B1(){const e=fl();return new Promise(t=>{switch(e){case Ti.browser:t(XR());break;case Ti.reactNative:t(JR());break;case Ti.node:t(QR());break;default:t(!0)}})}function XR(){return ul()&&(navigator==null?void 0:navigator.onLine)}async function JR(){if(ic()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e==null?void 0:e.isConnected}return!0}function QR(){return!0}function e$(e){switch(fl()){case Ti.browser:t$(e);break;case Ti.reactNative:r$(e);break}}function t$(e){!ic()&&ul()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function r$(e){ic()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>e(t==null?void 0:t.isConnected)))}const Bh={};let su=class{static get(t){return Bh[t]}static set(t,r){Bh[t]=r}static delete(t){delete Bh[t]}};const n$=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,i$=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,s$=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function o$(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){a$(e);return}return t}function a$(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function ou(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.at(-1)==='"'&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!s$.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(n$.test(e)||i$.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,o$)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function c$(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function Cn(e,...t){try{return c$(e(...t))}catch(r){return Promise.reject(r)}}function l$(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function u$(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function wu(e){if(l$(e))return String(e);if(u$(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return wu(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function O_(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const kd="base64:";function f$(e){if(typeof e=="string")return e;O_();const t=Buffer.from(e).toString("base64");return kd+t}function h$(e){return typeof e!="string"||!e.startsWith(kd)?e:(O_(),Buffer.from(e.slice(kd.length),"base64"))}function gi(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function d$(...e){return gi(e.join(":"))}function au(e){return e=gi(e),e?e+":":""}const p$="memory",g$=()=>{const e=new Map;return{name:p$,options:{},hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return Array.from(e.keys())},clear(){e.clear()},dispose(){e.clear()}}};function m$(e={}){const t={mounts:{"":e.driver||g$()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=f=>{for(const g of t.mountpoints)if(f.startsWith(g))return{base:g,relativeKey:f.slice(g.length),driver:t.mounts[g]};return{base:"",relativeKey:f,driver:t.mounts[""]}},n=(f,g)=>t.mountpoints.filter(u=>u.startsWith(f)||g&&f.startsWith(u)).map(u=>({relativeBase:f.length>u.length?f.slice(u.length):void 0,mountpoint:u,driver:t.mounts[u]})),i=(f,g)=>{if(t.watching){g=gi(g);for(const u of t.watchListeners)u(f,g)}},o=async()=>{if(!t.watching){t.watching=!0;for(const f in t.mounts)t.unwatch[f]=await H1(t.mounts[f],i,f)}},c=async()=>{if(t.watching){for(const f in t.unwatch)await t.unwatch[f]();t.unwatch={},t.watching=!1}},a=(f,g,u)=>{const d=new Map,p=h=>{let v=d.get(h.base);return v||(v={driver:h.driver,base:h.base,items:[]},d.set(h.base,v)),v};for(const h of f){const v=typeof h=="string",w=gi(v?h:h.key),_=v?void 0:h.value,y=v||!h.options?g:{...g,...h.options},C=r(w);p(C).items.push({key:w,value:_,relativeKey:C.relativeKey,options:y})}return Promise.all([...d.values()].map(h=>u(h))).then(h=>h.flat())},m={hasItem(f,g={}){f=gi(f);const{relativeKey:u,driver:d}=r(f);return Cn(d.hasItem,u,g)},getItem(f,g={}){f=gi(f);const{relativeKey:u,driver:d}=r(f);return Cn(d.getItem,u,g).then(p=>ou(p))},getItems(f,g){return a(f,g,u=>u.driver.getItems?Cn(u.driver.getItems,u.items.map(d=>({key:d.relativeKey,options:d.options})),g).then(d=>d.map(p=>({key:d$(u.base,p.key),value:ou(p.value)}))):Promise.all(u.items.map(d=>Cn(u.driver.getItem,d.relativeKey,d.options).then(p=>({key:d.key,value:ou(p)})))))},getItemRaw(f,g={}){f=gi(f);const{relativeKey:u,driver:d}=r(f);return d.getItemRaw?Cn(d.getItemRaw,u,g):Cn(d.getItem,u,g).then(p=>h$(p))},async setItem(f,g,u={}){if(g===void 0)return m.removeItem(f);f=gi(f);const{relativeKey:d,driver:p}=r(f);p.setItem&&(await Cn(p.setItem,d,wu(g),u),p.watch||i("update",f))},async setItems(f,g){await a(f,g,async u=>{u.driver.setItems&&await Cn(u.driver.setItems,u.items.map(d=>({key:d.relativeKey,value:wu(d.value),options:d.options})),g),u.driver.setItem&&await Promise.all(u.items.map(d=>Cn(u.driver.setItem,d.relativeKey,wu(d.value),d.options)))})},async setItemRaw(f,g,u={}){if(g===void 0)return m.removeItem(f,u);f=gi(f);const{relativeKey:d,driver:p}=r(f);if(p.setItemRaw)await Cn(p.setItemRaw,d,g,u);else if(p.setItem)await Cn(p.setItem,d,f$(g),u);else return;p.watch||i("update",f)},async removeItem(f,g={}){typeof g=="boolean"&&(g={removeMeta:g}),f=gi(f);const{relativeKey:u,driver:d}=r(f);d.removeItem&&(await Cn(d.removeItem,u,g),(g.removeMeta||g.removeMata)&&await Cn(d.removeItem,u+"$",g),d.watch||i("remove",f))},async getMeta(f,g={}){typeof g=="boolean"&&(g={nativeOnly:g}),f=gi(f);const{relativeKey:u,driver:d}=r(f),p=Object.create(null);if(d.getMeta&&Object.assign(p,await Cn(d.getMeta,u,g)),!g.nativeOnly){const h=await Cn(d.getItem,u+"$",g).then(v=>ou(v));h&&typeof h=="object"&&(typeof h.atime=="string"&&(h.atime=new Date(h.atime)),typeof h.mtime=="string"&&(h.mtime=new Date(h.mtime)),Object.assign(p,h))}return p},setMeta(f,g,u={}){return this.setItem(f+"$",g,u)},removeMeta(f,g={}){return this.removeItem(f+"$",g)},async getKeys(f,g={}){f=au(f);const u=n(f,!0);let d=[];const p=[];for(const h of u){const w=(await Cn(h.driver.getKeys,h.relativeBase,g)).map(_=>h.mountpoint+gi(_)).filter(_=>!d.some(y=>_.startsWith(y)));p.push(...w),d=[h.mountpoint,...d.filter(_=>!_.startsWith(h.mountpoint))]}return f?p.filter(h=>h.startsWith(f)&&!h.endsWith("$")):p.filter(h=>!h.endsWith("$"))},async clear(f,g={}){f=au(f),await Promise.all(n(f,!1).map(async u=>{if(u.driver.clear)return Cn(u.driver.clear,u.relativeBase,g);if(u.driver.removeItem){const d=await u.driver.getKeys(u.relativeBase||"",g);return Promise.all(d.map(p=>u.driver.removeItem(p,g)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(f=>q1(f)))},async watch(f){return await o(),t.watchListeners.push(f),async()=>{t.watchListeners=t.watchListeners.filter(g=>g!==f),t.watchListeners.length===0&&await c()}},async unwatch(){t.watchListeners=[],await c()},mount(f,g){if(f=au(f),f&&t.mounts[f])throw new Error(`already mounted at ${f}`);return f&&(t.mountpoints.push(f),t.mountpoints.sort((u,d)=>d.length-u.length)),t.mounts[f]=g,t.watching&&Promise.resolve(H1(g,i,f)).then(u=>{t.unwatch[f]=u}).catch(console.error),m},async unmount(f,g=!0){f=au(f),!(!f||!t.mounts[f])&&(t.watching&&f in t.unwatch&&(t.unwatch[f](),delete t.unwatch[f]),g&&await q1(t.mounts[f]),t.mountpoints=t.mountpoints.filter(u=>u!==f),delete t.mounts[f])},getMount(f=""){f=gi(f)+":";const g=r(f);return{driver:g.driver,base:g.base}},getMounts(f="",g={}){return f=gi(f),n(f,g.parents).map(d=>({driver:d.driver,base:d.mountpoint}))}};return m}function H1(e,t,r){return e.watch?e.watch((n,i)=>t(n,r+i)):()=>{}}async function q1(e){typeof e.dispose=="function"&&await Cn(e.dispose)}function ha(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function D_(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const n=ha(r);return(i,o)=>n.then(c=>o(c.transaction(t,i).objectStore(t)))}let Hh;function hl(){return Hh||(Hh=D_("keyval-store","keyval")),Hh}function W1(e,t=hl()){return t("readonly",r=>ha(r.get(e)))}function v$(e,t,r=hl()){return r("readwrite",n=>(n.put(t,e),ha(n.transaction)))}function b$(e,t=hl()){return t("readwrite",r=>(r.delete(e),ha(r.transaction)))}function y$(e=hl()){return e("readwrite",t=>(t.clear(),ha(t.transaction)))}function _$(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},ha(e.transaction)}function w$(e=hl()){return e("readonly",t=>{if(t.getAllKeys)return ha(t.getAllKeys());const r=[];return _$(t,n=>r.push(n.key)).then(()=>r)})}const E$=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),S$=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function dl(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return S$(e)}catch{return e}}function oa(e){return typeof e=="string"?e:E$(e)||""}const C$="idb-keyval";var x$=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=i=>t+i;let n;return e.dbName&&e.storeName&&(n=D_(e.dbName,e.storeName)),{name:C$,options:e,async hasItem(i){return!(typeof await W1(r(i),n)>"u")},async getItem(i){return await W1(r(i),n)??null},setItem(i,o){return v$(r(i),o,n)},removeItem(i){return b$(r(i),n)},getKeys(){return w$(n)},clear(){return y$(n)}}};const I$="WALLET_CONNECT_V2_INDEXED_DB",A$="keyvaluestorage";let O$=class{constructor(){this.indexedDb=m$({driver:x$({dbName:I$,storeName:A$})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,oa(r))}async removeItem(t){await this.indexedDb.removeItem(t)}};var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Eu={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof qh<"u"&&qh.localStorage?Eu.exports=qh.localStorage:typeof window<"u"&&window.localStorage?Eu.exports=window.localStorage:Eu.exports=new t})();function D$(e){var t;return[e[0],dl((t=e[1])!=null?t:"")]}class T${constructor(){this.localStorage=Eu.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(D$)}async getItem(t){const r=this.localStorage.getItem(t);if(r!==null)return dl(r)}async setItem(t,r){this.localStorage.setItem(t,oa(r))}async removeItem(t){this.localStorage.removeItem(t)}}const P$="wc_storage_version",z1=1,R$=async(e,t,r)=>{const n=P$,i=await t.getItem(n);if(i&&i>=z1){r(t);return}const o=await e.getKeys();if(!o.length){r(t);return}const c=[];for(;o.length;){const a=o.shift();if(!a)continue;const m=a.toLowerCase();if(m.includes("wc@")||m.includes("walletconnect")||m.includes("wc_")||m.includes("wallet_connect")){const f=await e.getItem(a);await t.setItem(a,f),c.push(a)}}await t.setItem(n,z1),r(t),$$(e,c)},$$=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})};let L$=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const t=new T$;this.storage=t;try{const r=new O$;R$(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}};var oc={},Oc={},Wh={},Dc={};let da=class{};const N$=Object.freeze(Object.defineProperty({__proto__:null,IEvents:da},Symbol.toStringTag,{value:"Module"})),k$=zv(N$);var V1;function M$(){if(V1)return Dc;V1=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.IHeartBeat=void 0;const e=k$;class t extends e.IEvents{constructor(n){super()}}return Dc.IHeartBeat=t,Dc}var G1;function T_(){return G1||(G1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Us.__exportStar(M$(),e)}(Wh)),Wh}var zh={},Qo={},K1;function j$(){if(K1)return Qo;K1=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.HEARTBEAT_EVENTS=Qo.HEARTBEAT_INTERVAL=void 0;const e=Xe;return Qo.HEARTBEAT_INTERVAL=e.FIVE_SECONDS,Qo.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Qo}var Z1;function P_(){return Z1||(Z1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Us.__exportStar(j$(),e)}(zh)),zh}var Y1;function F$(){if(Y1)return Oc;Y1=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.HeartBeat=void 0;const e=Us,t=Pi,r=Xe,n=T_(),i=P_();class o extends n.IHeartBeat{constructor(a){super(a),this.events=new t.EventEmitter,this.interval=i.HEARTBEAT_INTERVAL,this.interval=(a==null?void 0:a.interval)||i.HEARTBEAT_INTERVAL}static init(a){return e.__awaiter(this,void 0,void 0,function*(){const m=new o(a);return yield m.init(),m})}init(){return e.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(a,m){this.events.on(a,m)}once(a,m){this.events.once(a,m)}off(a,m){this.events.off(a,m)}removeListener(a,m){this.events.removeListener(a,m)}initialize(){return e.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),r.toMiliseconds(this.interval))})}pulse(){this.events.emit(i.HEARTBEAT_EVENTS.pulse)}}return Oc.HeartBeat=o,Oc}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Us;t.__exportStar(F$(),e),t.__exportStar(T_(),e),t.__exportStar(P_(),e)})(oc);var Qt={},Vh,X1;function U$(){if(X1)return Vh;X1=1;function e(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}Vh=t;function t(r,n,i){var o=i&&i.stringify||e,c=1;if(typeof r=="object"&&r!==null){var a=n.length+c;if(a===1)return r;var m=new Array(a);m[0]=o(r);for(var f=1;f<a;f++)m[f]=o(n[f]);return m.join(" ")}if(typeof r!="string")return r;var g=n.length;if(g===0)return r;for(var u="",d=1-c,p=-1,h=r&&r.length||0,v=0;v<h;){if(r.charCodeAt(v)===37&&v+1<h){switch(p=p>-1?p:0,r.charCodeAt(v+1)){case 100:case 102:if(d>=g||n[d]==null)break;p<v&&(u+=r.slice(p,v)),u+=Number(n[d]),p=v+2,v++;break;case 105:if(d>=g||n[d]==null)break;p<v&&(u+=r.slice(p,v)),u+=Math.floor(Number(n[d])),p=v+2,v++;break;case 79:case 111:case 106:if(d>=g||n[d]===void 0)break;p<v&&(u+=r.slice(p,v));var w=typeof n[d];if(w==="string"){u+="'"+n[d]+"'",p=v+2,v++;break}if(w==="function"){u+=n[d].name||"<anonymous>",p=v+2,v++;break}u+=o(n[d]),p=v+2,v++;break;case 115:if(d>=g)break;p<v&&(u+=r.slice(p,v)),u+=String(n[d]),p=v+2,v++;break;case 37:p<v&&(u+=r.slice(p,v)),u+="%",p=v+2,v++,d--;break}++d}++v}return p===-1?r:(p<h&&(u+=r.slice(p)),u)}return Vh}var Gh,J1;function B$(){if(J1)return Gh;J1=1;const e=U$();Gh=i;const t=D().console||{},r={mapHttpRequest:h,mapHttpResponse:h,wrapRequestSerializer:v,wrapResponseSerializer:v,wrapErrorSerializer:v,req:h,res:h,err:d};function n(O,E){return Array.isArray(O)?O.filter(function(x){return x!=="!stdSerializers.err"}):O===!0?Object.keys(E):!1}function i(O){O=O||{},O.browser=O.browser||{};const E=O.browser.transmit;if(E&&typeof E.send!="function")throw Error("pino: transmit option must have a send function");const b=O.browser.write||t;O.browser.write&&(O.browser.asObject=!0);const x=O.serializers||{},A=n(O.browser.serialize,x);let N=O.browser.serialize;Array.isArray(O.browser.serialize)&&O.browser.serialize.indexOf("!stdSerializers.err")>-1&&(N=!1);const j=["error","fatal","warn","info","debug","trace"];typeof b=="function"&&(b.error=b.fatal=b.warn=b.info=b.debug=b.trace=b),O.enabled===!1&&(O.level="silent");const B=O.level||"info",$=Object.create(b);$.log||($.log=w),Object.defineProperty($,"levelVal",{get:q}),Object.defineProperty($,"level",{get:W,set:z});const L={transmit:E,serialize:A,asObject:O.browser.asObject,levels:j,timestamp:p(O)};$.levels=i.levels,$.level=B,$.setMaxListeners=$.getMaxListeners=$.emit=$.addListener=$.on=$.prependListener=$.once=$.prependOnceListener=$.removeListener=$.removeAllListeners=$.listeners=$.listenerCount=$.eventNames=$.write=$.flush=w,$.serializers=x,$._serialize=A,$._stdErrSerialize=N,$.child=K,E&&($._logEvent=u());function q(){return this.level==="silent"?1/0:this.levels.values[this.level]}function W(){return this._level}function z(se){if(se!=="silent"&&!this.levels.values[se])throw Error("unknown level "+se);this._level=se,o(L,$,"error","log"),o(L,$,"fatal","error"),o(L,$,"warn","error"),o(L,$,"info","log"),o(L,$,"debug","log"),o(L,$,"trace","log")}function K(se,re){if(!se)throw new Error("missing bindings for child Pino");re=re||{},A&&se.serializers&&(re.serializers=se.serializers);const we=re.serializers;if(A&&we){var fe=Object.assign({},x,we),me=O.browser.serialize===!0?Object.keys(fe):A;delete se.serializers,m([se],me,fe,this._stdErrSerialize)}function ge(Ie){this._childLevel=(Ie._childLevel|0)+1,this.error=f(Ie,se,"error"),this.fatal=f(Ie,se,"fatal"),this.warn=f(Ie,se,"warn"),this.info=f(Ie,se,"info"),this.debug=f(Ie,se,"debug"),this.trace=f(Ie,se,"trace"),fe&&(this.serializers=fe,this._serialize=me),E&&(this._logEvent=u([].concat(Ie._logEvent.bindings,se)))}return ge.prototype=this,new ge(this)}return $}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:_,epochTime:y,unixTime:C,isoTime:I});function o(O,E,b,x){const A=Object.getPrototypeOf(E);E[b]=E.levelVal>E.levels.values[b]?w:A[b]?A[b]:t[b]||t[x]||w,c(O,E,b)}function c(O,E,b){!O.transmit&&E[b]===w||(E[b]=function(x){return function(){const N=O.timestamp(),j=new Array(arguments.length),B=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var $=0;$<j.length;$++)j[$]=arguments[$];if(O.serialize&&!O.asObject&&m(j,this._serialize,this.serializers,this._stdErrSerialize),O.asObject?x.call(B,a(this,b,j,N)):x.apply(B,j),O.transmit){const L=O.transmit.level||E.level,q=i.levels.values[L],W=i.levels.values[b];if(W<q)return;g(this,{ts:N,methodLevel:b,methodValue:W,transmitLevel:L,transmitValue:i.levels.values[O.transmit.level||E.level],send:O.transmit.send,val:E.levelVal},j)}}}(E[b]))}function a(O,E,b,x){O._serialize&&m(b,O._serialize,O.serializers,O._stdErrSerialize);const A=b.slice();let N=A[0];const j={};x&&(j.time=x),j.level=i.levels.values[E];let B=(O._childLevel|0)+1;if(B<1&&(B=1),N!==null&&typeof N=="object"){for(;B--&&typeof A[0]=="object";)Object.assign(j,A.shift());N=A.length?e(A.shift(),A):void 0}else typeof N=="string"&&(N=e(A.shift(),A));return N!==void 0&&(j.msg=N),j}function m(O,E,b,x){for(const A in O)if(x&&O[A]instanceof Error)O[A]=i.stdSerializers.err(O[A]);else if(typeof O[A]=="object"&&!Array.isArray(O[A]))for(const N in O[A])E&&E.indexOf(N)>-1&&N in b&&(O[A][N]=b[N](O[A][N]))}function f(O,E,b){return function(){const x=new Array(1+arguments.length);x[0]=E;for(var A=1;A<x.length;A++)x[A]=arguments[A-1];return O[b].apply(this,x)}}function g(O,E,b){const x=E.send,A=E.ts,N=E.methodLevel,j=E.methodValue,B=E.val,$=O._logEvent.bindings;m(b,O._serialize||Object.keys(O.serializers),O.serializers,O._stdErrSerialize===void 0?!0:O._stdErrSerialize),O._logEvent.ts=A,O._logEvent.messages=b.filter(function(L){return $.indexOf(L)===-1}),O._logEvent.level.label=N,O._logEvent.level.value=j,x(N,O._logEvent,B),O._logEvent=u($)}function u(O){return{ts:0,messages:[],bindings:O||[],level:{label:"",value:0}}}function d(O){const E={type:O.constructor.name,msg:O.message,stack:O.stack};for(const b in O)E[b]===void 0&&(E[b]=O[b]);return E}function p(O){return typeof O.timestamp=="function"?O.timestamp:O.timestamp===!1?_:y}function h(){return{}}function v(O){return O}function w(){}function _(){return!1}function y(){return Date.now()}function C(){return Math.round(Date.now()/1e3)}function I(){return new Date(Date.now()).toISOString()}function D(){function O(E){return typeof E<"u"&&E}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return O(self)||O(window)||O(this)||{}}}return Gh}var ea={},Q1;function R_(){return Q1||(Q1=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.PINO_CUSTOM_CONTEXT_KEY=ea.PINO_LOGGER_DEFAULTS=void 0,ea.PINO_LOGGER_DEFAULTS={level:"info"},ea.PINO_CUSTOM_CONTEXT_KEY="custom_context"),ea}var Kn={},ev;function H$(){if(ev)return Kn;ev=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.generateChildLogger=Kn.formatChildLoggerContext=Kn.getLoggerContext=Kn.setBrowserLoggerContext=Kn.getBrowserLoggerContext=Kn.getDefaultLoggerOptions=void 0;const e=R_();function t(a){return Object.assign(Object.assign({},a),{level:(a==null?void 0:a.level)||e.PINO_LOGGER_DEFAULTS.level})}Kn.getDefaultLoggerOptions=t;function r(a,m=e.PINO_CUSTOM_CONTEXT_KEY){return a[m]||""}Kn.getBrowserLoggerContext=r;function n(a,m,f=e.PINO_CUSTOM_CONTEXT_KEY){return a[f]=m,a}Kn.setBrowserLoggerContext=n;function i(a,m=e.PINO_CUSTOM_CONTEXT_KEY){let f="";return typeof a.bindings>"u"?f=r(a,m):f=a.bindings().context||"",f}Kn.getLoggerContext=i;function o(a,m,f=e.PINO_CUSTOM_CONTEXT_KEY){const g=i(a,f);return g.trim()?`${g}/${m}`:m}Kn.formatChildLoggerContext=o;function c(a,m,f=e.PINO_CUSTOM_CONTEXT_KEY){const g=o(a,m,f),u=a.child({context:g});return n(u,g,f)}return Kn.generateChildLogger=c,Kn}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.pino=void 0;const t=Us,r=t.__importDefault(B$());Object.defineProperty(e,"pino",{enumerable:!0,get:function(){return r.default}}),t.__exportStar(R_(),e),t.__exportStar(H$(),e)})(Qt);class q$ extends da{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}let W$=class extends da{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}},z$=class{constructor(t,r){this.logger=t,this.core=r}},V$=class extends da{constructor(t,r){super(),this.relayer=t,this.logger=r}},G$=class extends da{constructor(t){super()}},K$=class{constructor(t,r,n,i){this.core=t,this.logger=r,this.name=n}};class Z$ extends da{constructor(t,r){super(),this.relayer=t,this.logger=r}}let Y$=class extends da{constructor(t,r){super(),this.core=t,this.logger=r}},X$=class{constructor(t,r){this.projectId=t,this.logger=r}},J$=class{constructor(t){this.opts=t,this.protocol="wc",this.version=2}},Q$=class{constructor(t){this.client=t}};var Mp={},$_={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Tt,r=Ri;e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var n=function(){function a(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},a.prototype.update=function(m,f){if(f===void 0&&(f=m.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var g=0;if(this._bytesHashed+=f,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&f>0;)this._buffer[this._bufferLength++]=m[g++],f--;this._bufferLength===this.blockSize&&(o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(f>=this.blockSize&&(g=o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,m,g,f),f%=this.blockSize);f>0;)this._buffer[this._bufferLength++]=m[g++],f--;return this},a.prototype.finish=function(m){if(!this._finished){var f=this._bytesHashed,g=this._bufferLength,u=f/536870912|0,d=f<<3,p=f%128<112?128:256;this._buffer[g]=128;for(var h=g+1;h<p-8;h++)this._buffer[h]=0;t.writeUint32BE(u,this._buffer,p-8),t.writeUint32BE(d,this._buffer,p-4),o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,p),this._finished=!0}for(var h=0;h<this.digestLength/8;h++)t.writeUint32BE(this._stateHi[h],m,h*8),t.writeUint32BE(this._stateLo[h],m,h*8+4);return this},a.prototype.digest=function(){var m=new Uint8Array(this.digestLength);return this.finish(m),m},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(m){return this._stateHi.set(m.stateHi),this._stateLo.set(m.stateLo),this._bufferLength=m.bufferLength,m.buffer&&this._buffer.set(m.buffer),this._bytesHashed=m.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(m){r.wipe(m.stateHi),r.wipe(m.stateLo),m.buffer&&r.wipe(m.buffer),m.bufferLength=0,m.bytesHashed=0},a}();e.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function o(a,m,f,g,u,d,p){for(var h=f[0],v=f[1],w=f[2],_=f[3],y=f[4],C=f[5],I=f[6],D=f[7],O=g[0],E=g[1],b=g[2],x=g[3],A=g[4],N=g[5],j=g[6],B=g[7],$,L,q,W,z,K,se,re;p>=128;){for(var we=0;we<16;we++){var fe=8*we+d;a[we]=t.readUint32BE(u,fe),m[we]=t.readUint32BE(u,fe+4)}for(var we=0;we<80;we++){var me=h,ge=v,Ie=w,ne=_,J=y,te=C,R=I,Z=D,Oe=O,Le=E,Ne=b,ke=x,Et=A,dt=N,ar=j,cr=B;if($=D,L=B,z=L&65535,K=L>>>16,se=$&65535,re=$>>>16,$=(y>>>14|A<<32-14)^(y>>>18|A<<32-18)^(A>>>41-32|y<<32-(41-32)),L=(A>>>14|y<<32-14)^(A>>>18|y<<32-18)^(y>>>41-32|A<<32-(41-32)),z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,$=y&C^~y&I,L=A&N^~A&j,z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,$=i[we*2],L=i[we*2+1],z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,$=a[we%16],L=m[we%16],z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,K+=z>>>16,se+=K>>>16,re+=se>>>16,q=se&65535|re<<16,W=z&65535|K<<16,$=q,L=W,z=L&65535,K=L>>>16,se=$&65535,re=$>>>16,$=(h>>>28|O<<32-28)^(O>>>34-32|h<<32-(34-32))^(O>>>39-32|h<<32-(39-32)),L=(O>>>28|h<<32-28)^(h>>>34-32|O<<32-(34-32))^(h>>>39-32|O<<32-(39-32)),z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,$=h&v^h&w^v&w,L=O&E^O&b^E&b,z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,K+=z>>>16,se+=K>>>16,re+=se>>>16,Z=se&65535|re<<16,cr=z&65535|K<<16,$=ne,L=ke,z=L&65535,K=L>>>16,se=$&65535,re=$>>>16,$=q,L=W,z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,K+=z>>>16,se+=K>>>16,re+=se>>>16,ne=se&65535|re<<16,ke=z&65535|K<<16,v=me,w=ge,_=Ie,y=ne,C=J,I=te,D=R,h=Z,E=Oe,b=Le,x=Ne,A=ke,N=Et,j=dt,B=ar,O=cr,we%16===15)for(var fe=0;fe<16;fe++)$=a[fe],L=m[fe],z=L&65535,K=L>>>16,se=$&65535,re=$>>>16,$=a[(fe+9)%16],L=m[(fe+9)%16],z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,q=a[(fe+1)%16],W=m[(fe+1)%16],$=(q>>>1|W<<32-1)^(q>>>8|W<<32-8)^q>>>7,L=(W>>>1|q<<32-1)^(W>>>8|q<<32-8)^(W>>>7|q<<32-7),z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,q=a[(fe+14)%16],W=m[(fe+14)%16],$=(q>>>19|W<<32-19)^(W>>>61-32|q<<32-(61-32))^q>>>6,L=(W>>>19|q<<32-19)^(q>>>61-32|W<<32-(61-32))^(W>>>6|q<<32-6),z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,K+=z>>>16,se+=K>>>16,re+=se>>>16,a[fe]=se&65535|re<<16,m[fe]=z&65535|K<<16}$=h,L=O,z=L&65535,K=L>>>16,se=$&65535,re=$>>>16,$=f[0],L=g[0],z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,K+=z>>>16,se+=K>>>16,re+=se>>>16,f[0]=h=se&65535|re<<16,g[0]=O=z&65535|K<<16,$=v,L=E,z=L&65535,K=L>>>16,se=$&65535,re=$>>>16,$=f[1],L=g[1],z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,K+=z>>>16,se+=K>>>16,re+=se>>>16,f[1]=v=se&65535|re<<16,g[1]=E=z&65535|K<<16,$=w,L=b,z=L&65535,K=L>>>16,se=$&65535,re=$>>>16,$=f[2],L=g[2],z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,K+=z>>>16,se+=K>>>16,re+=se>>>16,f[2]=w=se&65535|re<<16,g[2]=b=z&65535|K<<16,$=_,L=x,z=L&65535,K=L>>>16,se=$&65535,re=$>>>16,$=f[3],L=g[3],z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,K+=z>>>16,se+=K>>>16,re+=se>>>16,f[3]=_=se&65535|re<<16,g[3]=x=z&65535|K<<16,$=y,L=A,z=L&65535,K=L>>>16,se=$&65535,re=$>>>16,$=f[4],L=g[4],z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,K+=z>>>16,se+=K>>>16,re+=se>>>16,f[4]=y=se&65535|re<<16,g[4]=A=z&65535|K<<16,$=C,L=N,z=L&65535,K=L>>>16,se=$&65535,re=$>>>16,$=f[5],L=g[5],z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,K+=z>>>16,se+=K>>>16,re+=se>>>16,f[5]=C=se&65535|re<<16,g[5]=N=z&65535|K<<16,$=I,L=j,z=L&65535,K=L>>>16,se=$&65535,re=$>>>16,$=f[6],L=g[6],z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,K+=z>>>16,se+=K>>>16,re+=se>>>16,f[6]=I=se&65535|re<<16,g[6]=j=z&65535|K<<16,$=D,L=B,z=L&65535,K=L>>>16,se=$&65535,re=$>>>16,$=f[7],L=g[7],z+=L&65535,K+=L>>>16,se+=$&65535,re+=$>>>16,K+=z>>>16,se+=K>>>16,re+=se>>>16,f[7]=D=se&65535|re<<16,g[7]=B=z&65535|K<<16,d+=128,p-=128}return d}function c(a){var m=new n;m.update(a);var f=m.digest();return m.clean(),f}e.hash=c})($_);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=rc,r=$_,n=Ri;e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function i(ne){const J=new Float64Array(16);if(ne)for(let te=0;te<ne.length;te++)J[te]=ne[te];return J}const o=new Uint8Array(32);o[0]=9;const c=i(),a=i([1]),m=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(ne,J){for(let te=0;te<16;te++)ne[te]=J[te]|0}function h(ne){let J=1;for(let te=0;te<16;te++){let R=ne[te]+J+65535;J=Math.floor(R/65536),ne[te]=R-J*65536}ne[0]+=J-1+37*(J-1)}function v(ne,J,te){const R=~(te-1);for(let Z=0;Z<16;Z++){const Oe=R&(ne[Z]^J[Z]);ne[Z]^=Oe,J[Z]^=Oe}}function w(ne,J){const te=i(),R=i();for(let Z=0;Z<16;Z++)R[Z]=J[Z];h(R),h(R),h(R);for(let Z=0;Z<2;Z++){te[0]=R[0]-65517;for(let Le=1;Le<15;Le++)te[Le]=R[Le]-65535-(te[Le-1]>>16&1),te[Le-1]&=65535;te[15]=R[15]-32767-(te[14]>>16&1);const Oe=te[15]>>16&1;te[14]&=65535,v(R,te,1-Oe)}for(let Z=0;Z<16;Z++)ne[2*Z]=R[Z]&255,ne[2*Z+1]=R[Z]>>8}function _(ne,J){let te=0;for(let R=0;R<32;R++)te|=ne[R]^J[R];return(1&te-1>>>8)-1}function y(ne,J){const te=new Uint8Array(32),R=new Uint8Array(32);return w(te,ne),w(R,J),_(te,R)}function C(ne){const J=new Uint8Array(32);return w(J,ne),J[0]&1}function I(ne,J){for(let te=0;te<16;te++)ne[te]=J[2*te]+(J[2*te+1]<<8);ne[15]&=32767}function D(ne,J,te){for(let R=0;R<16;R++)ne[R]=J[R]+te[R]}function O(ne,J,te){for(let R=0;R<16;R++)ne[R]=J[R]-te[R]}function E(ne,J,te){let R,Z,Oe=0,Le=0,Ne=0,ke=0,Et=0,dt=0,ar=0,cr=0,pt=0,rt=0,ct=0,et=0,gt=0,ot=0,vt=0,nt=0,it=0,bt=0,tt=0,_t=0,wt=0,Ot=0,yt=0,mt=0,mr=0,$r=0,vn=0,lr=0,en=0,Hn=0,tn=0,rr=te[0],Bt=te[1],ur=te[2],fr=te[3],Kt=te[4],er=te[5],Er=te[6],Mt=te[7],hr=te[8],dr=te[9],ir=te[10],vr=te[11],br=te[12],xt=te[13],Tr=te[14],yr=te[15];R=J[0],Oe+=R*rr,Le+=R*Bt,Ne+=R*ur,ke+=R*fr,Et+=R*Kt,dt+=R*er,ar+=R*Er,cr+=R*Mt,pt+=R*hr,rt+=R*dr,ct+=R*ir,et+=R*vr,gt+=R*br,ot+=R*xt,vt+=R*Tr,nt+=R*yr,R=J[1],Le+=R*rr,Ne+=R*Bt,ke+=R*ur,Et+=R*fr,dt+=R*Kt,ar+=R*er,cr+=R*Er,pt+=R*Mt,rt+=R*hr,ct+=R*dr,et+=R*ir,gt+=R*vr,ot+=R*br,vt+=R*xt,nt+=R*Tr,it+=R*yr,R=J[2],Ne+=R*rr,ke+=R*Bt,Et+=R*ur,dt+=R*fr,ar+=R*Kt,cr+=R*er,pt+=R*Er,rt+=R*Mt,ct+=R*hr,et+=R*dr,gt+=R*ir,ot+=R*vr,vt+=R*br,nt+=R*xt,it+=R*Tr,bt+=R*yr,R=J[3],ke+=R*rr,Et+=R*Bt,dt+=R*ur,ar+=R*fr,cr+=R*Kt,pt+=R*er,rt+=R*Er,ct+=R*Mt,et+=R*hr,gt+=R*dr,ot+=R*ir,vt+=R*vr,nt+=R*br,it+=R*xt,bt+=R*Tr,tt+=R*yr,R=J[4],Et+=R*rr,dt+=R*Bt,ar+=R*ur,cr+=R*fr,pt+=R*Kt,rt+=R*er,ct+=R*Er,et+=R*Mt,gt+=R*hr,ot+=R*dr,vt+=R*ir,nt+=R*vr,it+=R*br,bt+=R*xt,tt+=R*Tr,_t+=R*yr,R=J[5],dt+=R*rr,ar+=R*Bt,cr+=R*ur,pt+=R*fr,rt+=R*Kt,ct+=R*er,et+=R*Er,gt+=R*Mt,ot+=R*hr,vt+=R*dr,nt+=R*ir,it+=R*vr,bt+=R*br,tt+=R*xt,_t+=R*Tr,wt+=R*yr,R=J[6],ar+=R*rr,cr+=R*Bt,pt+=R*ur,rt+=R*fr,ct+=R*Kt,et+=R*er,gt+=R*Er,ot+=R*Mt,vt+=R*hr,nt+=R*dr,it+=R*ir,bt+=R*vr,tt+=R*br,_t+=R*xt,wt+=R*Tr,Ot+=R*yr,R=J[7],cr+=R*rr,pt+=R*Bt,rt+=R*ur,ct+=R*fr,et+=R*Kt,gt+=R*er,ot+=R*Er,vt+=R*Mt,nt+=R*hr,it+=R*dr,bt+=R*ir,tt+=R*vr,_t+=R*br,wt+=R*xt,Ot+=R*Tr,yt+=R*yr,R=J[8],pt+=R*rr,rt+=R*Bt,ct+=R*ur,et+=R*fr,gt+=R*Kt,ot+=R*er,vt+=R*Er,nt+=R*Mt,it+=R*hr,bt+=R*dr,tt+=R*ir,_t+=R*vr,wt+=R*br,Ot+=R*xt,yt+=R*Tr,mt+=R*yr,R=J[9],rt+=R*rr,ct+=R*Bt,et+=R*ur,gt+=R*fr,ot+=R*Kt,vt+=R*er,nt+=R*Er,it+=R*Mt,bt+=R*hr,tt+=R*dr,_t+=R*ir,wt+=R*vr,Ot+=R*br,yt+=R*xt,mt+=R*Tr,mr+=R*yr,R=J[10],ct+=R*rr,et+=R*Bt,gt+=R*ur,ot+=R*fr,vt+=R*Kt,nt+=R*er,it+=R*Er,bt+=R*Mt,tt+=R*hr,_t+=R*dr,wt+=R*ir,Ot+=R*vr,yt+=R*br,mt+=R*xt,mr+=R*Tr,$r+=R*yr,R=J[11],et+=R*rr,gt+=R*Bt,ot+=R*ur,vt+=R*fr,nt+=R*Kt,it+=R*er,bt+=R*Er,tt+=R*Mt,_t+=R*hr,wt+=R*dr,Ot+=R*ir,yt+=R*vr,mt+=R*br,mr+=R*xt,$r+=R*Tr,vn+=R*yr,R=J[12],gt+=R*rr,ot+=R*Bt,vt+=R*ur,nt+=R*fr,it+=R*Kt,bt+=R*er,tt+=R*Er,_t+=R*Mt,wt+=R*hr,Ot+=R*dr,yt+=R*ir,mt+=R*vr,mr+=R*br,$r+=R*xt,vn+=R*Tr,lr+=R*yr,R=J[13],ot+=R*rr,vt+=R*Bt,nt+=R*ur,it+=R*fr,bt+=R*Kt,tt+=R*er,_t+=R*Er,wt+=R*Mt,Ot+=R*hr,yt+=R*dr,mt+=R*ir,mr+=R*vr,$r+=R*br,vn+=R*xt,lr+=R*Tr,en+=R*yr,R=J[14],vt+=R*rr,nt+=R*Bt,it+=R*ur,bt+=R*fr,tt+=R*Kt,_t+=R*er,wt+=R*Er,Ot+=R*Mt,yt+=R*hr,mt+=R*dr,mr+=R*ir,$r+=R*vr,vn+=R*br,lr+=R*xt,en+=R*Tr,Hn+=R*yr,R=J[15],nt+=R*rr,it+=R*Bt,bt+=R*ur,tt+=R*fr,_t+=R*Kt,wt+=R*er,Ot+=R*Er,yt+=R*Mt,mt+=R*hr,mr+=R*dr,$r+=R*ir,vn+=R*vr,lr+=R*br,en+=R*xt,Hn+=R*Tr,tn+=R*yr,Oe+=38*it,Le+=38*bt,Ne+=38*tt,ke+=38*_t,Et+=38*wt,dt+=38*Ot,ar+=38*yt,cr+=38*mt,pt+=38*mr,rt+=38*$r,ct+=38*vn,et+=38*lr,gt+=38*en,ot+=38*Hn,vt+=38*tn,Z=1,R=Oe+Z+65535,Z=Math.floor(R/65536),Oe=R-Z*65536,R=Le+Z+65535,Z=Math.floor(R/65536),Le=R-Z*65536,R=Ne+Z+65535,Z=Math.floor(R/65536),Ne=R-Z*65536,R=ke+Z+65535,Z=Math.floor(R/65536),ke=R-Z*65536,R=Et+Z+65535,Z=Math.floor(R/65536),Et=R-Z*65536,R=dt+Z+65535,Z=Math.floor(R/65536),dt=R-Z*65536,R=ar+Z+65535,Z=Math.floor(R/65536),ar=R-Z*65536,R=cr+Z+65535,Z=Math.floor(R/65536),cr=R-Z*65536,R=pt+Z+65535,Z=Math.floor(R/65536),pt=R-Z*65536,R=rt+Z+65535,Z=Math.floor(R/65536),rt=R-Z*65536,R=ct+Z+65535,Z=Math.floor(R/65536),ct=R-Z*65536,R=et+Z+65535,Z=Math.floor(R/65536),et=R-Z*65536,R=gt+Z+65535,Z=Math.floor(R/65536),gt=R-Z*65536,R=ot+Z+65535,Z=Math.floor(R/65536),ot=R-Z*65536,R=vt+Z+65535,Z=Math.floor(R/65536),vt=R-Z*65536,R=nt+Z+65535,Z=Math.floor(R/65536),nt=R-Z*65536,Oe+=Z-1+37*(Z-1),Z=1,R=Oe+Z+65535,Z=Math.floor(R/65536),Oe=R-Z*65536,R=Le+Z+65535,Z=Math.floor(R/65536),Le=R-Z*65536,R=Ne+Z+65535,Z=Math.floor(R/65536),Ne=R-Z*65536,R=ke+Z+65535,Z=Math.floor(R/65536),ke=R-Z*65536,R=Et+Z+65535,Z=Math.floor(R/65536),Et=R-Z*65536,R=dt+Z+65535,Z=Math.floor(R/65536),dt=R-Z*65536,R=ar+Z+65535,Z=Math.floor(R/65536),ar=R-Z*65536,R=cr+Z+65535,Z=Math.floor(R/65536),cr=R-Z*65536,R=pt+Z+65535,Z=Math.floor(R/65536),pt=R-Z*65536,R=rt+Z+65535,Z=Math.floor(R/65536),rt=R-Z*65536,R=ct+Z+65535,Z=Math.floor(R/65536),ct=R-Z*65536,R=et+Z+65535,Z=Math.floor(R/65536),et=R-Z*65536,R=gt+Z+65535,Z=Math.floor(R/65536),gt=R-Z*65536,R=ot+Z+65535,Z=Math.floor(R/65536),ot=R-Z*65536,R=vt+Z+65535,Z=Math.floor(R/65536),vt=R-Z*65536,R=nt+Z+65535,Z=Math.floor(R/65536),nt=R-Z*65536,Oe+=Z-1+37*(Z-1),ne[0]=Oe,ne[1]=Le,ne[2]=Ne,ne[3]=ke,ne[4]=Et,ne[5]=dt,ne[6]=ar,ne[7]=cr,ne[8]=pt,ne[9]=rt,ne[10]=ct,ne[11]=et,ne[12]=gt,ne[13]=ot,ne[14]=vt,ne[15]=nt}function b(ne,J){E(ne,J,J)}function x(ne,J){const te=i();let R;for(R=0;R<16;R++)te[R]=J[R];for(R=253;R>=0;R--)b(te,te),R!==2&&R!==4&&E(te,te,J);for(R=0;R<16;R++)ne[R]=te[R]}function A(ne,J){const te=i();let R;for(R=0;R<16;R++)te[R]=J[R];for(R=250;R>=0;R--)b(te,te),R!==1&&E(te,te,J);for(R=0;R<16;R++)ne[R]=te[R]}function N(ne,J){const te=i(),R=i(),Z=i(),Oe=i(),Le=i(),Ne=i(),ke=i(),Et=i(),dt=i();O(te,ne[1],ne[0]),O(dt,J[1],J[0]),E(te,te,dt),D(R,ne[0],ne[1]),D(dt,J[0],J[1]),E(R,R,dt),E(Z,ne[3],J[3]),E(Z,Z,f),E(Oe,ne[2],J[2]),D(Oe,Oe,Oe),O(Le,R,te),O(Ne,Oe,Z),D(ke,Oe,Z),D(Et,R,te),E(ne[0],Le,Ne),E(ne[1],Et,ke),E(ne[2],ke,Ne),E(ne[3],Le,Et)}function j(ne,J,te){for(let R=0;R<4;R++)v(ne[R],J[R],te)}function B(ne,J){const te=i(),R=i(),Z=i();x(Z,J[2]),E(te,J[0],Z),E(R,J[1],Z),w(ne,R),ne[31]^=C(te)<<7}function $(ne,J,te){p(ne[0],c),p(ne[1],a),p(ne[2],a),p(ne[3],c);for(let R=255;R>=0;--R){const Z=te[R/8|0]>>(R&7)&1;j(ne,J,Z),N(J,ne),N(ne,ne),j(ne,J,Z)}}function L(ne,J){const te=[i(),i(),i(),i()];p(te[0],g),p(te[1],u),p(te[2],a),E(te[3],g,u),$(ne,te,J)}function q(ne){if(ne.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const J=(0,r.hash)(ne);J[0]&=248,J[31]&=127,J[31]|=64;const te=new Uint8Array(32),R=[i(),i(),i(),i()];L(R,J),B(te,R);const Z=new Uint8Array(64);return Z.set(ne),Z.set(te,32),{publicKey:te,secretKey:Z}}e.generateKeyPairFromSeed=q;function W(ne){const J=(0,t.randomBytes)(32,ne),te=q(J);return(0,n.wipe)(J),te}e.generateKeyPair=W;function z(ne){if(ne.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(ne.subarray(32))}e.extractPublicKeyFromSecretKey=z;const K=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function se(ne,J){let te,R,Z,Oe;for(R=63;R>=32;--R){for(te=0,Z=R-32,Oe=R-12;Z<Oe;++Z)J[Z]+=te-16*J[R]*K[Z-(R-32)],te=Math.floor((J[Z]+128)/256),J[Z]-=te*256;J[Z]+=te,J[R]=0}for(te=0,Z=0;Z<32;Z++)J[Z]+=te-(J[31]>>4)*K[Z],te=J[Z]>>8,J[Z]&=255;for(Z=0;Z<32;Z++)J[Z]-=te*K[Z];for(R=0;R<32;R++)J[R+1]+=J[R]>>8,ne[R]=J[R]&255}function re(ne){const J=new Float64Array(64);for(let te=0;te<64;te++)J[te]=ne[te];for(let te=0;te<64;te++)ne[te]=0;se(ne,J)}function we(ne,J){const te=new Float64Array(64),R=[i(),i(),i(),i()],Z=(0,r.hash)(ne.subarray(0,32));Z[0]&=248,Z[31]&=127,Z[31]|=64;const Oe=new Uint8Array(64);Oe.set(Z.subarray(32),32);const Le=new r.SHA512;Le.update(Oe.subarray(32)),Le.update(J);const Ne=Le.digest();Le.clean(),re(Ne),L(R,Ne),B(Oe,R),Le.reset(),Le.update(Oe.subarray(0,32)),Le.update(ne.subarray(32)),Le.update(J);const ke=Le.digest();re(ke);for(let Et=0;Et<32;Et++)te[Et]=Ne[Et];for(let Et=0;Et<32;Et++)for(let dt=0;dt<32;dt++)te[Et+dt]+=ke[Et]*Z[dt];return se(Oe.subarray(32),te),Oe}e.sign=we;function fe(ne,J){const te=i(),R=i(),Z=i(),Oe=i(),Le=i(),Ne=i(),ke=i();return p(ne[2],a),I(ne[1],J),b(Z,ne[1]),E(Oe,Z,m),O(Z,Z,ne[2]),D(Oe,ne[2],Oe),b(Le,Oe),b(Ne,Le),E(ke,Ne,Le),E(te,ke,Z),E(te,te,Oe),A(te,te),E(te,te,Z),E(te,te,Oe),E(te,te,Oe),E(ne[0],te,Oe),b(R,ne[0]),E(R,R,Oe),y(R,Z)&&E(ne[0],ne[0],d),b(R,ne[0]),E(R,R,Oe),y(R,Z)?-1:(C(ne[0])===J[31]>>7&&O(ne[0],c,ne[0]),E(ne[3],ne[0],ne[1]),0)}function me(ne,J,te){const R=new Uint8Array(32),Z=[i(),i(),i(),i()],Oe=[i(),i(),i(),i()];if(te.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(fe(Oe,ne))return!1;const Le=new r.SHA512;Le.update(te.subarray(0,32)),Le.update(ne),Le.update(J);const Ne=Le.digest();return re(Ne),$(Z,Oe,Ne),L(Oe,te.subarray(32)),N(Z,Oe),B(R,Z),!_(te,R)}e.verify=me;function ge(ne){let J=[i(),i(),i(),i()];if(fe(J,ne))throw new Error("Ed25519: invalid public key");let te=i(),R=i(),Z=J[1];D(te,a,Z),O(R,a,Z),x(R,R),E(te,te,R);let Oe=new Uint8Array(32);return w(Oe,te),Oe}e.convertPublicKeyToX25519=ge;function Ie(ne){const J=(0,r.hash)(ne.subarray(0,32));J[0]&=248,J[31]&=127,J[31]|=64;const te=new Uint8Array(J.subarray(0,32));return(0,n.wipe)(J),te}e.convertSecretKeyToX25519=Ie})(Mp);const eL="EdDSA",tL="JWT",L_=".",N_="base64url",rL="utf8",nL="utf8",iL=":",sL="did",oL="key",tv="base58btc",aL="z",cL="K36",lL=32;function zu(e){return ti(vi(oa(e),rL),N_)}function k_(e){const t=vi(cL,tv),r=aL+ti(Ad([t,e]),tv);return[sL,oL,r].join(iL)}function uL(e){return ti(e,N_)}function fL(e){return vi([zu(e.header),zu(e.payload)].join(L_),nL)}function hL(e){return[zu(e.header),zu(e.payload),uL(e.signature)].join(L_)}function rv(e=rc.randomBytes(lL)){return Mp.generateKeyPairFromSeed(e)}async function dL(e,t,r,n,i=Xe.fromMiliseconds(Date.now())){const o={alg:eL,typ:tL},c=k_(n.publicKey),a=i+r,m={iss:c,sub:e,aud:t,iat:i,exp:a},f=fL({header:o,payload:m}),g=Mp.sign(n.secretKey,f);return hL({header:o,payload:m,signature:g})}const pL="PARSE_ERROR",gL="INVALID_REQUEST",mL="METHOD_NOT_FOUND",vL="INVALID_PARAMS",M_="INTERNAL_ERROR",jp="SERVER_ERROR",bL=[-32700,-32600,-32601,-32602,-32603],Wc={[pL]:{code:-32700,message:"Parse error"},[gL]:{code:-32600,message:"Invalid Request"},[mL]:{code:-32601,message:"Method not found"},[vL]:{code:-32602,message:"Invalid params"},[M_]:{code:-32603,message:"Internal error"},[jp]:{code:-32e3,message:"Server error"}},j_=jp;function yL(e){return bL.includes(e)}function nv(e){return Object.keys(Wc).includes(e)?Wc[e]:Wc[j_]}function _L(e){const t=Object.values(Wc).find(r=>r.code===e);return t||Wc[j_]}function F_(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var U_={},oo={},iv;function wL(){if(iv)return oo;iv=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.isBrowserCryptoAvailable=oo.getSubtleCrypto=oo.getBrowerCrypto=void 0;function e(){return(Vr===null||Vr===void 0?void 0:Vr.crypto)||(Vr===null||Vr===void 0?void 0:Vr.msCrypto)||{}}oo.getBrowerCrypto=e;function t(){const n=e();return n.subtle||n.webkitSubtle}oo.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return oo.isBrowserCryptoAvailable=r,oo}var ao={},sv;function EL(){if(sv)return ao;sv=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.isBrowser=ao.isNode=ao.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ao.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}ao.isNode=t;function r(){return!e()&&!t()}return ao.isBrowser=r,ao}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Us;t.__exportStar(wL(),e),t.__exportStar(EL(),e)})(U_);function Fp(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function B_(e=6){return BigInt(Fp(e))}function Ba(e,t,r){return{id:r||Fp(),jsonrpc:"2.0",method:e,params:t}}function Up(e,t){return{id:e,jsonrpc:"2.0",result:t}}function mf(e,t,r){return{id:e,jsonrpc:"2.0",error:SL(t,r)}}function SL(e,t){return typeof e>"u"?nv(M_):(typeof e=="string"&&(e=Object.assign(Object.assign({},nv(jp)),{message:e})),typeof t<"u"&&(e.data=t),yL(e.code)&&(e=_L(e.code)),e)}class CL{}class xL extends CL{constructor(){super()}}class IL extends xL{constructor(t){super()}}const AL="^https?:",OL="^wss?:";function DL(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function H_(e,t){const r=DL(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function ov(e){return H_(e,AL)}function av(e){return H_(e,OL)}function TL(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function q_(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Bp(e){return q_(e)&&"method"in e}function vf(e){return q_(e)&&(uo(e)||gs(e))}function uo(e){return"result"in e}function gs(e){return"error"in e}class bo extends IL{constructor(t){super(t),this.events=new Pi.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(Ba(t.method,t.params||[],t.id||B_().toString()),r)}async requestStrict(t,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(o){i(o)}this.events.on(`${t.id}`,o=>{gs(o)?i(o.error):n(o.result)});try{await this.connection.send(t,r)}catch(o){i(o)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),vf(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const PL=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),RL=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",cv=e=>e.split("?")[0],lv=10,$L=PL();let LL=class{constructor(t){if(this.url=t,this.events=new Pi.EventEmitter,this.registering=!1,!av(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(oa(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!av(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),i(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,n)=>{const i=new URLSearchParams(t).get("origin"),o=U_.isReactNative()?{headers:{origin:i}}:{rejectUnauthorized:!TL(t)},c=new $L(t,[],o);RL()?c.onerror=a=>{const m=a;n(this.emitError(m.error))}:c.on("error",a=>{n(this.emitError(a))}),c.onopen=()=>{this.onOpen(c),r(c)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?dl(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const n=this.parseError(r),i=n.message||n.toString(),o=mf(t,i);this.events.emit("payload",o)}parseError(t,r=this.url){return F_(t,cv(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>lv&&this.events.setMaxListeners(lv)}emitError(t){const r=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${cv(this.url)}`));return this.events.emit("register_error",r),r}};var Vu={exports:{}};Vu.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,o=2,c=9007199254740991,a="[object Arguments]",m="[object Array]",f="[object AsyncFunction]",g="[object Boolean]",u="[object Date]",d="[object Error]",p="[object Function]",h="[object GeneratorFunction]",v="[object Map]",w="[object Number]",_="[object Null]",y="[object Object]",C="[object Promise]",I="[object Proxy]",D="[object RegExp]",O="[object Set]",E="[object String]",b="[object Symbol]",x="[object Undefined]",A="[object WeakMap]",N="[object ArrayBuffer]",j="[object DataView]",B="[object Float32Array]",$="[object Float64Array]",L="[object Int8Array]",q="[object Int16Array]",W="[object Int32Array]",z="[object Uint8Array]",K="[object Uint8ClampedArray]",se="[object Uint16Array]",re="[object Uint32Array]",we=/[\\^$.*+?()[\]{}|]/g,fe=/^\[object .+?Constructor\]$/,me=/^(?:0|[1-9]\d*)$/,ge={};ge[B]=ge[$]=ge[L]=ge[q]=ge[W]=ge[z]=ge[K]=ge[se]=ge[re]=!0,ge[a]=ge[m]=ge[N]=ge[g]=ge[j]=ge[u]=ge[d]=ge[p]=ge[v]=ge[w]=ge[y]=ge[D]=ge[O]=ge[E]=ge[A]=!1;var Ie=typeof Vr=="object"&&Vr&&Vr.Object===Object&&Vr,ne=typeof self=="object"&&self&&self.Object===Object&&self,J=Ie||ne||Function("return this")(),te=t&&!t.nodeType&&t,R=te&&!0&&e&&!e.nodeType&&e,Z=R&&R.exports===te,Oe=Z&&Ie.process,Le=function(){try{return Oe&&Oe.binding&&Oe.binding("util")}catch{}}(),Ne=Le&&Le.isTypedArray;function ke(G,oe){for(var M=-1,Y=G==null?0:G.length,ce=0,Ee=[];++M<Y;){var Ve=G[M];oe(Ve,M,G)&&(Ee[ce++]=Ve)}return Ee}function Et(G,oe){for(var M=-1,Y=oe.length,ce=G.length;++M<Y;)G[ce+M]=oe[M];return G}function dt(G,oe){for(var M=-1,Y=G==null?0:G.length;++M<Y;)if(oe(G[M],M,G))return!0;return!1}function ar(G,oe){for(var M=-1,Y=Array(G);++M<G;)Y[M]=oe(M);return Y}function cr(G){return function(oe){return G(oe)}}function pt(G,oe){return G.has(oe)}function rt(G,oe){return G==null?void 0:G[oe]}function ct(G){var oe=-1,M=Array(G.size);return G.forEach(function(Y,ce){M[++oe]=[ce,Y]}),M}function et(G,oe){return function(M){return G(oe(M))}}function gt(G){var oe=-1,M=Array(G.size);return G.forEach(function(Y){M[++oe]=Y}),M}var ot=Array.prototype,vt=Function.prototype,nt=Object.prototype,it=J["__core-js_shared__"],bt=vt.toString,tt=nt.hasOwnProperty,_t=function(){var G=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return G?"Symbol(src)_1."+G:""}(),wt=nt.toString,Ot=RegExp("^"+bt.call(tt).replace(we,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=Z?J.Buffer:void 0,mt=J.Symbol,mr=J.Uint8Array,$r=nt.propertyIsEnumerable,vn=ot.splice,lr=mt?mt.toStringTag:void 0,en=Object.getOwnPropertySymbols,Hn=yt?yt.isBuffer:void 0,tn=et(Object.keys,Object),rr=rn(J,"DataView"),Bt=rn(J,"Map"),ur=rn(J,"Promise"),fr=rn(J,"Set"),Kt=rn(J,"WeakMap"),er=rn(Object,"create"),Er=on(rr),Mt=on(Bt),hr=on(ur),dr=on(fr),ir=on(Kt),vr=mt?mt.prototype:void 0,br=vr?vr.valueOf:void 0;function xt(G){var oe=-1,M=G==null?0:G.length;for(this.clear();++oe<M;){var Y=G[oe];this.set(Y[0],Y[1])}}function Tr(){this.__data__=er?er(null):{},this.size=0}function yr(G){var oe=this.has(G)&&delete this.__data__[G];return this.size-=oe?1:0,oe}function es(G){var oe=this.__data__;if(er){var M=oe[G];return M===n?void 0:M}return tt.call(oe,G)?oe[G]:void 0}function ms(G){var oe=this.__data__;return er?oe[G]!==void 0:tt.call(oe,G)}function qn(G,oe){var M=this.__data__;return this.size+=this.has(G)?0:1,M[G]=er&&oe===void 0?n:oe,this}xt.prototype.clear=Tr,xt.prototype.delete=yr,xt.prototype.get=es,xt.prototype.has=ms,xt.prototype.set=qn;function sr(G){var oe=-1,M=G==null?0:G.length;for(this.clear();++oe<M;){var Y=G[oe];this.set(Y[0],Y[1])}}function Bs(){this.__data__=[],this.size=0}function Hs(G){var oe=this.__data__,M=Rn(oe,G);if(M<0)return!1;var Y=oe.length-1;return M==Y?oe.pop():vn.call(oe,M,1),--this.size,!0}function qs(G){var oe=this.__data__,M=Rn(oe,G);return M<0?void 0:oe[M][1]}function Ws(G){return Rn(this.__data__,G)>-1}function In(G,oe){var M=this.__data__,Y=Rn(M,G);return Y<0?(++this.size,M.push([G,oe])):M[Y][1]=oe,this}sr.prototype.clear=Bs,sr.prototype.delete=Hs,sr.prototype.get=qs,sr.prototype.has=Ws,sr.prototype.set=In;function Hr(G){var oe=-1,M=G==null?0:G.length;for(this.clear();++oe<M;){var Y=G[oe];this.set(Y[0],Y[1])}}function ri(){this.size=0,this.__data__={hash:new xt,map:new(Bt||sr),string:new xt}}function zs(G){var oe=oi(this,G).delete(G);return this.size-=oe?1:0,oe}function Wn(G){return oi(this,G).get(G)}function ts(G){return oi(this,G).has(G)}function An(G,oe){var M=oi(this,G),Y=M.size;return M.set(G,oe),this.size+=M.size==Y?0:1,this}Hr.prototype.clear=ri,Hr.prototype.delete=zs,Hr.prototype.get=Wn,Hr.prototype.has=ts,Hr.prototype.set=An;function bn(G){var oe=-1,M=G==null?0:G.length;for(this.__data__=new Hr;++oe<M;)this.add(G[oe])}function rs(G){return this.__data__.set(G,n),this}function vs(G){return this.__data__.has(G)}bn.prototype.add=bn.prototype.push=rs,bn.prototype.has=vs;function Lr(G){var oe=this.__data__=new sr(G);this.size=oe.size}function Vs(){this.__data__=new sr,this.size=0}function ni(G){var oe=this.__data__,M=oe.delete(G);return this.size=oe.size,M}function Gs(G){return this.__data__.get(G)}function Ks(G){return this.__data__.has(G)}function yn(G,oe){var M=this.__data__;if(M instanceof sr){var Y=M.__data__;if(!Bt||Y.length<r-1)return Y.push([G,oe]),this.size=++M.size,this;M=this.__data__=new Hr(Y)}return M.set(G,oe),this.size=M.size,this}Lr.prototype.clear=Vs,Lr.prototype.delete=ni,Lr.prototype.get=Gs,Lr.prototype.has=Ks,Lr.prototype.set=yn;function bs(G,oe){var M=_n(G),Y=!M&&Fi(G),ce=!M&&!Y&&qr(G),Ee=!M&&!Y&&!ce&&xs(G),Ve=M||Y||ce||Ee,Ge=Ve?ar(G.length,String):[],He=Ge.length;for(var qe in G)(oe||tt.call(G,qe))&&!(Ve&&(qe=="length"||ce&&(qe=="offset"||qe=="parent")||Ee&&(qe=="buffer"||qe=="byteLength"||qe=="byteOffset")||ki(qe,He)))&&Ge.push(qe);return Ge}function Rn(G,oe){for(var M=G.length;M--;)if(ji(G[M][0],oe))return M;return-1}function ns(G,oe,M){var Y=oe(G);return _n(G)?Y:Et(Y,M(G))}function _i(G){return G==null?G===void 0?x:_:lr&&lr in Object(G)?ws(G):Mi(G)}function is(G){return ai(G)&&_i(G)==a}function wi(G,oe,M,Y,ce){return G===oe?!0:G==null||oe==null||!ai(G)&&!ai(oe)?G!==G&&oe!==oe:ii(G,oe,M,Y,wi,ce)}function ii(G,oe,M,Y,ce,Ee){var Ve=_n(G),Ge=_n(oe),He=Ve?m:$n(G),qe=Ge?m:$n(oe);He=He==a?y:He,qe=qe==a?y:qe;var at=He==y,Yt=qe==y,St=He==qe;if(St&&qr(G)){if(!qr(oe))return!1;Ve=!0,at=!1}if(St&&!at)return Ee||(Ee=new Lr),Ve||xs(G)?si(G,oe,M,Y,ce,Ee):ys(G,oe,He,M,Y,ce,Ee);if(!(M&i)){var Pt=at&&tt.call(G,"__wrapped__"),Ar=Yt&&tt.call(oe,"__wrapped__");if(Pt||Ar){var an=Pt?G.value():G,cn=Ar?oe.value():oe;return Ee||(Ee=new Lr),ce(an,cn,M,Y,Ee)}}return St?(Ee||(Ee=new Lr),_s(G,oe,M,Y,ce,Ee)):!1}function Ei(G){if(!Nn(G)||Ss(G))return!1;var oe=wn(G)?Ot:fe;return oe.test(on(G))}function $i(G){return ai(G)&&Ln(G.length)&&!!ge[_i(G)]}function Li(G){if(!os(G))return tn(G);var oe=[];for(var M in Object(G))tt.call(G,M)&&M!="constructor"&&oe.push(M);return oe}function si(G,oe,M,Y,ce,Ee){var Ve=M&i,Ge=G.length,He=oe.length;if(Ge!=He&&!(Ve&&He>Ge))return!1;var qe=Ee.get(G);if(qe&&Ee.get(oe))return qe==oe;var at=-1,Yt=!0,St=M&o?new bn:void 0;for(Ee.set(G,oe),Ee.set(oe,G);++at<Ge;){var Pt=G[at],Ar=oe[at];if(Y)var an=Ve?Y(Ar,Pt,at,oe,G,Ee):Y(Pt,Ar,at,G,oe,Ee);if(an!==void 0){if(an)continue;Yt=!1;break}if(St){if(!dt(oe,function(cn,ci){if(!pt(St,ci)&&(Pt===cn||ce(Pt,cn,M,Y,Ee)))return St.push(ci)})){Yt=!1;break}}else if(!(Pt===Ar||ce(Pt,Ar,M,Y,Ee))){Yt=!1;break}}return Ee.delete(G),Ee.delete(oe),Yt}function ys(G,oe,M,Y,ce,Ee,Ve){switch(M){case j:if(G.byteLength!=oe.byteLength||G.byteOffset!=oe.byteOffset)return!1;G=G.buffer,oe=oe.buffer;case N:return!(G.byteLength!=oe.byteLength||!Ee(new mr(G),new mr(oe)));case g:case u:case w:return ji(+G,+oe);case d:return G.name==oe.name&&G.message==oe.message;case D:case E:return G==oe+"";case v:var Ge=ct;case O:var He=Y&i;if(Ge||(Ge=gt),G.size!=oe.size&&!He)return!1;var qe=Ve.get(G);if(qe)return qe==oe;Y|=o,Ve.set(G,oe);var at=si(Ge(G),Ge(oe),Y,ce,Ee,Ve);return Ve.delete(G),at;case b:if(br)return br.call(G)==br.call(oe)}return!1}function _s(G,oe,M,Y,ce,Ee){var Ve=M&i,Ge=Ni(G),He=Ge.length,qe=Ni(oe),at=qe.length;if(He!=at&&!Ve)return!1;for(var Yt=He;Yt--;){var St=Ge[Yt];if(!(Ve?St in oe:tt.call(oe,St)))return!1}var Pt=Ee.get(G);if(Pt&&Ee.get(oe))return Pt==oe;var Ar=!0;Ee.set(G,oe),Ee.set(oe,G);for(var an=Ve;++Yt<He;){St=Ge[Yt];var cn=G[St],ci=oe[St];if(Y)var Zs=Ve?Y(ci,cn,St,oe,G,Ee):Y(cn,ci,St,G,oe,Ee);if(!(Zs===void 0?cn===ci||ce(cn,ci,M,Y,Ee):Zs)){Ar=!1;break}an||(an=St=="constructor")}if(Ar&&!an){var kn=G.constructor,Gr=oe.constructor;kn!=Gr&&"constructor"in G&&"constructor"in oe&&!(typeof kn=="function"&&kn instanceof kn&&typeof Gr=="function"&&Gr instanceof Gr)&&(Ar=!1)}return Ee.delete(G),Ee.delete(oe),Ar}function Ni(G){return ns(G,Is,Es)}function oi(G,oe){var M=G.__data__;return ss(oe)?M[typeof oe=="string"?"string":"hash"]:M.map}function rn(G,oe){var M=rt(G,oe);return Ei(M)?M:void 0}function ws(G){var oe=tt.call(G,lr),M=G[lr];try{G[lr]=void 0;var Y=!0}catch{}var ce=wt.call(G);return Y&&(oe?G[lr]=M:delete G[lr]),ce}var Es=en?function(G){return G==null?[]:(G=Object(G),ke(en(G),function(oe){return $r.call(G,oe)}))}:Zt,$n=_i;(rr&&$n(new rr(new ArrayBuffer(1)))!=j||Bt&&$n(new Bt)!=v||ur&&$n(ur.resolve())!=C||fr&&$n(new fr)!=O||Kt&&$n(new Kt)!=A)&&($n=function(G){var oe=_i(G),M=oe==y?G.constructor:void 0,Y=M?on(M):"";if(Y)switch(Y){case Er:return j;case Mt:return v;case hr:return C;case dr:return O;case ir:return A}return oe});function ki(G,oe){return oe=oe??c,!!oe&&(typeof G=="number"||me.test(G))&&G>-1&&G%1==0&&G<oe}function ss(G){var oe=typeof G;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?G!=="__proto__":G===null}function Ss(G){return!!_t&&_t in G}function os(G){var oe=G&&G.constructor,M=typeof oe=="function"&&oe.prototype||nt;return G===M}function Mi(G){return wt.call(G)}function on(G){if(G!=null){try{return bt.call(G)}catch{}try{return G+""}catch{}}return""}function ji(G,oe){return G===oe||G!==G&&oe!==oe}var Fi=is(function(){return arguments}())?is:function(G){return ai(G)&&tt.call(G,"callee")&&!$r.call(G,"callee")},_n=Array.isArray;function Cs(G){return G!=null&&Ln(G.length)&&!wn(G)}var qr=Hn||zt;function jr(G,oe){return wi(G,oe)}function wn(G){if(!Nn(G))return!1;var oe=_i(G);return oe==p||oe==h||oe==f||oe==I}function Ln(G){return typeof G=="number"&&G>-1&&G%1==0&&G<=c}function Nn(G){var oe=typeof G;return G!=null&&(oe=="object"||oe=="function")}function ai(G){return G!=null&&typeof G=="object"}var xs=Ne?cr(Ne):$i;function Is(G){return Cs(G)?bs(G):Li(G)}function Zt(){return[]}function zt(){return!1}e.exports=jr})(Vu,Vu.exports);var NL=Vu.exports;const kL=mo(NL);function ML(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),c=o.charCodeAt(0);if(r[c]!==255)throw new TypeError(o+" is ambiguous");r[c]=i}var a=e.length,m=e.charAt(0),f=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function u(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var v=0,w=0,_=0,y=h.length;_!==y&&h[_]===0;)_++,v++;for(var C=(y-_)*g+1>>>0,I=new Uint8Array(C);_!==y;){for(var D=h[_],O=0,E=C-1;(D!==0||O<w)&&E!==-1;E--,O++)D+=256*I[E]>>>0,I[E]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");w=O,_++}for(var b=C-w;b!==C&&I[b]===0;)b++;for(var x=m.repeat(v);b<C;++b)x+=e.charAt(I[b]);return x}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var v=0;if(h[v]!==" "){for(var w=0,_=0;h[v]===m;)w++,v++;for(var y=(h.length-v)*f+1>>>0,C=new Uint8Array(y);h[v];){var I=r[h.charCodeAt(v)];if(I===255)return;for(var D=0,O=y-1;(I!==0||D<_)&&O!==-1;O--,D++)I+=a*C[O]>>>0,C[O]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");_=D,v++}if(h[v]!==" "){for(var E=y-_;E!==y&&C[E]===0;)E++;for(var b=new Uint8Array(w+(y-E)),x=w;E!==y;)b[x++]=C[E++];return b}}}function p(h){var v=d(h);if(v)return v;throw new Error(`Non-${t} character`)}return{encode:u,decodeUnsafe:d,decode:p}}var jL=ML,FL=jL;const W_=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},UL=e=>new TextEncoder().encode(e),BL=e=>new TextDecoder().decode(e);class HL{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class qL{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return z_(this,t)}}let WL=class{constructor(t){this.decoders=t}or(t){return z_(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const z_=(e,t)=>new WL({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class zL{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new HL(t,r,n),this.decoder=new qL(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const bf=({name:e,prefix:t,encode:r,decode:n})=>new zL(e,t,r,n),pl=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=FL(r,t);return bf({prefix:e,name:t,encode:n,decode:o=>W_(i(o))})},VL=(e,t,r,n)=>{const i={};for(let g=0;g<t.length;++g)i[t[g]]=g;let o=e.length;for(;e[o-1]==="=";)--o;const c=new Uint8Array(o*r/8|0);let a=0,m=0,f=0;for(let g=0;g<o;++g){const u=i[e[g]];if(u===void 0)throw new SyntaxError(`Non-${n} character`);m=m<<r|u,a+=r,a>=8&&(a-=8,c[f++]=255&m>>a)}if(a>=r||255&m<<8-a)throw new SyntaxError("Unexpected end of data");return c},GL=(e,t,r)=>{const n=t[t.length-1]==="=",i=(1<<r)-1;let o="",c=0,a=0;for(let m=0;m<e.length;++m)for(a=a<<8|e[m],c+=8;c>r;)c-=r,o+=t[i&a>>c];if(c&&(o+=t[i&a<<r-c]),n)for(;o.length*r&7;)o+="=";return o},Pn=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>bf({prefix:t,name:e,encode(i){return GL(i,n,r)},decode(i){return VL(i,n,r,e)}}),KL=bf({prefix:"\0",name:"identity",encode:e=>BL(e),decode:e=>UL(e)});var ZL=Object.freeze({__proto__:null,identity:KL});const YL=Pn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var XL=Object.freeze({__proto__:null,base2:YL});const JL=Pn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var QL=Object.freeze({__proto__:null,base8:JL});const eN=pl({prefix:"9",name:"base10",alphabet:"0123456789"});var tN=Object.freeze({__proto__:null,base10:eN});const rN=Pn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),nN=Pn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var iN=Object.freeze({__proto__:null,base16:rN,base16upper:nN});const sN=Pn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),oN=Pn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),aN=Pn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cN=Pn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lN=Pn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uN=Pn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),fN=Pn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hN=Pn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),dN=Pn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var pN=Object.freeze({__proto__:null,base32:sN,base32upper:oN,base32pad:aN,base32padupper:cN,base32hex:lN,base32hexupper:uN,base32hexpad:fN,base32hexpadupper:hN,base32z:dN});const gN=pl({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),mN=pl({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var vN=Object.freeze({__proto__:null,base36:gN,base36upper:mN});const bN=pl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yN=pl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var _N=Object.freeze({__proto__:null,base58btc:bN,base58flickr:yN});const wN=Pn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),EN=Pn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),SN=Pn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),CN=Pn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var xN=Object.freeze({__proto__:null,base64:wN,base64pad:EN,base64url:SN,base64urlpad:CN});const V_=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),IN=V_.reduce((e,t,r)=>(e[r]=t,e),[]),AN=V_.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function ON(e){return e.reduce((t,r)=>(t+=IN[r],t),"")}function DN(e){const t=[];for(const r of e){const n=AN[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const TN=bf({prefix:"🚀",name:"base256emoji",encode:ON,decode:DN});var PN=Object.freeze({__proto__:null,base256emoji:TN}),RN=G_,uv=128,$N=127,LN=~$N,NN=Math.pow(2,31);function G_(e,t,r){t=t||[],r=r||0;for(var n=r;e>=NN;)t[r++]=e&255|uv,e/=128;for(;e&LN;)t[r++]=e&255|uv,e>>>=7;return t[r]=e|0,G_.bytes=r-n+1,t}var kN=Md,MN=128,fv=127;function Md(e,n){var r=0,n=n||0,i=0,o=n,c,a=e.length;do{if(o>=a)throw Md.bytes=0,new RangeError("Could not decode varint");c=e[o++],r+=i<28?(c&fv)<<i:(c&fv)*Math.pow(2,i),i+=7}while(c>=MN);return Md.bytes=o-n,r}var jN=Math.pow(2,7),FN=Math.pow(2,14),UN=Math.pow(2,21),BN=Math.pow(2,28),HN=Math.pow(2,35),qN=Math.pow(2,42),WN=Math.pow(2,49),zN=Math.pow(2,56),VN=Math.pow(2,63),GN=function(e){return e<jN?1:e<FN?2:e<UN?3:e<BN?4:e<HN?5:e<qN?6:e<WN?7:e<zN?8:e<VN?9:10},KN={encode:RN,decode:kN,encodingLength:GN},K_=KN;const hv=(e,t,r=0)=>(K_.encode(e,t,r),t),dv=e=>K_.encodingLength(e),jd=(e,t)=>{const r=t.byteLength,n=dv(e),i=n+dv(r),o=new Uint8Array(i+r);return hv(e,o,0),hv(r,o,n),o.set(t,i),new ZN(e,r,t,o)};class ZN{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}}const Z_=({name:e,code:t,encode:r})=>new YN(e,t,r);class YN{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?jd(this.code,r):r.then(n=>jd(this.code,n))}else throw Error("Unknown type, must be binary type")}}const Y_=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),XN=Z_({name:"sha2-256",code:18,encode:Y_("SHA-256")}),JN=Z_({name:"sha2-512",code:19,encode:Y_("SHA-512")});var QN=Object.freeze({__proto__:null,sha256:XN,sha512:JN});const X_=0,ek="identity",J_=W_,tk=e=>jd(X_,J_(e)),rk={code:X_,name:ek,encode:J_,digest:tk};var nk=Object.freeze({__proto__:null,identity:rk});new TextEncoder,new TextDecoder;const pv={...ZL,...XL,...QL,...tN,...iN,...pN,...vN,..._N,...xN,...PN};({...QN,...nk});function Q_(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function ik(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Q_(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function ew(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const gv=ew("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Kh=ew("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=ik(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),sk={utf8:gv,"utf-8":gv,hex:pv.base16,latin1:Kh,ascii:Kh,binary:Kh,...pv};function ok(e,t="utf8"){const r=sk[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Q_(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}const tw="wc",ak=2,Hp="core",ko=`${tw}@2:${Hp}:`,ck={name:Hp,logger:"error"},lk={database:":memory:"},uk="crypto",mv="client_ed25519_seed",fk=Xe.ONE_DAY,hk="keychain",dk="0.3",pk="messages",gk="0.3",mk=Xe.SIX_HOURS,vk="publisher",rw="irn",bk="error",nw="wss://relay.walletconnect.com",vv="wss://relay.walletconnect.org",yk="relayer",Un={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},_k="_subscription",co={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},wk=Xe.ONE_SECOND,Ek="2.10.5",Sk=1e4,Ck="0.3",xk="WALLETCONNECT_CLIENT_ID",hs={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Ik="subscription",Ak="0.3",Ok=Xe.FIVE_SECONDS*1e3,Dk="pairing",Tk="0.3",Tc={wc_pairingDelete:{req:{ttl:Xe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Xe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Xe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Xe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Xe.ONE_DAY,prompt:!1,tag:0},res:{ttl:Xe.ONE_DAY,prompt:!1,tag:0}}},Fc={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Rs={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Pk="history",Rk="0.3",$k="expirer",Zi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Lk="0.3",Zh="verify-api",La="https://verify.walletconnect.com",Fd="https://verify.walletconnect.org",Nk=[La,Fd];class kk{constructor(t,r){this.core=t,this.logger=r,this.keychain=new Map,this.name=hk,this.version=dk,this.initialized=!1,this.storagePrefix=ko,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:o}=je("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(o)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=t,this.logger=Qt.generateChildLogger(r,this.name)}get context(){return Qt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,E_(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?S_(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=je("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Mk{constructor(t,r,n){this.core=t,this.logger=r,this.name=uk,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),o=rv(i);return k_(o.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=qP();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const o=await this.getClientSeed(),c=rv(o),a=Ld();return await dL(a,i,fk,c)},this.generateSharedKey=(i,o,c)=>{this.isInitialized();const a=this.getPrivateKey(i),m=WP(a,o);return this.setSymKey(m,c)},this.setSymKey=async(i,o)=>{this.isInitialized();const c=o||zP(i);return await this.keychain.set(c,i),c},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,o,c)=>{this.isInitialized();const a=w_(c),m=oa(o);if(P1(a)){const d=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(d,p)}const f=this.getSymKey(i),{type:g,senderPublicKey:u}=a;return GP({type:g,symKey:f,message:m,senderPublicKey:u})},this.decode=async(i,o,c)=>{this.isInitialized();const a=YP(o,c);if(P1(a)){const m=a.receiverPublicKey,f=a.senderPublicKey;i=await this.generateSharedKey(m,f)}try{const m=this.getSymKey(i),f=KP({symKey:m,encoded:o});return dl(f)}catch(m){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(m)}},this.getPayloadType=i=>{const o=qu(i);return ll(o.type)},this.getPayloadSenderPublicKey=i=>{const o=qu(i);return o.senderPublicKey?ti(o.senderPublicKey,Jn):void 0},this.core=t,this.logger=Qt.generateChildLogger(r,this.name),this.keychain=n||new kk(this.core,this.logger)}get context(){return Qt.getLoggerContext(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(mv)}catch{t=Ld(),await this.keychain.set(mv,t)}return ok(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=je("NOT_INITIALIZED",this.name);throw new Error(t)}}}class jk extends z${constructor(t,r){super(t,r),this.logger=t,this.core=r,this.messages=new Map,this.name=pk,this.version=gk,this.initialized=!1,this.storagePrefix=ko,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const o=Fa(i);let c=this.messages.get(n);return typeof c>"u"&&(c={}),typeof c[o]<"u"||(c[o]=i,this.messages.set(n,c),await this.persist()),o},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const o=this.get(n),c=Fa(i);return typeof o[c]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Qt.generateChildLogger(t,this.name),this.core=r}get context(){return Qt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,E_(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?S_(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=je("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Fk extends V${constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.events=new Pi.EventEmitter,this.name=vk,this.queue=new Map,this.publishTimeout=Xe.toMiliseconds(Xe.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(n,i,o)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:o}});try{const a=(o==null?void 0:o.ttl)||mk,m=Nd(o),f=(o==null?void 0:o.prompt)||!1,g=(o==null?void 0:o.tag)||0,u=(o==null?void 0:o.id)||B_().toString(),d={topic:n,message:i,opts:{ttl:a,relay:m,prompt:f,tag:g,id:u}},p=setTimeout(()=>this.queue.set(u,d),this.publishTimeout);try{await await tl(this.rpcPublish(n,i,a,m,f,g,u),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(u),this.relayer.events.emit(Un.publish,d)}catch(h){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(c=o==null?void 0:o.internal)!=null&&c.throwOnFailedPublish)throw this.removeRequestFromQueue(u),h;return}finally{clearTimeout(p)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:o}})}catch(a){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(a),a}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=t,this.logger=Qt.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return Qt.getLoggerContext(this.logger)}rpcPublish(t,r,n,i,o,c,a){var m,f,g,u;const d={method:yu(i.protocol).publish,params:{topic:t,message:r,ttl:n,prompt:o,tag:c},id:a};return Xn((m=d.params)==null?void 0:m.prompt)&&((f=d.params)==null||delete f.prompt),Xn((g=d.params)==null?void 0:g.tag)&&((u=d.params)==null||delete u.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:d}),this.relayer.request(d)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:r,message:n,opts:i}=t;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(oc.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Un.connection_stalled);return}this.checkQueue()}),this.relayer.on(Un.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}class Uk{constructor(){this.map=new Map,this.set=(t,r)=>{const n=this.get(t);this.exists(t,r)||this.map.set(t,[...n,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const n=this.get(t);if(!this.exists(t,r))return;const i=n.filter(o=>o!==r);if(!i.length){this.map.delete(t);return}this.map.set(t,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Bk=Object.defineProperty,Hk=Object.defineProperties,qk=Object.getOwnPropertyDescriptors,bv=Object.getOwnPropertySymbols,Wk=Object.prototype.hasOwnProperty,zk=Object.prototype.propertyIsEnumerable,yv=(e,t,r)=>t in e?Bk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pc=(e,t)=>{for(var r in t||(t={}))Wk.call(t,r)&&yv(e,r,t[r]);if(bv)for(var r of bv(t))zk.call(t,r)&&yv(e,r,t[r]);return e},Yh=(e,t)=>Hk(e,qk(t));class Vk extends Z${constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new Uk,this.events=new Pi.EventEmitter,this.name=Ik,this.version=Ak,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=ko,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=Nd(i),c={topic:n,relay:o};this.pending.set(n,c);const a=await this.rpcSubscribe(n,o);return this.onSubscribe(a,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),a}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((i,o)=>{const c=new Xe.Watch;c.start(this.pendingSubscriptionWatchLabel);const a=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(a),c.stop(this.pendingSubscriptionWatchLabel),i(!0)),c.elapsed(this.pendingSubscriptionWatchLabel)>=Ok&&(clearInterval(a),c.stop(this.pendingSubscriptionWatchLabel),o(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=Qt.generateChildLogger(r,this.name),this.clientId=""}get context(){return Qt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let n=!1;try{n=this.getSubscription(t).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const n=this.topicMap.get(t);await Promise.all(n.map(async i=>await this.unsubscribeById(t,i,r)))}async unsubscribeById(t,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}});try{const i=Nd(n);await this.rpcUnsubscribe(t,r,i);const o=Jr("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(t,r){const n={method:yu(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await tl(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Un.connection_stalled)}return Fa(t+this.clientId)}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,n={method:yu(r.protocol).batchSubscribe,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await tl(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(Un.connection_stalled)}}rpcUnsubscribe(t,r,n){const i={method:yu(n.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(t,r){this.setSubscription(t,Yh(Pc({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,Pc({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,n),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.subscriptions.has(t)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r))}addSubscription(t,r){this.subscriptions.set(t,Pc({},r)),this.topicMap.set(r.topic,t),this.events.emit(hs.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:n}=je("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const n=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(n.topic,t),this.events.emit(hs.deleted,Yh(Pc({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(hs.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(hs.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const r=await this.rpcBatchSubscribe(t);Ms(r)&&this.onBatchSubscribe(r.map((n,i)=>Yh(Pc({},t[i]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const t=[];this.pending.forEach(r=>{t.push(r)}),await this.batchSubscribe(t)}registerEventListeners(){this.relayer.core.heartbeat.on(oc.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(Un.connect,async()=>{await this.onConnect()}),this.relayer.on(Un.disconnect,()=>{this.onDisconnect()}),this.events.on(hs.created,async t=>{const r=hs.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()}),this.events.on(hs.deleted,async t=>{const r=hs.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=je("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),t())},this.pollingInterval)})}}var Gk=Object.defineProperty,_v=Object.getOwnPropertySymbols,Kk=Object.prototype.hasOwnProperty,Zk=Object.prototype.propertyIsEnumerable,wv=(e,t,r)=>t in e?Gk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Yk=(e,t)=>{for(var r in t||(t={}))Kk.call(t,r)&&wv(e,r,t[r]);if(_v)for(var r of _v(t))Zk.call(t,r)&&wv(e,r,t[r]);return e};class Xk extends G${constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new Pi.EventEmitter,this.name=yk,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async r=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(r)}catch(n){throw this.logger.debug("Failed to Publish Request"),this.logger.error(n),n}},this.onPayloadHandler=r=>{this.onProviderPayload(r)},this.onConnectHandler=()=>{this.events.emit(Un.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(Un.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(co.payload,this.onPayloadHandler),this.provider.on(co.connect,this.onConnectHandler),this.provider.on(co.disconnect,this.onDisconnectHandler),this.provider.on(co.error,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?Qt.generateChildLogger(t.logger,this.name):Qt.pino(Qt.getDefaultLoggerOptions({level:t.logger||bk})),this.messages=new jk(this.logger,t.core),this.subscriber=new Vk(this,this.logger),this.publisher=new Fk(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||nw,this.projectId=t.projectId,this.bundleId=rR(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${vv}...`),await this.restartTransport(vv)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},Sk)}get context(){return Qt.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(t,r,n){this.isInitialized(),await this.publisher.publish(t,r,n),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now()})}async subscribe(t,r){var n;this.isInitialized();let i=((n=this.subscriber.topicMap.get(t))==null?void 0:n[0])||"";if(i)return i;let o;const c=a=>{a.topic===t&&(this.subscriber.off(hs.created,c),o())};return await Promise.all([new Promise(a=>{o=a,this.subscriber.on(hs.created,c)}),new Promise(async a=>{i=await this.subscriber.subscribe(t,r),a()})]),i}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await tl(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(t){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(r=>{if(!this.initialized)return r();this.subscriber.once(hs.resubscribed,()=>{r()})}),new Promise(async(r,n)=>{try{await tl(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(i){n(i);return}r()})])}catch(r){this.logger.error(r);const n=r;if(!this.isConnectionStalled(n.message))throw r;this.provider.events.emit(co.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(t){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await B1())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new bo(new LL(cR({sdkVersion:Ek,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:r,message:n}=t;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(t){const{topic:r,message:n}=t;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Bp(t)){if(!t.method.endsWith(_k))return;const r=t.params,{topic:n,message:i,publishedAt:o}=r.data,c={topic:n,message:i,publishedAt:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Yk({type:"event",event:r.id},c)),this.events.emit(r.id,c),await this.acknowledgePayload(t),await this.onMessageEvent(c)}else vf(t)&&this.events.emit(Un.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(Un.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const r=Up(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(co.payload,this.onPayloadHandler),this.provider.off(co.connect,this.onConnectHandler),this.provider.off(co.disconnect,this.onDisconnectHandler),this.provider.off(co.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(Un.connection_stalled,()=>{this.restartTransport().catch(r=>this.logger.error(r))});let t=await B1();e$(async r=>{this.initialized&&t!==r&&(t=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(n=>this.logger.error(n))))})}onProviderDisconnect(){this.events.emit(Un.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(t=>this.logger.error(t))},Xe.toMiliseconds(wk)))}isInitialized(){if(!this.initialized){const{message:t}=je("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(t=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),t())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var Jk=Object.defineProperty,Ev=Object.getOwnPropertySymbols,Qk=Object.prototype.hasOwnProperty,eM=Object.prototype.propertyIsEnumerable,Sv=(e,t,r)=>t in e?Jk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Cv=(e,t)=>{for(var r in t||(t={}))Qk.call(t,r)&&Sv(e,r,t[r]);if(Ev)for(var r of Ev(t))eM.call(t,r)&&Sv(e,r,t[r]);return e};class yf extends K${constructor(t,r,n,i=ko,o=void 0){super(t,r,n,i),this.core=t,this.logger=r,this.name=n,this.map=new Map,this.version=Ck,this.cached=[],this.initialized=!1,this.storagePrefix=ko,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!Xn(c)?this.map.set(this.getKey(c),c):PR(c)?this.map.set(c.id,c):RR(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)},this.set=async(c,a)=>{this.isInitialized(),this.map.has(c)?await this.update(c,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:a}),this.map.set(c,a),await this.persist())},this.get=c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c)),this.getAll=c=>(this.isInitialized(),c?this.values.filter(a=>Object.keys(c).every(m=>kL(a[m],c[m]))):this.values),this.update=async(c,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:a});const m=Cv(Cv({},this.getData(c)),a);this.map.set(c,m),await this.persist()},this.delete=async(c,a)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:a}),this.map.delete(c),await this.persist())},this.logger=Qt.generateChildLogger(r,this.name),this.storagePrefix=i,this.getKey=o}get context(){return Qt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){const{message:n}=je("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=je("NOT_INITIALIZED",this.name);throw new Error(t)}}}class tM{constructor(t,r){this.core=t,this.logger=r,this.name=Dk,this.version=Tk,this.events=new xp,this.initialized=!1,this.storagePrefix=ko,this.ignoredPayloadTypes=[fa],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=Ld(),i=await this.core.crypto.setSymKey(n),o=ps(Xe.FIVE_MINUTES),c={protocol:rw},a={topic:i,expiry:o,relay:c,active:!1},m=wR({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:c});return await this.pairings.set(i,a),await this.core.relayer.subscribe(i),this.core.expirer.set(i,o),{topic:i,uri:m}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:i,symKey:o,relay:c}=bR(n.uri);let a;if(this.pairings.keys.includes(i)&&(a=this.pairings.get(i),a.active))throw new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);this.core.crypto.keychain.has(i)||(await this.core.crypto.setSymKey(o,i),await this.core.relayer.subscribe(i,{relay:c}));const m=ps(Xe.FIVE_MINUTES),f={topic:i,relay:c,expiry:m,active:!1};return await this.pairings.set(i,f),this.core.expirer.set(i,m),n.activatePairing&&await this.activate({topic:i}),this.events.emit(Fc.create,f),f},this.activate=async({topic:n})=>{this.isInitialized();const i=ps(Xe.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const o=await this.sendRequest(i,"wc_pairingPing",{}),{done:c,resolve:a,reject:m}=Ra();this.events.once(nn("pairing_ping",o),({error:f})=>{f?m(f):a()}),await c()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Jr("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,o)=>{const c=Ba(i,o),a=await this.core.crypto.encode(n,c),m=Tc[i].req;return this.core.history.set(n,c),this.core.relayer.publish(n,a,m),c.id},this.sendResult=async(n,i,o)=>{const c=Up(n,o),a=await this.core.crypto.encode(i,c),m=await this.core.history.get(i,n),f=Tc[m.request.method].res;await this.core.relayer.publish(i,a,f),await this.core.history.resolve(c)},this.sendError=async(n,i,o)=>{const c=mf(n,o),a=await this.core.crypto.encode(i,c),m=await this.core.history.get(i,n),f=Tc[m.request.method]?Tc[m.request.method].res:Tc.unregistered_method.res;await this.core.relayer.publish(i,a,f),await this.core.history.resolve(c)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Jr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>Po(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:o}=n;switch(o.method){case"wc_pairingPing":return this.onPairingPingRequest(i,o);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,o);default:return this.onUnknownRpcMethodRequest(i,o)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:o}=n,c=(await this.core.history.get(i,o.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(i,o);default:return this.onUnknownRpcMethodResponse(c)}},this.onPairingPingRequest=async(n,i)=>{const{id:o}=i;try{this.isValidPing({topic:n}),await this.sendResult(o,n,!0),this.events.emit(Fc.ping,{id:o,topic:n})}catch(c){await this.sendError(o,n,c),this.logger.error(c)}},this.onPairingPingResponse=(n,i)=>{const{id:o}=i;setTimeout(()=>{uo(i)?this.events.emit(nn("pairing_ping",o),{}):gs(i)&&this.events.emit(nn("pairing_ping",o),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:o}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Fc.delete,{id:o,topic:n})}catch(c){await this.sendError(o,n,c),this.logger.error(c)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:o,method:c}=i;try{if(this.registeredMethods.includes(c))return;const a=Jr("WC_METHOD_UNSUPPORTED",c);await this.sendError(o,n,a),this.logger.error(a)}catch(a){await this.sendError(o,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Jr("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{if(!mi(n)){const{message:i}=je("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(i)}if(!TR(n.uri)){const{message:i}=je("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(i)}},this.isValidPing=async n=>{if(!mi(n)){const{message:o}=je("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(o)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!mi(n)){const{message:o}=je("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(o)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!xn(n,!1)){const{message:i}=je("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=je("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Po(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=je("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=t,this.logger=Qt.generateChildLogger(r,this.name),this.pairings=new yf(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Qt.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=je("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(Un.message,async t=>{const{topic:r,message:n}=t;if(!this.pairings.keys.includes(r)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(r,n);try{Bp(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):vf(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id))}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(Zi.expired,async t=>{const{topic:r}=x_(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Fc.expire,{topic:r}))})}}class rM extends W${constructor(t,r){super(t,r),this.core=t,this.logger=r,this.records=new Map,this.events=new Pi.EventEmitter,this.name=Pk,this.version=Rk,this.cached=[],this.initialized=!1,this.storagePrefix=ko,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:o}),this.records.has(i.id))return;const c={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:o,expiry:ps(Xe.THIRTY_DAYS)};this.records.set(c.id,c),this.events.emit(Rs.created,c)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=gs(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(Rs.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(o=>{if(o.topic===n){if(typeof i<"u"&&o.id!==i)return;this.records.delete(o.id),this.events.emit(Rs.deleted,o)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Qt.generateChildLogger(r,this.name)}get context(){return Qt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Ba(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(n)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:n}=je("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Rs.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(Rs.created,t=>{const r=Rs.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.events.on(Rs.updated,t=>{const r=Rs.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.events.on(Rs.deleted,t=>{const r=Rs.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.core.heartbeat.on(oc.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(t=>{Xe.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.delete(t.topic,t.id))})}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=je("NOT_INITIALIZED",this.name);throw new Error(t)}}}class nM extends Y${constructor(t,r){super(t,r),this.core=t,this.logger=r,this.expirations=new Map,this.events=new Pi.EventEmitter,this.name=$k,this.version=Lk,this.cached=[],this.initialized=!1,this.storagePrefix=ko,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const o=this.formatTarget(n),c={target:o,expiry:i};this.expirations.set(o,c),this.checkExpiry(o,c),this.events.emit(Zi.created,{target:o,expiration:c})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),o=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Zi.deleted,{target:i,expiration:o})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Qt.generateChildLogger(r,this.name)}get context(){return Qt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return lR(t);if(typeof t=="number")return uR(t);const{message:r}=je("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Zi.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=je("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:n}=je("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(t,r){const{expiry:n}=r;Xe.toMiliseconds(n)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(Zi.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(oc.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Zi.created,t=>{const r=Zi.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Zi.expired,t=>{const r=Zi.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Zi.deleted,t=>{const r=Zi.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=je("NOT_INITIALIZED",this.name);throw new Error(t)}}}class iM extends X${constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.name=Zh,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async n=>{if(this.verifyDisabled||ic()||!ul())return;const i=this.getVerifyUrl(n==null?void 0:n.verifyUrl);this.verifyUrl!==i&&this.removeIframe(),this.verifyUrl=i;try{await this.createIframe()}catch(o){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(o)}if(!this.initialized){this.removeIframe(),this.verifyUrl=Fd;try{await this.createIframe()}catch(o){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(o),this.verifyDisabled=!0}}},this.register=async n=>{this.initialized?this.sendPost(n.attestationId):(this.addToQueue(n.attestationId),await this.init())},this.resolve=async n=>{if(this.isDevEnv)return"";const i=this.getVerifyUrl(n==null?void 0:n.verifyUrl);let o;try{o=await this.fetchAttestation(n.attestationId,i)}catch(c){this.logger.info(`failed to resolve attestation: ${n.attestationId} from url: ${i}`),this.logger.info(c),o=await this.fetchAttestation(n.attestationId,Fd)}return o},this.fetchAttestation=async(n,i)=>{this.logger.info(`resolving attestation: ${n} from url: ${i}`);const o=this.startAbortTimer(Xe.ONE_SECOND*2),c=await fetch(`${i}/attestation/${n}`,{signal:this.abortController.signal});return clearTimeout(o),c.status===200?await c.json():void 0},this.addToQueue=n=>{this.queue.push(n)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(n=>this.sendPost(n)),this.queue=[])},this.sendPost=n=>{var i;try{if(!this.iframe)return;(i=this.iframe.contentWindow)==null||i.postMessage(n,"*"),this.logger.info(`postMessage sent: ${n} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let n;const i=o=>{o.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",i),n())};await Promise.race([new Promise(o=>{if(document.getElementById(Zh))return o();window.addEventListener("message",i);const c=document.createElement("iframe");c.id=Zh,c.src=`${this.verifyUrl}/${this.projectId}`,c.style.display="none",document.body.append(c),this.iframe=c,n=o}),new Promise((o,c)=>setTimeout(()=>{window.removeEventListener("message",i),c("verify iframe load timeout")},Xe.toMiliseconds(Xe.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=n=>{let i=n||La;return Nk.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${La}`),i=La),i},this.logger=Qt.generateChildLogger(r,this.name),this.verifyUrl=La,this.abortController=new AbortController,this.isDevEnv=Lp()&&{}.IS_VITEST}get context(){return Qt.getLoggerContext(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Xe.toMiliseconds(t))}}var sM=Object.defineProperty,xv=Object.getOwnPropertySymbols,oM=Object.prototype.hasOwnProperty,aM=Object.prototype.propertyIsEnumerable,Iv=(e,t,r)=>t in e?sM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Av=(e,t)=>{for(var r in t||(t={}))oM.call(t,r)&&Iv(e,r,t[r]);if(xv)for(var r of xv(t))aM.call(t,r)&&Iv(e,r,t[r]);return e};class qp extends q${constructor(t){super(t),this.protocol=tw,this.version=ak,this.name=Hp,this.events=new Pi.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||nw,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const r=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Qt.pino(Qt.getDefaultLoggerOptions({level:(t==null?void 0:t.logger)||ck.logger}));this.logger=Qt.generateChildLogger(r,this.name),this.heartbeat=new oc.HeartBeat,this.crypto=new Mk(this,this.logger,t==null?void 0:t.keychain),this.history=new rM(this,this.logger),this.expirer=new nM(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new L$(Av(Av({},lk),t==null?void 0:t.storageOptions)),this.relayer=new Xk({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new tM(this,this.logger),this.verify=new iM(this.projectId||"",this.logger)}static async init(t){const r=new qp(t);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(xk,n),r}get context(){return Qt.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const cM=qp,iw="wc",sw=2,ow="client",Wp=`${iw}@${sw}:${ow}:`,Xh={name:ow,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},Ov="WALLETCONNECT_DEEPLINK_CHOICE",lM="proposal",aw="Proposal expired",uM="session",cu=Xe.SEVEN_DAYS,fM="engine",Rc={wc_sessionPropose:{req:{ttl:Xe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Xe.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Xe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Xe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Xe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Xe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Xe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Xe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Xe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Xe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Xe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Xe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Xe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Xe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Xe.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Xe.THIRTY_SECONDS,prompt:!1,tag:1115}}},Jh={min:Xe.FIVE_MINUTES,max:Xe.SEVEN_DAYS},lo={idle:"IDLE",active:"ACTIVE"},hM="request",dM=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var pM=Object.defineProperty,gM=Object.defineProperties,mM=Object.getOwnPropertyDescriptors,Dv=Object.getOwnPropertySymbols,vM=Object.prototype.hasOwnProperty,bM=Object.prototype.propertyIsEnumerable,Tv=(e,t,r)=>t in e?pM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,di=(e,t)=>{for(var r in t||(t={}))vM.call(t,r)&&Tv(e,r,t[r]);if(Dv)for(var r of Dv(t))bM.call(t,r)&&Tv(e,r,t[r]);return e},$c=(e,t)=>gM(e,mM(t));class yM extends Q${constructor(t){super(t),this.name=fM,this.events=new xp,this.initialized=!1,this.ignoredPayloadTypes=[fa],this.requestQueue={state:lo.idle,queue:[]},this.sessionRequestQueue={state:lo.idle,queue:[]},this.requestQueueDelay=Xe.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(Rc)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Xe.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{await this.isInitialized();const n=$c(di({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:o,optionalNamespaces:c,sessionProperties:a,relays:m}=n;let f=i,g,u=!1;if(f&&(u=this.client.core.pairing.pairings.get(f).active),!f||!u){const{topic:C,uri:I}=await this.client.core.pairing.create();f=C,g=I}const d=await this.client.core.crypto.generateKeyPair(),p=di({requiredNamespaces:o,optionalNamespaces:c,relays:m??[{protocol:rw}],proposer:{publicKey:d,metadata:this.client.metadata}},a&&{sessionProperties:a}),{reject:h,resolve:v,done:w}=Ra(Xe.FIVE_MINUTES,aw);if(this.events.once(nn("session_connect"),async({error:C,session:I})=>{if(C)h(C);else if(I){I.self.publicKey=d;const D=$c(di({},I),{requiredNamespaces:I.requiredNamespaces,optionalNamespaces:I.optionalNamespaces});await this.client.session.set(I.topic,D),await this.setExpiry(I.topic,I.expiry),f&&await this.client.core.pairing.updateMetadata({topic:f,metadata:I.peer.metadata}),v(D)}}),!f){const{message:C}=je("NO_MATCHING_KEY",`connect() pairing topic: ${f}`);throw new Error(C)}const _=await this.sendRequest({topic:f,method:"wc_sessionPropose",params:p}),y=ps(Xe.FIVE_MINUTES);return await this.setProposal(_,di({id:_,expiry:y},p)),{uri:g,approval:w}},this.pair=async r=>(await this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{await this.isInitialized(),await this.isValidApprove(r);const{id:n,relayProtocol:i,namespaces:o,sessionProperties:c}=r,a=this.client.proposal.get(n);let{pairingTopic:m,proposer:f,requiredNamespaces:g,optionalNamespaces:u}=a;m=m||"",Ua(g)||(g=xR(o,"approve()"));const d=await this.client.core.crypto.generateKeyPair(),p=f.publicKey,h=await this.client.core.crypto.generateSharedKey(d,p);m&&n&&(await this.client.core.pairing.updateMetadata({topic:m,metadata:f.metadata}),await this.sendResult({id:n,topic:m,result:{relay:{protocol:i??"irn"},responderPublicKey:d}}),await this.client.proposal.delete(n,Jr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:m}));const v=di({relay:{protocol:i??"irn"},namespaces:o,requiredNamespaces:g,optionalNamespaces:u,pairingTopic:m,controller:{publicKey:d,metadata:this.client.metadata},expiry:ps(cu)},c&&{sessionProperties:c});await this.client.core.relayer.subscribe(h),await this.sendRequest({topic:h,method:"wc_sessionSettle",params:v,throwOnFailedPublish:!0});const w=$c(di({},v),{topic:h,pairingTopic:m,acknowledged:!1,self:v.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:d});return await this.client.session.set(h,w),await this.setExpiry(h,ps(cu)),{topic:h,acknowledged:()=>new Promise(_=>setTimeout(()=>_(this.client.session.get(h)),500))}},this.reject=async r=>{await this.isInitialized(),await this.isValidReject(r);const{id:n,reason:i}=r,{pairingTopic:o}=this.client.proposal.get(n);o&&(await this.sendError(n,o,i),await this.client.proposal.delete(n,Jr("USER_DISCONNECTED")))},this.update=async r=>{await this.isInitialized(),await this.isValidUpdate(r);const{topic:n,namespaces:i}=r,o=await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i}}),{done:c,resolve:a,reject:m}=Ra();return this.events.once(nn("session_update",o),({error:f})=>{f?m(f):a()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:c}},this.extend=async r=>{await this.isInitialized(),await this.isValidExtend(r);const{topic:n}=r,i=await this.sendRequest({topic:n,method:"wc_sessionExtend",params:{}}),{done:o,resolve:c,reject:a}=Ra();return this.events.once(nn("session_extend",i),({error:m})=>{m?a(m):c()}),await this.setExpiry(n,ps(cu)),{acknowledged:o}},this.request=async r=>{await this.isInitialized(),await this.isValidRequest(r);const{chainId:n,request:i,topic:o,expiry:c}=r,a=Fp(),{done:m,resolve:f,reject:g}=Ra(c,"Request expired. Please try again.");return this.events.once(nn("session_request",a),({error:u,result:d})=>{u?g(u):f(d)}),await Promise.all([new Promise(async u=>{await this.sendRequest({clientRpcId:a,topic:o,method:"wc_sessionRequest",params:{request:i,chainId:n},expiry:c,throwOnFailedPublish:!0}).catch(d=>g(d)),this.client.events.emit("session_request_sent",{topic:o,request:i,chainId:n,id:a}),u()}),new Promise(async u=>{const d=await this.client.core.storage.getItem(Ov);fR({id:a,topic:o,wcDeepLink:d}),u()}),m()]).then(u=>u[2])},this.respond=async r=>{await this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:o}=i;uo(i)?await this.sendResult({id:o,topic:n,result:i.result,throwOnFailedPublish:!0}):gs(i)&&await this.sendError(o,n,i.error),this.cleanupAfterResponse(r)},this.ping=async r=>{await this.isInitialized(),await this.isValidPing(r);const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=await this.sendRequest({topic:n,method:"wc_sessionPing",params:{}}),{done:o,resolve:c,reject:a}=Ra();this.events.once(nn("session_ping",i),({error:m})=>{m?a(m):c()}),await o()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{await this.isInitialized(),await this.isValidEmit(r);const{topic:n,event:i,chainId:o}=r;await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:o}})},this.disconnect=async r=>{await this.isInitialized(),await this.isValidDisconnect(r);const{topic:n}=r;this.client.session.keys.includes(n)?(await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Jr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(n)):await this.client.core.pairing.disconnect({topic:n})},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>OR(n,r))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(o=>{var c,a;return((c=o.peerMetadata)==null?void 0:c.url)&&((a=o.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&o.topic&&o.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async(r,n)=>{const{self:i}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),this.client.session.delete(r,Jr("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(i.publicKey)&&await this.client.core.crypto.deleteKeyPair(i.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(Ov).catch(o=>this.client.logger.warn(o))},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,Jr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(o=>o.id!==r),i&&(this.sessionRequestQueue.state=lo.idle)},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.core.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.core.expirer.set(r,n.expiry)},this.setPendingSessionRequest=async r=>{const n=Rc.wc_sessionRequest.req.ttl,{id:i,topic:o,params:c,verifyContext:a}=r;await this.client.pendingRequest.set(i,{id:i,topic:o,params:c,verifyContext:a}),n&&this.client.core.expirer.set(i,ps(n))},this.sendRequest=async r=>{const{topic:n,method:i,params:o,expiry:c,relayRpcId:a,clientRpcId:m,throwOnFailedPublish:f}=r,g=Ba(i,o,m);if(ul()&&dM.includes(i)){const p=Fa(JSON.stringify(g));this.client.core.verify.register({attestationId:p})}const u=await this.client.core.crypto.encode(n,g),d=Rc[i].req;return c&&(d.ttl=c),a&&(d.id=a),this.client.core.history.set(n,g),f?(d.internal=$c(di({},d.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,u,d)):this.client.core.relayer.publish(n,u,d).catch(p=>this.client.logger.error(p)),g.id},this.sendResult=async r=>{const{id:n,topic:i,result:o,throwOnFailedPublish:c}=r,a=Up(n,o),m=await this.client.core.crypto.encode(i,a),f=await this.client.core.history.get(i,n),g=Rc[f.request.method].res;c?(g.internal=$c(di({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,m,g)):this.client.core.relayer.publish(i,m,g).catch(u=>this.client.logger.error(u)),await this.client.core.history.resolve(a)},this.sendError=async(r,n,i)=>{const o=mf(r,i),c=await this.client.core.crypto.encode(n,o),a=await this.client.core.history.get(n,r),m=Rc[a.request.method].res;this.client.core.relayer.publish(n,c,m),await this.client.core.history.resolve(o)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{Po(i.expiry)&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Po(i.expiry)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession(i)),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===lo.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=lo.active;const r=this.requestQueue.queue.shift();if(r)try{this.processRequest(r),await new Promise(n=>setTimeout(n,300))}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=lo.idle},this.processRequest=r=>{const{topic:n,payload:i}=r,o=i.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${o}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:i}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:n}=r,{message:i}=je("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.onSessionProposeRequest=async(r,n)=>{const{params:i,id:o}=n;try{this.isValidConnect(di({},n.params));const c=ps(Xe.FIVE_MINUTES),a=di({id:o,pairingTopic:r,expiry:c},i);await this.setProposal(o,a);const m=Fa(JSON.stringify(n)),f=await this.getVerifyContext(m,a.proposer.metadata);this.client.events.emit("session_proposal",{id:o,params:a,verifyContext:f})}catch(c){await this.sendError(o,r,c),this.client.logger.error(c)}},this.onSessionProposeResponse=async(r,n)=>{const{id:i}=n;if(uo(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const c=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});const a=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});const m=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:m});const f=await this.client.core.crypto.generateSharedKey(a,m);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:f});const g=await this.client.core.relayer.subscribe(f);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:g}),await this.client.core.pairing.activate({topic:r})}else gs(n)&&(await this.client.proposal.delete(i,Jr("USER_DISCONNECTED")),this.events.emit(nn("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{const{id:i,params:o}=n;try{this.isValidSessionSettleRequest(o);const{relay:c,controller:a,expiry:m,namespaces:f,requiredNamespaces:g,optionalNamespaces:u,sessionProperties:d,pairingTopic:p}=n.params,h=di({topic:r,relay:c,expiry:m,namespaces:f,acknowledged:!0,pairingTopic:p,requiredNamespaces:g,optionalNamespaces:u,controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},d&&{sessionProperties:d});await this.sendResult({id:n.id,topic:r,result:!0}),this.events.emit(nn("session_connect"),{session:h}),this.cleanupDuplicatePairings(h)}catch(c){await this.sendError(i,r,c),this.client.logger.error(c)}},this.onSessionSettleResponse=async(r,n)=>{const{id:i}=n;uo(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(nn("session_approve",i),{})):gs(n)&&(await this.client.session.delete(r,Jr("USER_DISCONNECTED")),this.events.emit(nn("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:i,id:o}=n;try{const c=`${r}_session_update`,a=su.get(c);if(a&&this.isRequestOutOfSync(a,o)){this.client.logger.info(`Discarding out of sync request - ${o}`);return}this.isValidUpdate(di({topic:r},i)),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:o,topic:r,result:!0}),this.client.events.emit("session_update",{id:o,topic:r,params:i}),su.set(c,o)}catch(c){await this.sendError(o,r,c),this.client.logger.error(c)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{const{id:i}=n;uo(n)?this.events.emit(nn("session_update",i),{}):gs(n)&&this.events.emit(nn("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,ps(cu)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionExtendResponse=(r,n)=>{const{id:i}=n;uo(n)?this.events.emit(nn("session_extend",i),{}):gs(n)&&this.events.emit(nn("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionPingResponse=(r,n)=>{const{id:i}=n;setTimeout(()=>{uo(n)?this.events.emit(nn("session_ping",i),{}):gs(n)&&this.events.emit(nn("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(o=>{this.client.core.relayer.once(Un.publish,async()=>{o(await this.deleteSession(r))})}),this.sendResult({id:i,topic:r,result:!0})]),this.client.events.emit("session_delete",{id:i,topic:r})}catch(o){this.client.logger.error(o)}},this.onSessionRequest=async(r,n)=>{const{id:i,params:o}=n;try{this.isValidRequest(di({topic:r},o));const c=Fa(JSON.stringify(Ba("wc_sessionRequest",o,i))),a=this.client.session.get(r),m=await this.getVerifyContext(c,a.peer.metadata),f={id:i,topic:r,params:o,verifyContext:m};await this.setPendingSessionRequest(f),this.addSessionRequestToSessionRequestQueue(f),this.processSessionRequestQueue()}catch(c){await this.sendError(i,r,c),this.client.logger.error(c)}},this.onSessionRequestResponse=(r,n)=>{const{id:i}=n;uo(n)?this.events.emit(nn("session_request",i),{result:n.result}):gs(n)&&this.events.emit(nn("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:i,params:o}=n;try{const c=`${r}_session_event_${o.event.name}`,a=su.get(c);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(di({topic:r},o)),this.client.events.emit("session_event",{id:i,topic:r,params:o}),su.set(c,i)}catch(c){await this.sendError(i,r,c),this.client.logger.error(c)}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=lo.idle,this.processSessionRequestQueue()},Xe.toMiliseconds(this.requestQueueDelay))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===lo.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=lo.active,this.client.events.emit("session_request",r)}catch(n){this.client.logger.error(n)}},this.onPairingCreated=r=>{if(r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest(r.topic,Ba("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer},n.id))},this.isValidConnect=async r=>{if(!mi(r)){const{message:m}=je("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(m)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:c,relays:a}=r;if(Xn(n)||await this.isValidPairingTopic(n),!UR(a,!0)){const{message:m}=je("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(m)}!Xn(i)&&Ua(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Xn(o)&&Ua(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),Xn(c)||this.validateSessionProps(c,"sessionProperties")},this.validateNamespaces=(r,n)=>{const i=FR(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!mi(r))throw new Error(je("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:o,sessionProperties:c}=r;await this.isValidProposalId(n);const a=this.client.proposal.get(n),m=_u(i,"approve()");if(m)throw new Error(m.message);const f=F1(a.requiredNamespaces,i,"approve()");if(f)throw new Error(f.message);if(!xn(o,!0)){const{message:g}=je("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(g)}Xn(c)||this.validateSessionProps(c,"sessionProperties")},this.isValidReject=async r=>{if(!mi(r)){const{message:o}=je("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(o)}const{id:n,reason:i}=r;if(await this.isValidProposalId(n),!HR(i)){const{message:o}=je("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(o)}},this.isValidSessionSettleRequest=r=>{if(!mi(r)){const{message:f}=je("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(f)}const{relay:n,controller:i,namespaces:o,expiry:c}=r;if(!A_(n)){const{message:f}=je("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(f)}const a=$R(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const m=_u(o,"onSessionSettleRequest()");if(m)throw new Error(m.message);if(Po(c)){const{message:f}=je("EXPIRED","onSessionSettleRequest()");throw new Error(f)}},this.isValidUpdate=async r=>{if(!mi(r)){const{message:m}=je("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(m)}const{topic:n,namespaces:i}=r;await this.isValidSessionTopic(n);const o=this.client.session.get(n),c=_u(i,"update()");if(c)throw new Error(c.message);const a=F1(o.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!mi(r)){const{message:i}=je("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!mi(r)){const{message:m}=je("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(m)}const{topic:n,request:i,chainId:o,expiry:c}=r;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!j1(a,o)){const{message:m}=je("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(m)}if(!qR(i)){const{message:m}=je("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(m)}if(!VR(a,o,i.method)){const{message:m}=je("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(m)}if(c&&!YR(c,Jh)){const{message:m}=je("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${Jh.min} and ${Jh.max}`);throw new Error(m)}},this.isValidRespond=async r=>{if(!mi(r)){const{message:o}=je("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:n,response:i}=r;if(await this.isValidSessionTopic(n),!WR(i)){const{message:o}=je("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}},this.isValidPing=async r=>{if(!mi(r)){const{message:i}=je("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!mi(r)){const{message:a}=je("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:o}=r;await this.isValidSessionTopic(n);const{namespaces:c}=this.client.session.get(n);if(!j1(c,o)){const{message:a}=je("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(a)}if(!zR(i)){const{message:a}=je("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!GR(c,o,i.name)){const{message:a}=je("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!mi(r)){const{message:i}=je("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(r,n)=>{const i={verified:{verifyUrl:n.verifyUrl||La,validation:"UNKNOWN",origin:n.url||""}};try{const o=await this.client.core.verify.resolve({attestationId:r,verifyUrl:n.verifyUrl});o&&(i.verified.origin=o.origin,i.verified.isScam=o.isScam,i.verified.validation=o.origin===new URL(n.url).origin?"VALID":"INVALID")}catch(o){this.client.logger.info(o)}return this.client.logger.info(`Verify context: ${JSON.stringify(i)}`),i},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!xn(i,!1)){const{message:o}=je("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(o)}})}}async isInitialized(){if(!this.initialized){const{message:t}=je("NOT_INITIALIZED",this.name);throw new Error(t)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Un.message,async t=>{const{topic:r,message:n}=t;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const i=await this.client.core.crypto.decode(r,n);try{Bp(i)?(this.client.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):vf(i)?(await this.client.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.client.core.history.delete(r,i.id)):this.onRelayEventUnknownPayload({topic:r,payload:i})}catch(o){this.client.logger.error(o)}})}registerExpirerEvents(){this.client.core.expirer.on(Zi.expired,async t=>{const{topic:r,id:n}=x_(t.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,je("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Fc.create,t=>this.onPairingCreated(t))}isValidPairingTopic(t){if(!xn(t,!1)){const{message:r}=je("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=je("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(Po(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=je("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!xn(t,!1)){const{message:r}=je("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(!this.client.session.keys.includes(t)){const{message:r}=je("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(Po(this.client.session.get(t).expiry)){await this.deleteSession(t);const{message:r}=je("EXPIRED",`session topic: ${t}`);throw new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(xn(t,!1)){const{message:r}=je("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=je("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!BR(t)){const{message:r}=je("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=je("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(Po(this.client.proposal.get(t).expiry)){await this.deleteProposal(t);const{message:r}=je("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}}class _M extends yf{constructor(t,r){super(t,r,lM,Wp),this.core=t,this.logger=r}}class wM extends yf{constructor(t,r){super(t,r,uM,Wp),this.core=t,this.logger=r}}class EM extends yf{constructor(t,r){super(t,r,hM,Wp,n=>n.id),this.core=t,this.logger=r}}let SM=class cw extends J${constructor(t){super(t),this.protocol=iw,this.version=sw,this.name=Xh.name,this.events=new Pi.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=(t==null?void 0:t.name)||Xh.name,this.metadata=(t==null?void 0:t.metadata)||iR();const r=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Qt.pino(Qt.getDefaultLoggerOptions({level:(t==null?void 0:t.logger)||Xh.logger}));this.core=(t==null?void 0:t.core)||new cM(t),this.logger=Qt.generateChildLogger(r,this.name),this.session=new wM(this.core,this.logger),this.proposal=new _M(this.core,this.logger),this.pendingRequest=new EM(this.core,this.logger),this.engine=new yM(this)}static async init(t){const r=new cw(t);return await r.initialize(),r}get context(){return Qt.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var Ud={exports:{}};(function(e,t){var r=typeof self<"u"?self:Vr,n=function(){function o(){this.fetch=!1,this.DOMException=r.DOMException}return o.prototype=r,new o}();(function(o){(function(c){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function m($){return $&&DataView.prototype.isPrototypeOf($)}if(a.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function($){return $&&f.indexOf(Object.prototype.toString.call($))>-1};function u($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test($))throw new TypeError("Invalid character in header field name");return $.toLowerCase()}function d($){return typeof $!="string"&&($=String($)),$}function p($){var L={next:function(){var q=$.shift();return{done:q===void 0,value:q}}};return a.iterable&&(L[Symbol.iterator]=function(){return L}),L}function h($){this.map={},$ instanceof h?$.forEach(function(L,q){this.append(q,L)},this):Array.isArray($)?$.forEach(function(L){this.append(L[0],L[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(L){this.append(L,$[L])},this)}h.prototype.append=function($,L){$=u($),L=d(L);var q=this.map[$];this.map[$]=q?q+", "+L:L},h.prototype.delete=function($){delete this.map[u($)]},h.prototype.get=function($){return $=u($),this.has($)?this.map[$]:null},h.prototype.has=function($){return this.map.hasOwnProperty(u($))},h.prototype.set=function($,L){this.map[u($)]=d(L)},h.prototype.forEach=function($,L){for(var q in this.map)this.map.hasOwnProperty(q)&&$.call(L,this.map[q],q,this)},h.prototype.keys=function(){var $=[];return this.forEach(function(L,q){$.push(q)}),p($)},h.prototype.values=function(){var $=[];return this.forEach(function(L){$.push(L)}),p($)},h.prototype.entries=function(){var $=[];return this.forEach(function(L,q){$.push([q,L])}),p($)},a.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);function v($){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}function w($){return new Promise(function(L,q){$.onload=function(){L($.result)},$.onerror=function(){q($.error)}})}function _($){var L=new FileReader,q=w(L);return L.readAsArrayBuffer($),q}function y($){var L=new FileReader,q=w(L);return L.readAsText($),q}function C($){for(var L=new Uint8Array($),q=new Array(L.length),W=0;W<L.length;W++)q[W]=String.fromCharCode(L[W]);return q.join("")}function I($){if($.slice)return $.slice(0);var L=new Uint8Array($.byteLength);return L.set(new Uint8Array($)),L.buffer}function D(){return this.bodyUsed=!1,this._initBody=function($){this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:a.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:a.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:a.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():a.arrayBuffer&&a.blob&&m($)?(this._bodyArrayBuffer=I($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||g($))?this._bodyArrayBuffer=I($):this._bodyText=$=Object.prototype.toString.call($):this._bodyText="",this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var $=v(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var $=v(this);if($)return $;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E($){var L=$.toUpperCase();return O.indexOf(L)>-1?L:$}function b($,L){L=L||{};var q=L.body;if($ instanceof b){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,L.headers||(this.headers=new h($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!q&&$._bodyInit!=null&&(q=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=L.credentials||this.credentials||"same-origin",(L.headers||!this.headers)&&(this.headers=new h(L.headers)),this.method=E(L.method||this.method||"GET"),this.mode=L.mode||this.mode||null,this.signal=L.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&q)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(q)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})};function x($){var L=new FormData;return $.trim().split("&").forEach(function(q){if(q){var W=q.split("="),z=W.shift().replace(/\+/g," "),K=W.join("=").replace(/\+/g," ");L.append(decodeURIComponent(z),decodeURIComponent(K))}}),L}function A($){var L=new h,q=$.replace(/\r?\n[\t ]+/g," ");return q.split(/\r?\n/).forEach(function(W){var z=W.split(":"),K=z.shift().trim();if(K){var se=z.join(":").trim();L.append(K,se)}}),L}D.call(b.prototype);function N($,L){L||(L={}),this.type="default",this.status=L.status===void 0?200:L.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in L?L.statusText:"OK",this.headers=new h(L.headers),this.url=L.url||"",this._initBody($)}D.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},N.error=function(){var $=new N(null,{status:0,statusText:""});return $.type="error",$};var j=[301,302,303,307,308];N.redirect=function($,L){if(j.indexOf(L)===-1)throw new RangeError("Invalid status code");return new N(null,{status:L,headers:{location:$}})},c.DOMException=o.DOMException;try{new c.DOMException}catch{c.DOMException=function(L,q){this.message=L,this.name=q;var W=Error(L);this.stack=W.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function B($,L){return new Promise(function(q,W){var z=new b($,L);if(z.signal&&z.signal.aborted)return W(new c.DOMException("Aborted","AbortError"));var K=new XMLHttpRequest;function se(){K.abort()}K.onload=function(){var re={status:K.status,statusText:K.statusText,headers:A(K.getAllResponseHeaders()||"")};re.url="responseURL"in K?K.responseURL:re.headers.get("X-Request-URL");var we="response"in K?K.response:K.responseText;q(new N(we,re))},K.onerror=function(){W(new TypeError("Network request failed"))},K.ontimeout=function(){W(new TypeError("Network request failed"))},K.onabort=function(){W(new c.DOMException("Aborted","AbortError"))},K.open(z.method,z.url,!0),z.credentials==="include"?K.withCredentials=!0:z.credentials==="omit"&&(K.withCredentials=!1),"responseType"in K&&a.blob&&(K.responseType="blob"),z.headers.forEach(function(re,we){K.setRequestHeader(we,re)}),z.signal&&(z.signal.addEventListener("abort",se),K.onreadystatechange=function(){K.readyState===4&&z.signal.removeEventListener("abort",se)}),K.send(typeof z._bodyInit>"u"?null:z._bodyInit)})}return B.polyfill=!0,o.fetch||(o.fetch=B,o.Headers=h,o.Request=b,o.Response=N),c.Headers=h,c.Request=b,c.Response=N,c.fetch=B,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(Ud,Ud.exports);var CM=Ud.exports;const Pv=mo(CM),xM={Accept:"application/json","Content-Type":"application/json"},IM="POST",Rv={headers:xM,method:IM},$v=10;class Bo{constructor(t,r=!1){if(this.url=t,this.disableProviderPing=r,this.events=new Pi.EventEmitter,this.isAvailable=!1,this.registering=!1,!ov(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t,r){this.isAvailable||await this.register();try{const n=oa(t),o=await(await Pv(this.url,Object.assign(Object.assign({},Rv),{body:n}))).json();this.onPayload({data:o})}catch(n){this.onError(t.id,n)}}async register(t=this.url){if(!ov(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),i(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const r=oa({id:1,jsonrpc:"2.0",method:"test",params:[]});await Pv(t,Object.assign(Object.assign({},Rv),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?dl(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const n=this.parseError(r),i=n.message||n.toString(),o=mf(t,i);this.events.emit("payload",o)}parseError(t,r=this.url){return F_(t,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>$v&&this.events.setMaxListeners($v)}}const Lv="error",AM="wss://relay.walletconnect.com",OM="wc",DM="universal_provider",Nv=`${OM}@2:${DM}:`,TM="https://rpc.walletconnect.com/v1/",yo={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bd={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(e,t){(function(){var r,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",a="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",f=500,g="__lodash_placeholder__",u=1,d=2,p=4,h=1,v=2,w=1,_=2,y=4,C=8,I=16,D=32,O=64,E=128,b=256,x=512,A=30,N="...",j=800,B=16,$=1,L=2,q=3,W=1/0,z=9007199254740991,K=17976931348623157e292,se=0/0,re=4294967295,we=re-1,fe=re>>>1,me=[["ary",E],["bind",w],["bindKey",_],["curry",C],["curryRight",I],["flip",x],["partial",D],["partialRight",O],["rearg",b]],ge="[object Arguments]",Ie="[object Array]",ne="[object AsyncFunction]",J="[object Boolean]",te="[object Date]",R="[object DOMException]",Z="[object Error]",Oe="[object Function]",Le="[object GeneratorFunction]",Ne="[object Map]",ke="[object Number]",Et="[object Null]",dt="[object Object]",ar="[object Promise]",cr="[object Proxy]",pt="[object RegExp]",rt="[object Set]",ct="[object String]",et="[object Symbol]",gt="[object Undefined]",ot="[object WeakMap]",vt="[object WeakSet]",nt="[object ArrayBuffer]",it="[object DataView]",bt="[object Float32Array]",tt="[object Float64Array]",_t="[object Int8Array]",wt="[object Int16Array]",Ot="[object Int32Array]",yt="[object Uint8Array]",mt="[object Uint8ClampedArray]",mr="[object Uint16Array]",$r="[object Uint32Array]",vn=/\b__p \+= '';/g,lr=/\b(__p \+=) '' \+/g,en=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hn=/&(?:amp|lt|gt|quot|#39);/g,tn=/[&<>"']/g,rr=RegExp(Hn.source),Bt=RegExp(tn.source),ur=/<%-([\s\S]+?)%>/g,fr=/<%([\s\S]+?)%>/g,Kt=/<%=([\s\S]+?)%>/g,er=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Er=/^\w*$/,Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hr=/[\\^$.*+?()[\]{}|]/g,dr=RegExp(hr.source),ir=/^\s+/,vr=/\s/,br=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xt=/\{\n\/\* \[wrapped with (.+)\] \*/,Tr=/,? & /,yr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,es=/[()=,{}\[\]\/\s]/,ms=/\\(\\)?/g,qn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sr=/\w*$/,Bs=/^[-+]0x[0-9a-f]+$/i,Hs=/^0b[01]+$/i,qs=/^\[object .+?Constructor\]$/,Ws=/^0o[0-7]+$/i,In=/^(?:0|[1-9]\d*)$/,Hr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ri=/($^)/,zs=/['\n\r\u2028\u2029\\]/g,Wn="\\ud800-\\udfff",ts="\\u0300-\\u036f",An="\\ufe20-\\ufe2f",bn="\\u20d0-\\u20ff",rs=ts+An+bn,vs="\\u2700-\\u27bf",Lr="a-z\\xdf-\\xf6\\xf8-\\xff",Vs="\\xac\\xb1\\xd7\\xf7",ni="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Gs="\\u2000-\\u206f",Ks=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yn="A-Z\\xc0-\\xd6\\xd8-\\xde",bs="\\ufe0e\\ufe0f",Rn=Vs+ni+Gs+Ks,ns="['’]",_i="["+Wn+"]",is="["+Rn+"]",wi="["+rs+"]",ii="\\d+",Ei="["+vs+"]",$i="["+Lr+"]",Li="[^"+Wn+Rn+ii+vs+Lr+yn+"]",si="\\ud83c[\\udffb-\\udfff]",ys="(?:"+wi+"|"+si+")",_s="[^"+Wn+"]",Ni="(?:\\ud83c[\\udde6-\\uddff]){2}",oi="[\\ud800-\\udbff][\\udc00-\\udfff]",rn="["+yn+"]",ws="\\u200d",Es="(?:"+$i+"|"+Li+")",$n="(?:"+rn+"|"+Li+")",ki="(?:"+ns+"(?:d|ll|m|re|s|t|ve))?",ss="(?:"+ns+"(?:D|LL|M|RE|S|T|VE))?",Ss=ys+"?",os="["+bs+"]?",Mi="(?:"+ws+"(?:"+[_s,Ni,oi].join("|")+")"+os+Ss+")*",on="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ji="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fi=os+Ss+Mi,_n="(?:"+[Ei,Ni,oi].join("|")+")"+Fi,Cs="(?:"+[_s+wi+"?",wi,Ni,oi,_i].join("|")+")",qr=RegExp(ns,"g"),jr=RegExp(wi,"g"),wn=RegExp(si+"(?="+si+")|"+Cs+Fi,"g"),Ln=RegExp([rn+"?"+$i+"+"+ki+"(?="+[is,rn,"$"].join("|")+")",$n+"+"+ss+"(?="+[is,rn+Es,"$"].join("|")+")",rn+"?"+Es+"+"+ki,rn+"+"+ss,ji,on,ii,_n].join("|"),"g"),Nn=RegExp("["+ws+Wn+rs+bs+"]"),ai=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Is=-1,Zt={};Zt[bt]=Zt[tt]=Zt[_t]=Zt[wt]=Zt[Ot]=Zt[yt]=Zt[mt]=Zt[mr]=Zt[$r]=!0,Zt[ge]=Zt[Ie]=Zt[nt]=Zt[J]=Zt[it]=Zt[te]=Zt[Z]=Zt[Oe]=Zt[Ne]=Zt[ke]=Zt[dt]=Zt[pt]=Zt[rt]=Zt[ct]=Zt[ot]=!1;var zt={};zt[ge]=zt[Ie]=zt[nt]=zt[it]=zt[J]=zt[te]=zt[bt]=zt[tt]=zt[_t]=zt[wt]=zt[Ot]=zt[Ne]=zt[ke]=zt[dt]=zt[pt]=zt[rt]=zt[ct]=zt[et]=zt[yt]=zt[mt]=zt[mr]=zt[$r]=!0,zt[Z]=zt[Oe]=zt[ot]=!1;var G={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},M={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Y={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ce=parseFloat,Ee=parseInt,Ve=typeof Lc=="object"&&Lc&&Lc.Object===Object&&Lc,Ge=typeof self=="object"&&self&&self.Object===Object&&self,He=Ve||Ge||Function("return this")(),qe=t&&!t.nodeType&&t,at=qe&&!0&&e&&!e.nodeType&&e,Yt=at&&at.exports===qe,St=Yt&&Ve.process,Pt=function(){try{var ae=at&&at.require&&at.require("util").types;return ae||St&&St.binding&&St.binding("util")}catch{}}(),Ar=Pt&&Pt.isArrayBuffer,an=Pt&&Pt.isDate,cn=Pt&&Pt.isMap,ci=Pt&&Pt.isRegExp,Zs=Pt&&Pt.isSet,kn=Pt&&Pt.isTypedArray;function Gr(ae,ye,pe){switch(pe.length){case 0:return ae.call(ye);case 1:return ae.call(ye,pe[0]);case 2:return ae.call(ye,pe[0],pe[1]);case 3:return ae.call(ye,pe[0],pe[1],pe[2])}return ae.apply(ye,pe)}function ac(ae,ye,pe,ze){for(var Ct=-1,or=ae==null?0:ae.length;++Ct<or;){var un=ae[Ct];ye(ze,un,pe(un),ae)}return ze}function U(ae,ye){for(var pe=-1,ze=ae==null?0:ae.length;++pe<ze&&ye(ae[pe],pe,ae)!==!1;);return ae}function T(ae,ye){for(var pe=ae==null?0:ae.length;pe--&&ye(ae[pe],pe,ae)!==!1;);return ae}function F(ae,ye){for(var pe=-1,ze=ae==null?0:ae.length;++pe<ze;)if(!ye(ae[pe],pe,ae))return!1;return!0}function ee(ae,ye){for(var pe=-1,ze=ae==null?0:ae.length,Ct=0,or=[];++pe<ze;){var un=ae[pe];ye(un,pe,ae)&&(or[Ct++]=un)}return or}function de(ae,ye){var pe=ae==null?0:ae.length;return!!pe&&Nr(ae,ye,0)>-1}function _e(ae,ye,pe){for(var ze=-1,Ct=ae==null?0:ae.length;++ze<Ct;)if(pe(ye,ae[ze]))return!0;return!1}function ve(ae,ye){for(var pe=-1,ze=ae==null?0:ae.length,Ct=Array(ze);++pe<ze;)Ct[pe]=ye(ae[pe],pe,ae);return Ct}function We(ae,ye){for(var pe=-1,ze=ye.length,Ct=ae.length;++pe<ze;)ae[Ct+pe]=ye[pe];return ae}function Je(ae,ye,pe,ze){var Ct=-1,or=ae==null?0:ae.length;for(ze&&or&&(pe=ae[++Ct]);++Ct<or;)pe=ye(pe,ae[Ct],Ct,ae);return pe}function ut(ae,ye,pe,ze){var Ct=ae==null?0:ae.length;for(ze&&Ct&&(pe=ae[--Ct]);Ct--;)pe=ye(pe,ae[Ct],Ct,ae);return pe}function Rt(ae,ye){for(var pe=-1,ze=ae==null?0:ae.length;++pe<ze;)if(ye(ae[pe],pe,ae))return!0;return!1}var Nt=Ci("length");function Dt(ae){return ae.split("")}function Vt(ae){return ae.match(yr)||[]}function Sr(ae,ye,pe){var ze;return pe(ae,function(Ct,or,un){if(ye(Ct,or,un))return ze=or,!1}),ze}function Pr(ae,ye,pe,ze){for(var Ct=ae.length,or=pe+(ze?1:-1);ze?or--:++or<Ct;)if(ye(ae[or],or,ae))return or;return-1}function Nr(ae,ye,pe){return ye===ye?Sw(ae,ye,pe):Pr(ae,Si,pe)}function ln(ae,ye,pe,ze){for(var Ct=pe-1,or=ae.length;++Ct<or;)if(ze(ae[Ct],ye))return Ct;return-1}function Si(ae){return ae!==ae}function As(ae,ye){var pe=ae==null?0:ae.length;return pe?wf(ae,ye)/pe:se}function Ci(ae){return function(ye){return ye==null?r:ye[ae]}}function _o(ae){return function(ye){return ae==null?r:ae[ye]}}function Vp(ae,ye,pe,ze,Ct){return Ct(ae,function(or,un,Or){pe=ze?(ze=!1,or):ye(pe,or,un,Or)}),pe}function dw(ae,ye){var pe=ae.length;for(ae.sort(ye);pe--;)ae[pe]=ae[pe].value;return ae}function wf(ae,ye){for(var pe,ze=-1,Ct=ae.length;++ze<Ct;){var or=ye(ae[ze]);or!==r&&(pe=pe===r?or:pe+or)}return pe}function Ef(ae,ye){for(var pe=-1,ze=Array(ae);++pe<ae;)ze[pe]=ye(pe);return ze}function pw(ae,ye){return ve(ye,function(pe){return[pe,ae[pe]]})}function Gp(ae){return ae&&ae.slice(0,Xp(ae)+1).replace(ir,"")}function xi(ae){return function(ye){return ae(ye)}}function Sf(ae,ye){return ve(ye,function(pe){return ae[pe]})}function cc(ae,ye){return ae.has(ye)}function Kp(ae,ye){for(var pe=-1,ze=ae.length;++pe<ze&&Nr(ye,ae[pe],0)>-1;);return pe}function Zp(ae,ye){for(var pe=ae.length;pe--&&Nr(ye,ae[pe],0)>-1;);return pe}function gw(ae,ye){for(var pe=ae.length,ze=0;pe--;)ae[pe]===ye&&++ze;return ze}var mw=_o(G),vw=_o(oe);function bw(ae){return"\\"+Y[ae]}function yw(ae,ye){return ae==null?r:ae[ye]}function ga(ae){return Nn.test(ae)}function _w(ae){return ai.test(ae)}function ww(ae){for(var ye,pe=[];!(ye=ae.next()).done;)pe.push(ye.value);return pe}function Cf(ae){var ye=-1,pe=Array(ae.size);return ae.forEach(function(ze,Ct){pe[++ye]=[Ct,ze]}),pe}function Yp(ae,ye){return function(pe){return ae(ye(pe))}}function wo(ae,ye){for(var pe=-1,ze=ae.length,Ct=0,or=[];++pe<ze;){var un=ae[pe];(un===ye||un===g)&&(ae[pe]=g,or[Ct++]=pe)}return or}function gl(ae){var ye=-1,pe=Array(ae.size);return ae.forEach(function(ze){pe[++ye]=ze}),pe}function Ew(ae){var ye=-1,pe=Array(ae.size);return ae.forEach(function(ze){pe[++ye]=[ze,ze]}),pe}function Sw(ae,ye,pe){for(var ze=pe-1,Ct=ae.length;++ze<Ct;)if(ae[ze]===ye)return ze;return-1}function Cw(ae,ye,pe){for(var ze=pe+1;ze--;)if(ae[ze]===ye)return ze;return ze}function ma(ae){return ga(ae)?Iw(ae):Nt(ae)}function as(ae){return ga(ae)?Aw(ae):Dt(ae)}function Xp(ae){for(var ye=ae.length;ye--&&vr.test(ae.charAt(ye)););return ye}var xw=_o(M);function Iw(ae){for(var ye=wn.lastIndex=0;wn.test(ae);)++ye;return ye}function Aw(ae){return ae.match(wn)||[]}function Ow(ae){return ae.match(Ln)||[]}var Dw=function ae(ye){ye=ye==null?He:va.defaults(He.Object(),ye,va.pick(He,xs));var pe=ye.Array,ze=ye.Date,Ct=ye.Error,or=ye.Function,un=ye.Math,Or=ye.Object,xf=ye.RegExp,Tw=ye.String,Ui=ye.TypeError,ml=pe.prototype,Pw=or.prototype,ba=Or.prototype,vl=ye["__core-js_shared__"],bl=Pw.toString,_r=ba.hasOwnProperty,Rw=0,Jp=function(){var s=/[^.]+$/.exec(vl&&vl.keys&&vl.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),yl=ba.toString,$w=bl.call(Or),Lw=He._,Nw=xf("^"+bl.call(_r).replace(hr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_l=Yt?ye.Buffer:r,Eo=ye.Symbol,wl=ye.Uint8Array,Qp=_l?_l.allocUnsafe:r,El=Yp(Or.getPrototypeOf,Or),eg=Or.create,tg=ba.propertyIsEnumerable,Sl=ml.splice,rg=Eo?Eo.isConcatSpreadable:r,lc=Eo?Eo.iterator:r,Ho=Eo?Eo.toStringTag:r,Cl=function(){try{var s=Go(Or,"defineProperty");return s({},"",{}),s}catch{}}(),kw=ye.clearTimeout!==He.clearTimeout&&ye.clearTimeout,Mw=ze&&ze.now!==He.Date.now&&ze.now,jw=ye.setTimeout!==He.setTimeout&&ye.setTimeout,xl=un.ceil,Il=un.floor,If=Or.getOwnPropertySymbols,Fw=_l?_l.isBuffer:r,ng=ye.isFinite,Uw=ml.join,Bw=Yp(Or.keys,Or),fn=un.max,Mn=un.min,Hw=ze.now,qw=ye.parseInt,ig=un.random,Ww=ml.reverse,Af=Go(ye,"DataView"),uc=Go(ye,"Map"),Of=Go(ye,"Promise"),ya=Go(ye,"Set"),fc=Go(ye,"WeakMap"),hc=Go(Or,"create"),Al=fc&&new fc,_a={},zw=Ko(Af),Vw=Ko(uc),Gw=Ko(Of),Kw=Ko(ya),Zw=Ko(fc),Ol=Eo?Eo.prototype:r,dc=Ol?Ol.valueOf:r,sg=Ol?Ol.toString:r;function H(s){if(Kr(s)&&!It(s)&&!(s instanceof Gt)){if(s instanceof Bi)return s;if(_r.call(s,"__wrapped__"))return o0(s)}return new Bi(s)}var wa=function(){function s(){}return function(l){if(!Wr(l))return{};if(eg)return eg(l);s.prototype=l;var S=new s;return s.prototype=r,S}}();function Dl(){}function Bi(s,l){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=r}H.templateSettings={escape:ur,evaluate:fr,interpolate:Kt,variable:"",imports:{_:H}},H.prototype=Dl.prototype,H.prototype.constructor=H,Bi.prototype=wa(Dl.prototype),Bi.prototype.constructor=Bi;function Gt(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function Yw(){var s=new Gt(this.__wrapped__);return s.__actions__=li(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=li(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=li(this.__views__),s}function Xw(){if(this.__filtered__){var s=new Gt(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function Jw(){var s=this.__wrapped__.value(),l=this.__dir__,S=It(s),P=l<0,k=S?s.length:0,V=u3(0,k,this.__views__),Q=V.start,ie=V.end,ue=ie-Q,Se=P?ie:Q-1,Ce=this.__iteratees__,Te=Ce.length,Me=0,Ye=Mn(ue,this.__takeCount__);if(!S||!P&&k==ue&&Ye==ue)return Dg(s,this.__actions__);var ft=[];e:for(;ue--&&Me<Ye;){Se+=l;for(var kt=-1,ht=s[Se];++kt<Te;){var Wt=Ce[kt],Xt=Wt.iteratee,Oi=Wt.type,Gn=Xt(ht);if(Oi==L)ht=Gn;else if(!Gn){if(Oi==$)continue e;break e}}ft[Me++]=ht}return ft}Gt.prototype=wa(Dl.prototype),Gt.prototype.constructor=Gt;function qo(s){var l=-1,S=s==null?0:s.length;for(this.clear();++l<S;){var P=s[l];this.set(P[0],P[1])}}function Qw(){this.__data__=hc?hc(null):{},this.size=0}function e2(s){var l=this.has(s)&&delete this.__data__[s];return this.size-=l?1:0,l}function t2(s){var l=this.__data__;if(hc){var S=l[s];return S===m?r:S}return _r.call(l,s)?l[s]:r}function r2(s){var l=this.__data__;return hc?l[s]!==r:_r.call(l,s)}function n2(s,l){var S=this.__data__;return this.size+=this.has(s)?0:1,S[s]=hc&&l===r?m:l,this}qo.prototype.clear=Qw,qo.prototype.delete=e2,qo.prototype.get=t2,qo.prototype.has=r2,qo.prototype.set=n2;function Ys(s){var l=-1,S=s==null?0:s.length;for(this.clear();++l<S;){var P=s[l];this.set(P[0],P[1])}}function i2(){this.__data__=[],this.size=0}function s2(s){var l=this.__data__,S=Tl(l,s);if(S<0)return!1;var P=l.length-1;return S==P?l.pop():Sl.call(l,S,1),--this.size,!0}function o2(s){var l=this.__data__,S=Tl(l,s);return S<0?r:l[S][1]}function a2(s){return Tl(this.__data__,s)>-1}function c2(s,l){var S=this.__data__,P=Tl(S,s);return P<0?(++this.size,S.push([s,l])):S[P][1]=l,this}Ys.prototype.clear=i2,Ys.prototype.delete=s2,Ys.prototype.get=o2,Ys.prototype.has=a2,Ys.prototype.set=c2;function Xs(s){var l=-1,S=s==null?0:s.length;for(this.clear();++l<S;){var P=s[l];this.set(P[0],P[1])}}function l2(){this.size=0,this.__data__={hash:new qo,map:new(uc||Ys),string:new qo}}function u2(s){var l=Hl(this,s).delete(s);return this.size-=l?1:0,l}function f2(s){return Hl(this,s).get(s)}function h2(s){return Hl(this,s).has(s)}function d2(s,l){var S=Hl(this,s),P=S.size;return S.set(s,l),this.size+=S.size==P?0:1,this}Xs.prototype.clear=l2,Xs.prototype.delete=u2,Xs.prototype.get=f2,Xs.prototype.has=h2,Xs.prototype.set=d2;function Wo(s){var l=-1,S=s==null?0:s.length;for(this.__data__=new Xs;++l<S;)this.add(s[l])}function p2(s){return this.__data__.set(s,m),this}function g2(s){return this.__data__.has(s)}Wo.prototype.add=Wo.prototype.push=p2,Wo.prototype.has=g2;function cs(s){var l=this.__data__=new Ys(s);this.size=l.size}function m2(){this.__data__=new Ys,this.size=0}function v2(s){var l=this.__data__,S=l.delete(s);return this.size=l.size,S}function b2(s){return this.__data__.get(s)}function y2(s){return this.__data__.has(s)}function _2(s,l){var S=this.__data__;if(S instanceof Ys){var P=S.__data__;if(!uc||P.length<i-1)return P.push([s,l]),this.size=++S.size,this;S=this.__data__=new Xs(P)}return S.set(s,l),this.size=S.size,this}cs.prototype.clear=m2,cs.prototype.delete=v2,cs.prototype.get=b2,cs.prototype.has=y2,cs.prototype.set=_2;function og(s,l){var S=It(s),P=!S&&Zo(s),k=!S&&!P&&Ao(s),V=!S&&!P&&!k&&xa(s),Q=S||P||k||V,ie=Q?Ef(s.length,Tw):[],ue=ie.length;for(var Se in s)(l||_r.call(s,Se))&&!(Q&&(Se=="length"||k&&(Se=="offset"||Se=="parent")||V&&(Se=="buffer"||Se=="byteLength"||Se=="byteOffset")||to(Se,ue)))&&ie.push(Se);return ie}function ag(s){var l=s.length;return l?s[Ff(0,l-1)]:r}function w2(s,l){return ql(li(s),zo(l,0,s.length))}function E2(s){return ql(li(s))}function Df(s,l,S){(S!==r&&!ls(s[l],S)||S===r&&!(l in s))&&Js(s,l,S)}function pc(s,l,S){var P=s[l];(!(_r.call(s,l)&&ls(P,S))||S===r&&!(l in s))&&Js(s,l,S)}function Tl(s,l){for(var S=s.length;S--;)if(ls(s[S][0],l))return S;return-1}function S2(s,l,S,P){return So(s,function(k,V,Q){l(P,k,S(k),Q)}),P}function cg(s,l){return s&&Ds(l,En(l),s)}function C2(s,l){return s&&Ds(l,fi(l),s)}function Js(s,l,S){l=="__proto__"&&Cl?Cl(s,l,{configurable:!0,enumerable:!0,value:S,writable:!0}):s[l]=S}function Tf(s,l){for(var S=-1,P=l.length,k=pe(P),V=s==null;++S<P;)k[S]=V?r:uh(s,l[S]);return k}function zo(s,l,S){return s===s&&(S!==r&&(s=s<=S?s:S),l!==r&&(s=s>=l?s:l)),s}function Hi(s,l,S,P,k,V){var Q,ie=l&u,ue=l&d,Se=l&p;if(S&&(Q=k?S(s,P,k,V):S(s)),Q!==r)return Q;if(!Wr(s))return s;var Ce=It(s);if(Ce){if(Q=h3(s),!ie)return li(s,Q)}else{var Te=jn(s),Me=Te==Oe||Te==Le;if(Ao(s))return Rg(s,ie);if(Te==dt||Te==ge||Me&&!k){if(Q=ue||Me?{}:Xg(s),!ie)return ue?t3(s,C2(Q,s)):e3(s,cg(Q,s))}else{if(!zt[Te])return k?s:{};Q=d3(s,Te,ie)}}V||(V=new cs);var Ye=V.get(s);if(Ye)return Ye;V.set(s,Q),I0(s)?s.forEach(function(ht){Q.add(Hi(ht,l,S,ht,s,V))}):C0(s)&&s.forEach(function(ht,Wt){Q.set(Wt,Hi(ht,l,S,Wt,s,V))});var ft=Se?ue?Yf:Zf:ue?fi:En,kt=Ce?r:ft(s);return U(kt||s,function(ht,Wt){kt&&(Wt=ht,ht=s[Wt]),pc(Q,Wt,Hi(ht,l,S,Wt,s,V))}),Q}function x2(s){var l=En(s);return function(S){return lg(S,s,l)}}function lg(s,l,S){var P=S.length;if(s==null)return!P;for(s=Or(s);P--;){var k=S[P],V=l[k],Q=s[k];if(Q===r&&!(k in s)||!V(Q))return!1}return!0}function ug(s,l,S){if(typeof s!="function")throw new Ui(c);return wc(function(){s.apply(r,S)},l)}function gc(s,l,S,P){var k=-1,V=de,Q=!0,ie=s.length,ue=[],Se=l.length;if(!ie)return ue;S&&(l=ve(l,xi(S))),P?(V=_e,Q=!1):l.length>=i&&(V=cc,Q=!1,l=new Wo(l));e:for(;++k<ie;){var Ce=s[k],Te=S==null?Ce:S(Ce);if(Ce=P||Ce!==0?Ce:0,Q&&Te===Te){for(var Me=Se;Me--;)if(l[Me]===Te)continue e;ue.push(Ce)}else V(l,Te,P)||ue.push(Ce)}return ue}var So=Mg(Os),fg=Mg(Rf,!0);function I2(s,l){var S=!0;return So(s,function(P,k,V){return S=!!l(P,k,V),S}),S}function Pl(s,l,S){for(var P=-1,k=s.length;++P<k;){var V=s[P],Q=l(V);if(Q!=null&&(ie===r?Q===Q&&!Ai(Q):S(Q,ie)))var ie=Q,ue=V}return ue}function A2(s,l,S,P){var k=s.length;for(S=$t(S),S<0&&(S=-S>k?0:k+S),P=P===r||P>k?k:$t(P),P<0&&(P+=k),P=S>P?0:O0(P);S<P;)s[S++]=l;return s}function hg(s,l){var S=[];return So(s,function(P,k,V){l(P,k,V)&&S.push(P)}),S}function On(s,l,S,P,k){var V=-1,Q=s.length;for(S||(S=g3),k||(k=[]);++V<Q;){var ie=s[V];l>0&&S(ie)?l>1?On(ie,l-1,S,P,k):We(k,ie):P||(k[k.length]=ie)}return k}var Pf=jg(),dg=jg(!0);function Os(s,l){return s&&Pf(s,l,En)}function Rf(s,l){return s&&dg(s,l,En)}function Rl(s,l){return ee(l,function(S){return ro(s[S])})}function Vo(s,l){l=xo(l,s);for(var S=0,P=l.length;s!=null&&S<P;)s=s[Ts(l[S++])];return S&&S==P?s:r}function pg(s,l,S){var P=l(s);return It(s)?P:We(P,S(s))}function zn(s){return s==null?s===r?gt:Et:Ho&&Ho in Or(s)?l3(s):E3(s)}function $f(s,l){return s>l}function O2(s,l){return s!=null&&_r.call(s,l)}function D2(s,l){return s!=null&&l in Or(s)}function T2(s,l,S){return s>=Mn(l,S)&&s<fn(l,S)}function Lf(s,l,S){for(var P=S?_e:de,k=s[0].length,V=s.length,Q=V,ie=pe(V),ue=1/0,Se=[];Q--;){var Ce=s[Q];Q&&l&&(Ce=ve(Ce,xi(l))),ue=Mn(Ce.length,ue),ie[Q]=!S&&(l||k>=120&&Ce.length>=120)?new Wo(Q&&Ce):r}Ce=s[0];var Te=-1,Me=ie[0];e:for(;++Te<k&&Se.length<ue;){var Ye=Ce[Te],ft=l?l(Ye):Ye;if(Ye=S||Ye!==0?Ye:0,!(Me?cc(Me,ft):P(Se,ft,S))){for(Q=V;--Q;){var kt=ie[Q];if(!(kt?cc(kt,ft):P(s[Q],ft,S)))continue e}Me&&Me.push(ft),Se.push(Ye)}}return Se}function P2(s,l,S,P){return Os(s,function(k,V,Q){l(P,S(k),V,Q)}),P}function mc(s,l,S){l=xo(l,s),s=t0(s,l);var P=s==null?s:s[Ts(Wi(l))];return P==null?r:Gr(P,s,S)}function gg(s){return Kr(s)&&zn(s)==ge}function R2(s){return Kr(s)&&zn(s)==nt}function $2(s){return Kr(s)&&zn(s)==te}function vc(s,l,S,P,k){return s===l?!0:s==null||l==null||!Kr(s)&&!Kr(l)?s!==s&&l!==l:L2(s,l,S,P,vc,k)}function L2(s,l,S,P,k,V){var Q=It(s),ie=It(l),ue=Q?Ie:jn(s),Se=ie?Ie:jn(l);ue=ue==ge?dt:ue,Se=Se==ge?dt:Se;var Ce=ue==dt,Te=Se==dt,Me=ue==Se;if(Me&&Ao(s)){if(!Ao(l))return!1;Q=!0,Ce=!1}if(Me&&!Ce)return V||(V=new cs),Q||xa(s)?Kg(s,l,S,P,k,V):a3(s,l,ue,S,P,k,V);if(!(S&h)){var Ye=Ce&&_r.call(s,"__wrapped__"),ft=Te&&_r.call(l,"__wrapped__");if(Ye||ft){var kt=Ye?s.value():s,ht=ft?l.value():l;return V||(V=new cs),k(kt,ht,S,P,V)}}return Me?(V||(V=new cs),c3(s,l,S,P,k,V)):!1}function N2(s){return Kr(s)&&jn(s)==Ne}function Nf(s,l,S,P){var k=S.length,V=k,Q=!P;if(s==null)return!V;for(s=Or(s);k--;){var ie=S[k];if(Q&&ie[2]?ie[1]!==s[ie[0]]:!(ie[0]in s))return!1}for(;++k<V;){ie=S[k];var ue=ie[0],Se=s[ue],Ce=ie[1];if(Q&&ie[2]){if(Se===r&&!(ue in s))return!1}else{var Te=new cs;if(P)var Me=P(Se,Ce,ue,s,l,Te);if(!(Me===r?vc(Ce,Se,h|v,P,Te):Me))return!1}}return!0}function mg(s){if(!Wr(s)||v3(s))return!1;var l=ro(s)?Nw:qs;return l.test(Ko(s))}function k2(s){return Kr(s)&&zn(s)==pt}function M2(s){return Kr(s)&&jn(s)==rt}function j2(s){return Kr(s)&&Zl(s.length)&&!!Zt[zn(s)]}function vg(s){return typeof s=="function"?s:s==null?hi:typeof s=="object"?It(s)?_g(s[0],s[1]):yg(s):F0(s)}function kf(s){if(!_c(s))return Bw(s);var l=[];for(var S in Or(s))_r.call(s,S)&&S!="constructor"&&l.push(S);return l}function F2(s){if(!Wr(s))return w3(s);var l=_c(s),S=[];for(var P in s)P=="constructor"&&(l||!_r.call(s,P))||S.push(P);return S}function Mf(s,l){return s<l}function bg(s,l){var S=-1,P=ui(s)?pe(s.length):[];return So(s,function(k,V,Q){P[++S]=l(k,V,Q)}),P}function yg(s){var l=Jf(s);return l.length==1&&l[0][2]?Qg(l[0][0],l[0][1]):function(S){return S===s||Nf(S,s,l)}}function _g(s,l){return eh(s)&&Jg(l)?Qg(Ts(s),l):function(S){var P=uh(S,s);return P===r&&P===l?fh(S,s):vc(l,P,h|v)}}function $l(s,l,S,P,k){s!==l&&Pf(l,function(V,Q){if(k||(k=new cs),Wr(V))U2(s,l,Q,S,$l,P,k);else{var ie=P?P(rh(s,Q),V,Q+"",s,l,k):r;ie===r&&(ie=V),Df(s,Q,ie)}},fi)}function U2(s,l,S,P,k,V,Q){var ie=rh(s,S),ue=rh(l,S),Se=Q.get(ue);if(Se){Df(s,S,Se);return}var Ce=V?V(ie,ue,S+"",s,l,Q):r,Te=Ce===r;if(Te){var Me=It(ue),Ye=!Me&&Ao(ue),ft=!Me&&!Ye&&xa(ue);Ce=ue,Me||Ye||ft?It(ie)?Ce=ie:Zr(ie)?Ce=li(ie):Ye?(Te=!1,Ce=Rg(ue,!0)):ft?(Te=!1,Ce=$g(ue,!0)):Ce=[]:Ec(ue)||Zo(ue)?(Ce=ie,Zo(ie)?Ce=D0(ie):(!Wr(ie)||ro(ie))&&(Ce=Xg(ue))):Te=!1}Te&&(Q.set(ue,Ce),k(Ce,ue,P,V,Q),Q.delete(ue)),Df(s,S,Ce)}function wg(s,l){var S=s.length;if(S)return l+=l<0?S:0,to(l,S)?s[l]:r}function Eg(s,l,S){l.length?l=ve(l,function(V){return It(V)?function(Q){return Vo(Q,V.length===1?V[0]:V)}:V}):l=[hi];var P=-1;l=ve(l,xi(lt()));var k=bg(s,function(V,Q,ie){var ue=ve(l,function(Se){return Se(V)});return{criteria:ue,index:++P,value:V}});return dw(k,function(V,Q){return Q2(V,Q,S)})}function B2(s,l){return Sg(s,l,function(S,P){return fh(s,P)})}function Sg(s,l,S){for(var P=-1,k=l.length,V={};++P<k;){var Q=l[P],ie=Vo(s,Q);S(ie,Q)&&bc(V,xo(Q,s),ie)}return V}function H2(s){return function(l){return Vo(l,s)}}function jf(s,l,S,P){var k=P?ln:Nr,V=-1,Q=l.length,ie=s;for(s===l&&(l=li(l)),S&&(ie=ve(s,xi(S)));++V<Q;)for(var ue=0,Se=l[V],Ce=S?S(Se):Se;(ue=k(ie,Ce,ue,P))>-1;)ie!==s&&Sl.call(ie,ue,1),Sl.call(s,ue,1);return s}function Cg(s,l){for(var S=s?l.length:0,P=S-1;S--;){var k=l[S];if(S==P||k!==V){var V=k;to(k)?Sl.call(s,k,1):Hf(s,k)}}return s}function Ff(s,l){return s+Il(ig()*(l-s+1))}function q2(s,l,S,P){for(var k=-1,V=fn(xl((l-s)/(S||1)),0),Q=pe(V);V--;)Q[P?V:++k]=s,s+=S;return Q}function Uf(s,l){var S="";if(!s||l<1||l>z)return S;do l%2&&(S+=s),l=Il(l/2),l&&(s+=s);while(l);return S}function jt(s,l){return nh(e0(s,l,hi),s+"")}function W2(s){return ag(Ia(s))}function z2(s,l){var S=Ia(s);return ql(S,zo(l,0,S.length))}function bc(s,l,S,P){if(!Wr(s))return s;l=xo(l,s);for(var k=-1,V=l.length,Q=V-1,ie=s;ie!=null&&++k<V;){var ue=Ts(l[k]),Se=S;if(ue==="__proto__"||ue==="constructor"||ue==="prototype")return s;if(k!=Q){var Ce=ie[ue];Se=P?P(Ce,ue,ie):r,Se===r&&(Se=Wr(Ce)?Ce:to(l[k+1])?[]:{})}pc(ie,ue,Se),ie=ie[ue]}return s}var xg=Al?function(s,l){return Al.set(s,l),s}:hi,V2=Cl?function(s,l){return Cl(s,"toString",{configurable:!0,enumerable:!1,value:dh(l),writable:!0})}:hi;function G2(s){return ql(Ia(s))}function qi(s,l,S){var P=-1,k=s.length;l<0&&(l=-l>k?0:k+l),S=S>k?k:S,S<0&&(S+=k),k=l>S?0:S-l>>>0,l>>>=0;for(var V=pe(k);++P<k;)V[P]=s[P+l];return V}function K2(s,l){var S;return So(s,function(P,k,V){return S=l(P,k,V),!S}),!!S}function Ll(s,l,S){var P=0,k=s==null?P:s.length;if(typeof l=="number"&&l===l&&k<=fe){for(;P<k;){var V=P+k>>>1,Q=s[V];Q!==null&&!Ai(Q)&&(S?Q<=l:Q<l)?P=V+1:k=V}return k}return Bf(s,l,hi,S)}function Bf(s,l,S,P){var k=0,V=s==null?0:s.length;if(V===0)return 0;l=S(l);for(var Q=l!==l,ie=l===null,ue=Ai(l),Se=l===r;k<V;){var Ce=Il((k+V)/2),Te=S(s[Ce]),Me=Te!==r,Ye=Te===null,ft=Te===Te,kt=Ai(Te);if(Q)var ht=P||ft;else Se?ht=ft&&(P||Me):ie?ht=ft&&Me&&(P||!Ye):ue?ht=ft&&Me&&!Ye&&(P||!kt):Ye||kt?ht=!1:ht=P?Te<=l:Te<l;ht?k=Ce+1:V=Ce}return Mn(V,we)}function Ig(s,l){for(var S=-1,P=s.length,k=0,V=[];++S<P;){var Q=s[S],ie=l?l(Q):Q;if(!S||!ls(ie,ue)){var ue=ie;V[k++]=Q===0?0:Q}}return V}function Ag(s){return typeof s=="number"?s:Ai(s)?se:+s}function Ii(s){if(typeof s=="string")return s;if(It(s))return ve(s,Ii)+"";if(Ai(s))return sg?sg.call(s):"";var l=s+"";return l=="0"&&1/s==-W?"-0":l}function Co(s,l,S){var P=-1,k=de,V=s.length,Q=!0,ie=[],ue=ie;if(S)Q=!1,k=_e;else if(V>=i){var Se=l?null:s3(s);if(Se)return gl(Se);Q=!1,k=cc,ue=new Wo}else ue=l?[]:ie;e:for(;++P<V;){var Ce=s[P],Te=l?l(Ce):Ce;if(Ce=S||Ce!==0?Ce:0,Q&&Te===Te){for(var Me=ue.length;Me--;)if(ue[Me]===Te)continue e;l&&ue.push(Te),ie.push(Ce)}else k(ue,Te,S)||(ue!==ie&&ue.push(Te),ie.push(Ce))}return ie}function Hf(s,l){return l=xo(l,s),s=t0(s,l),s==null||delete s[Ts(Wi(l))]}function Og(s,l,S,P){return bc(s,l,S(Vo(s,l)),P)}function Nl(s,l,S,P){for(var k=s.length,V=P?k:-1;(P?V--:++V<k)&&l(s[V],V,s););return S?qi(s,P?0:V,P?V+1:k):qi(s,P?V+1:0,P?k:V)}function Dg(s,l){var S=s;return S instanceof Gt&&(S=S.value()),Je(l,function(P,k){return k.func.apply(k.thisArg,We([P],k.args))},S)}function qf(s,l,S){var P=s.length;if(P<2)return P?Co(s[0]):[];for(var k=-1,V=pe(P);++k<P;)for(var Q=s[k],ie=-1;++ie<P;)ie!=k&&(V[k]=gc(V[k]||Q,s[ie],l,S));return Co(On(V,1),l,S)}function Tg(s,l,S){for(var P=-1,k=s.length,V=l.length,Q={};++P<k;){var ie=P<V?l[P]:r;S(Q,s[P],ie)}return Q}function Wf(s){return Zr(s)?s:[]}function zf(s){return typeof s=="function"?s:hi}function xo(s,l){return It(s)?s:eh(s,l)?[s]:s0(pr(s))}var Z2=jt;function Io(s,l,S){var P=s.length;return S=S===r?P:S,!l&&S>=P?s:qi(s,l,S)}var Pg=kw||function(s){return He.clearTimeout(s)};function Rg(s,l){if(l)return s.slice();var S=s.length,P=Qp?Qp(S):new s.constructor(S);return s.copy(P),P}function Vf(s){var l=new s.constructor(s.byteLength);return new wl(l).set(new wl(s)),l}function Y2(s,l){var S=l?Vf(s.buffer):s.buffer;return new s.constructor(S,s.byteOffset,s.byteLength)}function X2(s){var l=new s.constructor(s.source,sr.exec(s));return l.lastIndex=s.lastIndex,l}function J2(s){return dc?Or(dc.call(s)):{}}function $g(s,l){var S=l?Vf(s.buffer):s.buffer;return new s.constructor(S,s.byteOffset,s.length)}function Lg(s,l){if(s!==l){var S=s!==r,P=s===null,k=s===s,V=Ai(s),Q=l!==r,ie=l===null,ue=l===l,Se=Ai(l);if(!ie&&!Se&&!V&&s>l||V&&Q&&ue&&!ie&&!Se||P&&Q&&ue||!S&&ue||!k)return 1;if(!P&&!V&&!Se&&s<l||Se&&S&&k&&!P&&!V||ie&&S&&k||!Q&&k||!ue)return-1}return 0}function Q2(s,l,S){for(var P=-1,k=s.criteria,V=l.criteria,Q=k.length,ie=S.length;++P<Q;){var ue=Lg(k[P],V[P]);if(ue){if(P>=ie)return ue;var Se=S[P];return ue*(Se=="desc"?-1:1)}}return s.index-l.index}function Ng(s,l,S,P){for(var k=-1,V=s.length,Q=S.length,ie=-1,ue=l.length,Se=fn(V-Q,0),Ce=pe(ue+Se),Te=!P;++ie<ue;)Ce[ie]=l[ie];for(;++k<Q;)(Te||k<V)&&(Ce[S[k]]=s[k]);for(;Se--;)Ce[ie++]=s[k++];return Ce}function kg(s,l,S,P){for(var k=-1,V=s.length,Q=-1,ie=S.length,ue=-1,Se=l.length,Ce=fn(V-ie,0),Te=pe(Ce+Se),Me=!P;++k<Ce;)Te[k]=s[k];for(var Ye=k;++ue<Se;)Te[Ye+ue]=l[ue];for(;++Q<ie;)(Me||k<V)&&(Te[Ye+S[Q]]=s[k++]);return Te}function li(s,l){var S=-1,P=s.length;for(l||(l=pe(P));++S<P;)l[S]=s[S];return l}function Ds(s,l,S,P){var k=!S;S||(S={});for(var V=-1,Q=l.length;++V<Q;){var ie=l[V],ue=P?P(S[ie],s[ie],ie,S,s):r;ue===r&&(ue=s[ie]),k?Js(S,ie,ue):pc(S,ie,ue)}return S}function e3(s,l){return Ds(s,Qf(s),l)}function t3(s,l){return Ds(s,Zg(s),l)}function kl(s,l){return function(S,P){var k=It(S)?ac:S2,V=l?l():{};return k(S,s,lt(P,2),V)}}function Ea(s){return jt(function(l,S){var P=-1,k=S.length,V=k>1?S[k-1]:r,Q=k>2?S[2]:r;for(V=s.length>3&&typeof V=="function"?(k--,V):r,Q&&Vn(S[0],S[1],Q)&&(V=k<3?r:V,k=1),l=Or(l);++P<k;){var ie=S[P];ie&&s(l,ie,P,V)}return l})}function Mg(s,l){return function(S,P){if(S==null)return S;if(!ui(S))return s(S,P);for(var k=S.length,V=l?k:-1,Q=Or(S);(l?V--:++V<k)&&P(Q[V],V,Q)!==!1;);return S}}function jg(s){return function(l,S,P){for(var k=-1,V=Or(l),Q=P(l),ie=Q.length;ie--;){var ue=Q[s?ie:++k];if(S(V[ue],ue,V)===!1)break}return l}}function r3(s,l,S){var P=l&w,k=yc(s);function V(){var Q=this&&this!==He&&this instanceof V?k:s;return Q.apply(P?S:this,arguments)}return V}function Fg(s){return function(l){l=pr(l);var S=ga(l)?as(l):r,P=S?S[0]:l.charAt(0),k=S?Io(S,1).join(""):l.slice(1);return P[s]()+k}}function Sa(s){return function(l){return Je(M0(k0(l).replace(qr,"")),s,"")}}function yc(s){return function(){var l=arguments;switch(l.length){case 0:return new s;case 1:return new s(l[0]);case 2:return new s(l[0],l[1]);case 3:return new s(l[0],l[1],l[2]);case 4:return new s(l[0],l[1],l[2],l[3]);case 5:return new s(l[0],l[1],l[2],l[3],l[4]);case 6:return new s(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new s(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var S=wa(s.prototype),P=s.apply(S,l);return Wr(P)?P:S}}function n3(s,l,S){var P=yc(s);function k(){for(var V=arguments.length,Q=pe(V),ie=V,ue=Ca(k);ie--;)Q[ie]=arguments[ie];var Se=V<3&&Q[0]!==ue&&Q[V-1]!==ue?[]:wo(Q,ue);if(V-=Se.length,V<S)return Wg(s,l,Ml,k.placeholder,r,Q,Se,r,r,S-V);var Ce=this&&this!==He&&this instanceof k?P:s;return Gr(Ce,this,Q)}return k}function Ug(s){return function(l,S,P){var k=Or(l);if(!ui(l)){var V=lt(S,3);l=En(l),S=function(ie){return V(k[ie],ie,k)}}var Q=s(l,S,P);return Q>-1?k[V?l[Q]:Q]:r}}function Bg(s){return eo(function(l){var S=l.length,P=S,k=Bi.prototype.thru;for(s&&l.reverse();P--;){var V=l[P];if(typeof V!="function")throw new Ui(c);if(k&&!Q&&Bl(V)=="wrapper")var Q=new Bi([],!0)}for(P=Q?P:S;++P<S;){V=l[P];var ie=Bl(V),ue=ie=="wrapper"?Xf(V):r;ue&&th(ue[0])&&ue[1]==(E|C|D|b)&&!ue[4].length&&ue[9]==1?Q=Q[Bl(ue[0])].apply(Q,ue[3]):Q=V.length==1&&th(V)?Q[ie]():Q.thru(V)}return function(){var Se=arguments,Ce=Se[0];if(Q&&Se.length==1&&It(Ce))return Q.plant(Ce).value();for(var Te=0,Me=S?l[Te].apply(this,Se):Ce;++Te<S;)Me=l[Te].call(this,Me);return Me}})}function Ml(s,l,S,P,k,V,Q,ie,ue,Se){var Ce=l&E,Te=l&w,Me=l&_,Ye=l&(C|I),ft=l&x,kt=Me?r:yc(s);function ht(){for(var Wt=arguments.length,Xt=pe(Wt),Oi=Wt;Oi--;)Xt[Oi]=arguments[Oi];if(Ye)var Gn=Ca(ht),Di=gw(Xt,Gn);if(P&&(Xt=Ng(Xt,P,k,Ye)),V&&(Xt=kg(Xt,V,Q,Ye)),Wt-=Di,Ye&&Wt<Se){var Yr=wo(Xt,Gn);return Wg(s,l,Ml,ht.placeholder,S,Xt,Yr,ie,ue,Se-Wt)}var us=Te?S:this,io=Me?us[s]:s;return Wt=Xt.length,ie?Xt=S3(Xt,ie):ft&&Wt>1&&Xt.reverse(),Ce&&ue<Wt&&(Xt.length=ue),this&&this!==He&&this instanceof ht&&(io=kt||yc(io)),io.apply(us,Xt)}return ht}function Hg(s,l){return function(S,P){return P2(S,s,l(P),{})}}function jl(s,l){return function(S,P){var k;if(S===r&&P===r)return l;if(S!==r&&(k=S),P!==r){if(k===r)return P;typeof S=="string"||typeof P=="string"?(S=Ii(S),P=Ii(P)):(S=Ag(S),P=Ag(P)),k=s(S,P)}return k}}function Gf(s){return eo(function(l){return l=ve(l,xi(lt())),jt(function(S){var P=this;return s(l,function(k){return Gr(k,P,S)})})})}function Fl(s,l){l=l===r?" ":Ii(l);var S=l.length;if(S<2)return S?Uf(l,s):l;var P=Uf(l,xl(s/ma(l)));return ga(l)?Io(as(P),0,s).join(""):P.slice(0,s)}function i3(s,l,S,P){var k=l&w,V=yc(s);function Q(){for(var ie=-1,ue=arguments.length,Se=-1,Ce=P.length,Te=pe(Ce+ue),Me=this&&this!==He&&this instanceof Q?V:s;++Se<Ce;)Te[Se]=P[Se];for(;ue--;)Te[Se++]=arguments[++ie];return Gr(Me,k?S:this,Te)}return Q}function qg(s){return function(l,S,P){return P&&typeof P!="number"&&Vn(l,S,P)&&(S=P=r),l=no(l),S===r?(S=l,l=0):S=no(S),P=P===r?l<S?1:-1:no(P),q2(l,S,P,s)}}function Ul(s){return function(l,S){return typeof l=="string"&&typeof S=="string"||(l=zi(l),S=zi(S)),s(l,S)}}function Wg(s,l,S,P,k,V,Q,ie,ue,Se){var Ce=l&C,Te=Ce?Q:r,Me=Ce?r:Q,Ye=Ce?V:r,ft=Ce?r:V;l|=Ce?D:O,l&=~(Ce?O:D),l&y||(l&=~(w|_));var kt=[s,l,k,Ye,Te,ft,Me,ie,ue,Se],ht=S.apply(r,kt);return th(s)&&r0(ht,kt),ht.placeholder=P,n0(ht,s,l)}function Kf(s){var l=un[s];return function(S,P){if(S=zi(S),P=P==null?0:Mn($t(P),292),P&&ng(S)){var k=(pr(S)+"e").split("e"),V=l(k[0]+"e"+(+k[1]+P));return k=(pr(V)+"e").split("e"),+(k[0]+"e"+(+k[1]-P))}return l(S)}}var s3=ya&&1/gl(new ya([,-0]))[1]==W?function(s){return new ya(s)}:mh;function zg(s){return function(l){var S=jn(l);return S==Ne?Cf(l):S==rt?Ew(l):pw(l,s(l))}}function Qs(s,l,S,P,k,V,Q,ie){var ue=l&_;if(!ue&&typeof s!="function")throw new Ui(c);var Se=P?P.length:0;if(Se||(l&=~(D|O),P=k=r),Q=Q===r?Q:fn($t(Q),0),ie=ie===r?ie:$t(ie),Se-=k?k.length:0,l&O){var Ce=P,Te=k;P=k=r}var Me=ue?r:Xf(s),Ye=[s,l,S,P,k,Ce,Te,V,Q,ie];if(Me&&_3(Ye,Me),s=Ye[0],l=Ye[1],S=Ye[2],P=Ye[3],k=Ye[4],ie=Ye[9]=Ye[9]===r?ue?0:s.length:fn(Ye[9]-Se,0),!ie&&l&(C|I)&&(l&=~(C|I)),!l||l==w)var ft=r3(s,l,S);else l==C||l==I?ft=n3(s,l,ie):(l==D||l==(w|D))&&!k.length?ft=i3(s,l,S,P):ft=Ml.apply(r,Ye);var kt=Me?xg:r0;return n0(kt(ft,Ye),s,l)}function Vg(s,l,S,P){return s===r||ls(s,ba[S])&&!_r.call(P,S)?l:s}function Gg(s,l,S,P,k,V){return Wr(s)&&Wr(l)&&(V.set(l,s),$l(s,l,r,Gg,V),V.delete(l)),s}function o3(s){return Ec(s)?r:s}function Kg(s,l,S,P,k,V){var Q=S&h,ie=s.length,ue=l.length;if(ie!=ue&&!(Q&&ue>ie))return!1;var Se=V.get(s),Ce=V.get(l);if(Se&&Ce)return Se==l&&Ce==s;var Te=-1,Me=!0,Ye=S&v?new Wo:r;for(V.set(s,l),V.set(l,s);++Te<ie;){var ft=s[Te],kt=l[Te];if(P)var ht=Q?P(kt,ft,Te,l,s,V):P(ft,kt,Te,s,l,V);if(ht!==r){if(ht)continue;Me=!1;break}if(Ye){if(!Rt(l,function(Wt,Xt){if(!cc(Ye,Xt)&&(ft===Wt||k(ft,Wt,S,P,V)))return Ye.push(Xt)})){Me=!1;break}}else if(!(ft===kt||k(ft,kt,S,P,V))){Me=!1;break}}return V.delete(s),V.delete(l),Me}function a3(s,l,S,P,k,V,Q){switch(S){case it:if(s.byteLength!=l.byteLength||s.byteOffset!=l.byteOffset)return!1;s=s.buffer,l=l.buffer;case nt:return!(s.byteLength!=l.byteLength||!V(new wl(s),new wl(l)));case J:case te:case ke:return ls(+s,+l);case Z:return s.name==l.name&&s.message==l.message;case pt:case ct:return s==l+"";case Ne:var ie=Cf;case rt:var ue=P&h;if(ie||(ie=gl),s.size!=l.size&&!ue)return!1;var Se=Q.get(s);if(Se)return Se==l;P|=v,Q.set(s,l);var Ce=Kg(ie(s),ie(l),P,k,V,Q);return Q.delete(s),Ce;case et:if(dc)return dc.call(s)==dc.call(l)}return!1}function c3(s,l,S,P,k,V){var Q=S&h,ie=Zf(s),ue=ie.length,Se=Zf(l),Ce=Se.length;if(ue!=Ce&&!Q)return!1;for(var Te=ue;Te--;){var Me=ie[Te];if(!(Q?Me in l:_r.call(l,Me)))return!1}var Ye=V.get(s),ft=V.get(l);if(Ye&&ft)return Ye==l&&ft==s;var kt=!0;V.set(s,l),V.set(l,s);for(var ht=Q;++Te<ue;){Me=ie[Te];var Wt=s[Me],Xt=l[Me];if(P)var Oi=Q?P(Xt,Wt,Me,l,s,V):P(Wt,Xt,Me,s,l,V);if(!(Oi===r?Wt===Xt||k(Wt,Xt,S,P,V):Oi)){kt=!1;break}ht||(ht=Me=="constructor")}if(kt&&!ht){var Gn=s.constructor,Di=l.constructor;Gn!=Di&&"constructor"in s&&"constructor"in l&&!(typeof Gn=="function"&&Gn instanceof Gn&&typeof Di=="function"&&Di instanceof Di)&&(kt=!1)}return V.delete(s),V.delete(l),kt}function eo(s){return nh(e0(s,r,l0),s+"")}function Zf(s){return pg(s,En,Qf)}function Yf(s){return pg(s,fi,Zg)}var Xf=Al?function(s){return Al.get(s)}:mh;function Bl(s){for(var l=s.name+"",S=_a[l],P=_r.call(_a,l)?S.length:0;P--;){var k=S[P],V=k.func;if(V==null||V==s)return k.name}return l}function Ca(s){var l=_r.call(H,"placeholder")?H:s;return l.placeholder}function lt(){var s=H.iteratee||ph;return s=s===ph?vg:s,arguments.length?s(arguments[0],arguments[1]):s}function Hl(s,l){var S=s.__data__;return m3(l)?S[typeof l=="string"?"string":"hash"]:S.map}function Jf(s){for(var l=En(s),S=l.length;S--;){var P=l[S],k=s[P];l[S]=[P,k,Jg(k)]}return l}function Go(s,l){var S=yw(s,l);return mg(S)?S:r}function l3(s){var l=_r.call(s,Ho),S=s[Ho];try{s[Ho]=r;var P=!0}catch{}var k=yl.call(s);return P&&(l?s[Ho]=S:delete s[Ho]),k}var Qf=If?function(s){return s==null?[]:(s=Or(s),ee(If(s),function(l){return tg.call(s,l)}))}:vh,Zg=If?function(s){for(var l=[];s;)We(l,Qf(s)),s=El(s);return l}:vh,jn=zn;(Af&&jn(new Af(new ArrayBuffer(1)))!=it||uc&&jn(new uc)!=Ne||Of&&jn(Of.resolve())!=ar||ya&&jn(new ya)!=rt||fc&&jn(new fc)!=ot)&&(jn=function(s){var l=zn(s),S=l==dt?s.constructor:r,P=S?Ko(S):"";if(P)switch(P){case zw:return it;case Vw:return Ne;case Gw:return ar;case Kw:return rt;case Zw:return ot}return l});function u3(s,l,S){for(var P=-1,k=S.length;++P<k;){var V=S[P],Q=V.size;switch(V.type){case"drop":s+=Q;break;case"dropRight":l-=Q;break;case"take":l=Mn(l,s+Q);break;case"takeRight":s=fn(s,l-Q);break}}return{start:s,end:l}}function f3(s){var l=s.match(xt);return l?l[1].split(Tr):[]}function Yg(s,l,S){l=xo(l,s);for(var P=-1,k=l.length,V=!1;++P<k;){var Q=Ts(l[P]);if(!(V=s!=null&&S(s,Q)))break;s=s[Q]}return V||++P!=k?V:(k=s==null?0:s.length,!!k&&Zl(k)&&to(Q,k)&&(It(s)||Zo(s)))}function h3(s){var l=s.length,S=new s.constructor(l);return l&&typeof s[0]=="string"&&_r.call(s,"index")&&(S.index=s.index,S.input=s.input),S}function Xg(s){return typeof s.constructor=="function"&&!_c(s)?wa(El(s)):{}}function d3(s,l,S){var P=s.constructor;switch(l){case nt:return Vf(s);case J:case te:return new P(+s);case it:return Y2(s,S);case bt:case tt:case _t:case wt:case Ot:case yt:case mt:case mr:case $r:return $g(s,S);case Ne:return new P;case ke:case ct:return new P(s);case pt:return X2(s);case rt:return new P;case et:return J2(s)}}function p3(s,l){var S=l.length;if(!S)return s;var P=S-1;return l[P]=(S>1?"& ":"")+l[P],l=l.join(S>2?", ":" "),s.replace(br,`{
/* [wrapped with `+l+`] */
`)}function g3(s){return It(s)||Zo(s)||!!(rg&&s&&s[rg])}function to(s,l){var S=typeof s;return l=l??z,!!l&&(S=="number"||S!="symbol"&&In.test(s))&&s>-1&&s%1==0&&s<l}function Vn(s,l,S){if(!Wr(S))return!1;var P=typeof l;return(P=="number"?ui(S)&&to(l,S.length):P=="string"&&l in S)?ls(S[l],s):!1}function eh(s,l){if(It(s))return!1;var S=typeof s;return S=="number"||S=="symbol"||S=="boolean"||s==null||Ai(s)?!0:Er.test(s)||!er.test(s)||l!=null&&s in Or(l)}function m3(s){var l=typeof s;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?s!=="__proto__":s===null}function th(s){var l=Bl(s),S=H[l];if(typeof S!="function"||!(l in Gt.prototype))return!1;if(s===S)return!0;var P=Xf(S);return!!P&&s===P[0]}function v3(s){return!!Jp&&Jp in s}var b3=vl?ro:bh;function _c(s){var l=s&&s.constructor,S=typeof l=="function"&&l.prototype||ba;return s===S}function Jg(s){return s===s&&!Wr(s)}function Qg(s,l){return function(S){return S==null?!1:S[s]===l&&(l!==r||s in Or(S))}}function y3(s){var l=Gl(s,function(P){return S.size===f&&S.clear(),P}),S=l.cache;return l}function _3(s,l){var S=s[1],P=l[1],k=S|P,V=k<(w|_|E),Q=P==E&&S==C||P==E&&S==b&&s[7].length<=l[8]||P==(E|b)&&l[7].length<=l[8]&&S==C;if(!(V||Q))return s;P&w&&(s[2]=l[2],k|=S&w?0:y);var ie=l[3];if(ie){var ue=s[3];s[3]=ue?Ng(ue,ie,l[4]):ie,s[4]=ue?wo(s[3],g):l[4]}return ie=l[5],ie&&(ue=s[5],s[5]=ue?kg(ue,ie,l[6]):ie,s[6]=ue?wo(s[5],g):l[6]),ie=l[7],ie&&(s[7]=ie),P&E&&(s[8]=s[8]==null?l[8]:Mn(s[8],l[8])),s[9]==null&&(s[9]=l[9]),s[0]=l[0],s[1]=k,s}function w3(s){var l=[];if(s!=null)for(var S in Or(s))l.push(S);return l}function E3(s){return yl.call(s)}function e0(s,l,S){return l=fn(l===r?s.length-1:l,0),function(){for(var P=arguments,k=-1,V=fn(P.length-l,0),Q=pe(V);++k<V;)Q[k]=P[l+k];k=-1;for(var ie=pe(l+1);++k<l;)ie[k]=P[k];return ie[l]=S(Q),Gr(s,this,ie)}}function t0(s,l){return l.length<2?s:Vo(s,qi(l,0,-1))}function S3(s,l){for(var S=s.length,P=Mn(l.length,S),k=li(s);P--;){var V=l[P];s[P]=to(V,S)?k[V]:r}return s}function rh(s,l){if(!(l==="constructor"&&typeof s[l]=="function")&&l!="__proto__")return s[l]}var r0=i0(xg),wc=jw||function(s,l){return He.setTimeout(s,l)},nh=i0(V2);function n0(s,l,S){var P=l+"";return nh(s,p3(P,C3(f3(P),S)))}function i0(s){var l=0,S=0;return function(){var P=Hw(),k=B-(P-S);if(S=P,k>0){if(++l>=j)return arguments[0]}else l=0;return s.apply(r,arguments)}}function ql(s,l){var S=-1,P=s.length,k=P-1;for(l=l===r?P:l;++S<l;){var V=Ff(S,k),Q=s[V];s[V]=s[S],s[S]=Q}return s.length=l,s}var s0=y3(function(s){var l=[];return s.charCodeAt(0)===46&&l.push(""),s.replace(Mt,function(S,P,k,V){l.push(k?V.replace(ms,"$1"):P||S)}),l});function Ts(s){if(typeof s=="string"||Ai(s))return s;var l=s+"";return l=="0"&&1/s==-W?"-0":l}function Ko(s){if(s!=null){try{return bl.call(s)}catch{}try{return s+""}catch{}}return""}function C3(s,l){return U(me,function(S){var P="_."+S[0];l&S[1]&&!de(s,P)&&s.push(P)}),s.sort()}function o0(s){if(s instanceof Gt)return s.clone();var l=new Bi(s.__wrapped__,s.__chain__);return l.__actions__=li(s.__actions__),l.__index__=s.__index__,l.__values__=s.__values__,l}function x3(s,l,S){(S?Vn(s,l,S):l===r)?l=1:l=fn($t(l),0);var P=s==null?0:s.length;if(!P||l<1)return[];for(var k=0,V=0,Q=pe(xl(P/l));k<P;)Q[V++]=qi(s,k,k+=l);return Q}function I3(s){for(var l=-1,S=s==null?0:s.length,P=0,k=[];++l<S;){var V=s[l];V&&(k[P++]=V)}return k}function A3(){var s=arguments.length;if(!s)return[];for(var l=pe(s-1),S=arguments[0],P=s;P--;)l[P-1]=arguments[P];return We(It(S)?li(S):[S],On(l,1))}var O3=jt(function(s,l){return Zr(s)?gc(s,On(l,1,Zr,!0)):[]}),D3=jt(function(s,l){var S=Wi(l);return Zr(S)&&(S=r),Zr(s)?gc(s,On(l,1,Zr,!0),lt(S,2)):[]}),T3=jt(function(s,l){var S=Wi(l);return Zr(S)&&(S=r),Zr(s)?gc(s,On(l,1,Zr,!0),r,S):[]});function P3(s,l,S){var P=s==null?0:s.length;return P?(l=S||l===r?1:$t(l),qi(s,l<0?0:l,P)):[]}function R3(s,l,S){var P=s==null?0:s.length;return P?(l=S||l===r?1:$t(l),l=P-l,qi(s,0,l<0?0:l)):[]}function $3(s,l){return s&&s.length?Nl(s,lt(l,3),!0,!0):[]}function L3(s,l){return s&&s.length?Nl(s,lt(l,3),!0):[]}function N3(s,l,S,P){var k=s==null?0:s.length;return k?(S&&typeof S!="number"&&Vn(s,l,S)&&(S=0,P=k),A2(s,l,S,P)):[]}function a0(s,l,S){var P=s==null?0:s.length;if(!P)return-1;var k=S==null?0:$t(S);return k<0&&(k=fn(P+k,0)),Pr(s,lt(l,3),k)}function c0(s,l,S){var P=s==null?0:s.length;if(!P)return-1;var k=P-1;return S!==r&&(k=$t(S),k=S<0?fn(P+k,0):Mn(k,P-1)),Pr(s,lt(l,3),k,!0)}function l0(s){var l=s==null?0:s.length;return l?On(s,1):[]}function k3(s){var l=s==null?0:s.length;return l?On(s,W):[]}function M3(s,l){var S=s==null?0:s.length;return S?(l=l===r?1:$t(l),On(s,l)):[]}function j3(s){for(var l=-1,S=s==null?0:s.length,P={};++l<S;){var k=s[l];P[k[0]]=k[1]}return P}function u0(s){return s&&s.length?s[0]:r}function F3(s,l,S){var P=s==null?0:s.length;if(!P)return-1;var k=S==null?0:$t(S);return k<0&&(k=fn(P+k,0)),Nr(s,l,k)}function U3(s){var l=s==null?0:s.length;return l?qi(s,0,-1):[]}var B3=jt(function(s){var l=ve(s,Wf);return l.length&&l[0]===s[0]?Lf(l):[]}),H3=jt(function(s){var l=Wi(s),S=ve(s,Wf);return l===Wi(S)?l=r:S.pop(),S.length&&S[0]===s[0]?Lf(S,lt(l,2)):[]}),q3=jt(function(s){var l=Wi(s),S=ve(s,Wf);return l=typeof l=="function"?l:r,l&&S.pop(),S.length&&S[0]===s[0]?Lf(S,r,l):[]});function W3(s,l){return s==null?"":Uw.call(s,l)}function Wi(s){var l=s==null?0:s.length;return l?s[l-1]:r}function z3(s,l,S){var P=s==null?0:s.length;if(!P)return-1;var k=P;return S!==r&&(k=$t(S),k=k<0?fn(P+k,0):Mn(k,P-1)),l===l?Cw(s,l,k):Pr(s,Si,k,!0)}function V3(s,l){return s&&s.length?wg(s,$t(l)):r}var G3=jt(f0);function f0(s,l){return s&&s.length&&l&&l.length?jf(s,l):s}function K3(s,l,S){return s&&s.length&&l&&l.length?jf(s,l,lt(S,2)):s}function Z3(s,l,S){return s&&s.length&&l&&l.length?jf(s,l,r,S):s}var Y3=eo(function(s,l){var S=s==null?0:s.length,P=Tf(s,l);return Cg(s,ve(l,function(k){return to(k,S)?+k:k}).sort(Lg)),P});function X3(s,l){var S=[];if(!(s&&s.length))return S;var P=-1,k=[],V=s.length;for(l=lt(l,3);++P<V;){var Q=s[P];l(Q,P,s)&&(S.push(Q),k.push(P))}return Cg(s,k),S}function ih(s){return s==null?s:Ww.call(s)}function J3(s,l,S){var P=s==null?0:s.length;return P?(S&&typeof S!="number"&&Vn(s,l,S)?(l=0,S=P):(l=l==null?0:$t(l),S=S===r?P:$t(S)),qi(s,l,S)):[]}function Q3(s,l){return Ll(s,l)}function e6(s,l,S){return Bf(s,l,lt(S,2))}function t6(s,l){var S=s==null?0:s.length;if(S){var P=Ll(s,l);if(P<S&&ls(s[P],l))return P}return-1}function r6(s,l){return Ll(s,l,!0)}function n6(s,l,S){return Bf(s,l,lt(S,2),!0)}function i6(s,l){var S=s==null?0:s.length;if(S){var P=Ll(s,l,!0)-1;if(ls(s[P],l))return P}return-1}function s6(s){return s&&s.length?Ig(s):[]}function o6(s,l){return s&&s.length?Ig(s,lt(l,2)):[]}function a6(s){var l=s==null?0:s.length;return l?qi(s,1,l):[]}function c6(s,l,S){return s&&s.length?(l=S||l===r?1:$t(l),qi(s,0,l<0?0:l)):[]}function l6(s,l,S){var P=s==null?0:s.length;return P?(l=S||l===r?1:$t(l),l=P-l,qi(s,l<0?0:l,P)):[]}function u6(s,l){return s&&s.length?Nl(s,lt(l,3),!1,!0):[]}function f6(s,l){return s&&s.length?Nl(s,lt(l,3)):[]}var h6=jt(function(s){return Co(On(s,1,Zr,!0))}),d6=jt(function(s){var l=Wi(s);return Zr(l)&&(l=r),Co(On(s,1,Zr,!0),lt(l,2))}),p6=jt(function(s){var l=Wi(s);return l=typeof l=="function"?l:r,Co(On(s,1,Zr,!0),r,l)});function g6(s){return s&&s.length?Co(s):[]}function m6(s,l){return s&&s.length?Co(s,lt(l,2)):[]}function v6(s,l){return l=typeof l=="function"?l:r,s&&s.length?Co(s,r,l):[]}function sh(s){if(!(s&&s.length))return[];var l=0;return s=ee(s,function(S){if(Zr(S))return l=fn(S.length,l),!0}),Ef(l,function(S){return ve(s,Ci(S))})}function h0(s,l){if(!(s&&s.length))return[];var S=sh(s);return l==null?S:ve(S,function(P){return Gr(l,r,P)})}var b6=jt(function(s,l){return Zr(s)?gc(s,l):[]}),y6=jt(function(s){return qf(ee(s,Zr))}),_6=jt(function(s){var l=Wi(s);return Zr(l)&&(l=r),qf(ee(s,Zr),lt(l,2))}),w6=jt(function(s){var l=Wi(s);return l=typeof l=="function"?l:r,qf(ee(s,Zr),r,l)}),E6=jt(sh);function S6(s,l){return Tg(s||[],l||[],pc)}function C6(s,l){return Tg(s||[],l||[],bc)}var x6=jt(function(s){var l=s.length,S=l>1?s[l-1]:r;return S=typeof S=="function"?(s.pop(),S):r,h0(s,S)});function d0(s){var l=H(s);return l.__chain__=!0,l}function I6(s,l){return l(s),s}function Wl(s,l){return l(s)}var A6=eo(function(s){var l=s.length,S=l?s[0]:0,P=this.__wrapped__,k=function(V){return Tf(V,s)};return l>1||this.__actions__.length||!(P instanceof Gt)||!to(S)?this.thru(k):(P=P.slice(S,+S+(l?1:0)),P.__actions__.push({func:Wl,args:[k],thisArg:r}),new Bi(P,this.__chain__).thru(function(V){return l&&!V.length&&V.push(r),V}))});function O6(){return d0(this)}function D6(){return new Bi(this.value(),this.__chain__)}function T6(){this.__values__===r&&(this.__values__=A0(this.value()));var s=this.__index__>=this.__values__.length,l=s?r:this.__values__[this.__index__++];return{done:s,value:l}}function P6(){return this}function R6(s){for(var l,S=this;S instanceof Dl;){var P=o0(S);P.__index__=0,P.__values__=r,l?k.__wrapped__=P:l=P;var k=P;S=S.__wrapped__}return k.__wrapped__=s,l}function $6(){var s=this.__wrapped__;if(s instanceof Gt){var l=s;return this.__actions__.length&&(l=new Gt(this)),l=l.reverse(),l.__actions__.push({func:Wl,args:[ih],thisArg:r}),new Bi(l,this.__chain__)}return this.thru(ih)}function L6(){return Dg(this.__wrapped__,this.__actions__)}var N6=kl(function(s,l,S){_r.call(s,S)?++s[S]:Js(s,S,1)});function k6(s,l,S){var P=It(s)?F:I2;return S&&Vn(s,l,S)&&(l=r),P(s,lt(l,3))}function M6(s,l){var S=It(s)?ee:hg;return S(s,lt(l,3))}var j6=Ug(a0),F6=Ug(c0);function U6(s,l){return On(zl(s,l),1)}function B6(s,l){return On(zl(s,l),W)}function H6(s,l,S){return S=S===r?1:$t(S),On(zl(s,l),S)}function p0(s,l){var S=It(s)?U:So;return S(s,lt(l,3))}function g0(s,l){var S=It(s)?T:fg;return S(s,lt(l,3))}var q6=kl(function(s,l,S){_r.call(s,S)?s[S].push(l):Js(s,S,[l])});function W6(s,l,S,P){s=ui(s)?s:Ia(s),S=S&&!P?$t(S):0;var k=s.length;return S<0&&(S=fn(k+S,0)),Yl(s)?S<=k&&s.indexOf(l,S)>-1:!!k&&Nr(s,l,S)>-1}var z6=jt(function(s,l,S){var P=-1,k=typeof l=="function",V=ui(s)?pe(s.length):[];return So(s,function(Q){V[++P]=k?Gr(l,Q,S):mc(Q,l,S)}),V}),V6=kl(function(s,l,S){Js(s,S,l)});function zl(s,l){var S=It(s)?ve:bg;return S(s,lt(l,3))}function G6(s,l,S,P){return s==null?[]:(It(l)||(l=l==null?[]:[l]),S=P?r:S,It(S)||(S=S==null?[]:[S]),Eg(s,l,S))}var K6=kl(function(s,l,S){s[S?0:1].push(l)},function(){return[[],[]]});function Z6(s,l,S){var P=It(s)?Je:Vp,k=arguments.length<3;return P(s,lt(l,4),S,k,So)}function Y6(s,l,S){var P=It(s)?ut:Vp,k=arguments.length<3;return P(s,lt(l,4),S,k,fg)}function X6(s,l){var S=It(s)?ee:hg;return S(s,Kl(lt(l,3)))}function J6(s){var l=It(s)?ag:W2;return l(s)}function Q6(s,l,S){(S?Vn(s,l,S):l===r)?l=1:l=$t(l);var P=It(s)?w2:z2;return P(s,l)}function e5(s){var l=It(s)?E2:G2;return l(s)}function t5(s){if(s==null)return 0;if(ui(s))return Yl(s)?ma(s):s.length;var l=jn(s);return l==Ne||l==rt?s.size:kf(s).length}function r5(s,l,S){var P=It(s)?Rt:K2;return S&&Vn(s,l,S)&&(l=r),P(s,lt(l,3))}var n5=jt(function(s,l){if(s==null)return[];var S=l.length;return S>1&&Vn(s,l[0],l[1])?l=[]:S>2&&Vn(l[0],l[1],l[2])&&(l=[l[0]]),Eg(s,On(l,1),[])}),Vl=Mw||function(){return He.Date.now()};function i5(s,l){if(typeof l!="function")throw new Ui(c);return s=$t(s),function(){if(--s<1)return l.apply(this,arguments)}}function m0(s,l,S){return l=S?r:l,l=s&&l==null?s.length:l,Qs(s,E,r,r,r,r,l)}function v0(s,l){var S;if(typeof l!="function")throw new Ui(c);return s=$t(s),function(){return--s>0&&(S=l.apply(this,arguments)),s<=1&&(l=r),S}}var oh=jt(function(s,l,S){var P=w;if(S.length){var k=wo(S,Ca(oh));P|=D}return Qs(s,P,l,S,k)}),b0=jt(function(s,l,S){var P=w|_;if(S.length){var k=wo(S,Ca(b0));P|=D}return Qs(l,P,s,S,k)});function y0(s,l,S){l=S?r:l;var P=Qs(s,C,r,r,r,r,r,l);return P.placeholder=y0.placeholder,P}function _0(s,l,S){l=S?r:l;var P=Qs(s,I,r,r,r,r,r,l);return P.placeholder=_0.placeholder,P}function w0(s,l,S){var P,k,V,Q,ie,ue,Se=0,Ce=!1,Te=!1,Me=!0;if(typeof s!="function")throw new Ui(c);l=zi(l)||0,Wr(S)&&(Ce=!!S.leading,Te="maxWait"in S,V=Te?fn(zi(S.maxWait)||0,l):V,Me="trailing"in S?!!S.trailing:Me);function Ye(Yr){var us=P,io=k;return P=k=r,Se=Yr,Q=s.apply(io,us),Q}function ft(Yr){return Se=Yr,ie=wc(Wt,l),Ce?Ye(Yr):Q}function kt(Yr){var us=Yr-ue,io=Yr-Se,U0=l-us;return Te?Mn(U0,V-io):U0}function ht(Yr){var us=Yr-ue,io=Yr-Se;return ue===r||us>=l||us<0||Te&&io>=V}function Wt(){var Yr=Vl();if(ht(Yr))return Xt(Yr);ie=wc(Wt,kt(Yr))}function Xt(Yr){return ie=r,Me&&P?Ye(Yr):(P=k=r,Q)}function Oi(){ie!==r&&Pg(ie),Se=0,P=ue=k=ie=r}function Gn(){return ie===r?Q:Xt(Vl())}function Di(){var Yr=Vl(),us=ht(Yr);if(P=arguments,k=this,ue=Yr,us){if(ie===r)return ft(ue);if(Te)return Pg(ie),ie=wc(Wt,l),Ye(ue)}return ie===r&&(ie=wc(Wt,l)),Q}return Di.cancel=Oi,Di.flush=Gn,Di}var s5=jt(function(s,l){return ug(s,1,l)}),o5=jt(function(s,l,S){return ug(s,zi(l)||0,S)});function a5(s){return Qs(s,x)}function Gl(s,l){if(typeof s!="function"||l!=null&&typeof l!="function")throw new Ui(c);var S=function(){var P=arguments,k=l?l.apply(this,P):P[0],V=S.cache;if(V.has(k))return V.get(k);var Q=s.apply(this,P);return S.cache=V.set(k,Q)||V,Q};return S.cache=new(Gl.Cache||Xs),S}Gl.Cache=Xs;function Kl(s){if(typeof s!="function")throw new Ui(c);return function(){var l=arguments;switch(l.length){case 0:return!s.call(this);case 1:return!s.call(this,l[0]);case 2:return!s.call(this,l[0],l[1]);case 3:return!s.call(this,l[0],l[1],l[2])}return!s.apply(this,l)}}function c5(s){return v0(2,s)}var l5=Z2(function(s,l){l=l.length==1&&It(l[0])?ve(l[0],xi(lt())):ve(On(l,1),xi(lt()));var S=l.length;return jt(function(P){for(var k=-1,V=Mn(P.length,S);++k<V;)P[k]=l[k].call(this,P[k]);return Gr(s,this,P)})}),ah=jt(function(s,l){var S=wo(l,Ca(ah));return Qs(s,D,r,l,S)}),E0=jt(function(s,l){var S=wo(l,Ca(E0));return Qs(s,O,r,l,S)}),u5=eo(function(s,l){return Qs(s,b,r,r,r,l)});function f5(s,l){if(typeof s!="function")throw new Ui(c);return l=l===r?l:$t(l),jt(s,l)}function h5(s,l){if(typeof s!="function")throw new Ui(c);return l=l==null?0:fn($t(l),0),jt(function(S){var P=S[l],k=Io(S,0,l);return P&&We(k,P),Gr(s,this,k)})}function d5(s,l,S){var P=!0,k=!0;if(typeof s!="function")throw new Ui(c);return Wr(S)&&(P="leading"in S?!!S.leading:P,k="trailing"in S?!!S.trailing:k),w0(s,l,{leading:P,maxWait:l,trailing:k})}function p5(s){return m0(s,1)}function g5(s,l){return ah(zf(l),s)}function m5(){if(!arguments.length)return[];var s=arguments[0];return It(s)?s:[s]}function v5(s){return Hi(s,p)}function b5(s,l){return l=typeof l=="function"?l:r,Hi(s,p,l)}function y5(s){return Hi(s,u|p)}function _5(s,l){return l=typeof l=="function"?l:r,Hi(s,u|p,l)}function w5(s,l){return l==null||lg(s,l,En(l))}function ls(s,l){return s===l||s!==s&&l!==l}var E5=Ul($f),S5=Ul(function(s,l){return s>=l}),Zo=gg(function(){return arguments}())?gg:function(s){return Kr(s)&&_r.call(s,"callee")&&!tg.call(s,"callee")},It=pe.isArray,C5=Ar?xi(Ar):R2;function ui(s){return s!=null&&Zl(s.length)&&!ro(s)}function Zr(s){return Kr(s)&&ui(s)}function x5(s){return s===!0||s===!1||Kr(s)&&zn(s)==J}var Ao=Fw||bh,I5=an?xi(an):$2;function A5(s){return Kr(s)&&s.nodeType===1&&!Ec(s)}function O5(s){if(s==null)return!0;if(ui(s)&&(It(s)||typeof s=="string"||typeof s.splice=="function"||Ao(s)||xa(s)||Zo(s)))return!s.length;var l=jn(s);if(l==Ne||l==rt)return!s.size;if(_c(s))return!kf(s).length;for(var S in s)if(_r.call(s,S))return!1;return!0}function D5(s,l){return vc(s,l)}function T5(s,l,S){S=typeof S=="function"?S:r;var P=S?S(s,l):r;return P===r?vc(s,l,r,S):!!P}function ch(s){if(!Kr(s))return!1;var l=zn(s);return l==Z||l==R||typeof s.message=="string"&&typeof s.name=="string"&&!Ec(s)}function P5(s){return typeof s=="number"&&ng(s)}function ro(s){if(!Wr(s))return!1;var l=zn(s);return l==Oe||l==Le||l==ne||l==cr}function S0(s){return typeof s=="number"&&s==$t(s)}function Zl(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=z}function Wr(s){var l=typeof s;return s!=null&&(l=="object"||l=="function")}function Kr(s){return s!=null&&typeof s=="object"}var C0=cn?xi(cn):N2;function R5(s,l){return s===l||Nf(s,l,Jf(l))}function $5(s,l,S){return S=typeof S=="function"?S:r,Nf(s,l,Jf(l),S)}function L5(s){return x0(s)&&s!=+s}function N5(s){if(b3(s))throw new Ct(o);return mg(s)}function k5(s){return s===null}function M5(s){return s==null}function x0(s){return typeof s=="number"||Kr(s)&&zn(s)==ke}function Ec(s){if(!Kr(s)||zn(s)!=dt)return!1;var l=El(s);if(l===null)return!0;var S=_r.call(l,"constructor")&&l.constructor;return typeof S=="function"&&S instanceof S&&bl.call(S)==$w}var lh=ci?xi(ci):k2;function j5(s){return S0(s)&&s>=-z&&s<=z}var I0=Zs?xi(Zs):M2;function Yl(s){return typeof s=="string"||!It(s)&&Kr(s)&&zn(s)==ct}function Ai(s){return typeof s=="symbol"||Kr(s)&&zn(s)==et}var xa=kn?xi(kn):j2;function F5(s){return s===r}function U5(s){return Kr(s)&&jn(s)==ot}function B5(s){return Kr(s)&&zn(s)==vt}var H5=Ul(Mf),q5=Ul(function(s,l){return s<=l});function A0(s){if(!s)return[];if(ui(s))return Yl(s)?as(s):li(s);if(lc&&s[lc])return ww(s[lc]());var l=jn(s),S=l==Ne?Cf:l==rt?gl:Ia;return S(s)}function no(s){if(!s)return s===0?s:0;if(s=zi(s),s===W||s===-W){var l=s<0?-1:1;return l*K}return s===s?s:0}function $t(s){var l=no(s),S=l%1;return l===l?S?l-S:l:0}function O0(s){return s?zo($t(s),0,re):0}function zi(s){if(typeof s=="number")return s;if(Ai(s))return se;if(Wr(s)){var l=typeof s.valueOf=="function"?s.valueOf():s;s=Wr(l)?l+"":l}if(typeof s!="string")return s===0?s:+s;s=Gp(s);var S=Hs.test(s);return S||Ws.test(s)?Ee(s.slice(2),S?2:8):Bs.test(s)?se:+s}function D0(s){return Ds(s,fi(s))}function W5(s){return s?zo($t(s),-z,z):s===0?s:0}function pr(s){return s==null?"":Ii(s)}var z5=Ea(function(s,l){if(_c(l)||ui(l)){Ds(l,En(l),s);return}for(var S in l)_r.call(l,S)&&pc(s,S,l[S])}),T0=Ea(function(s,l){Ds(l,fi(l),s)}),Xl=Ea(function(s,l,S,P){Ds(l,fi(l),s,P)}),V5=Ea(function(s,l,S,P){Ds(l,En(l),s,P)}),G5=eo(Tf);function K5(s,l){var S=wa(s);return l==null?S:cg(S,l)}var Z5=jt(function(s,l){s=Or(s);var S=-1,P=l.length,k=P>2?l[2]:r;for(k&&Vn(l[0],l[1],k)&&(P=1);++S<P;)for(var V=l[S],Q=fi(V),ie=-1,ue=Q.length;++ie<ue;){var Se=Q[ie],Ce=s[Se];(Ce===r||ls(Ce,ba[Se])&&!_r.call(s,Se))&&(s[Se]=V[Se])}return s}),Y5=jt(function(s){return s.push(r,Gg),Gr(P0,r,s)});function X5(s,l){return Sr(s,lt(l,3),Os)}function J5(s,l){return Sr(s,lt(l,3),Rf)}function Q5(s,l){return s==null?s:Pf(s,lt(l,3),fi)}function eE(s,l){return s==null?s:dg(s,lt(l,3),fi)}function tE(s,l){return s&&Os(s,lt(l,3))}function rE(s,l){return s&&Rf(s,lt(l,3))}function nE(s){return s==null?[]:Rl(s,En(s))}function iE(s){return s==null?[]:Rl(s,fi(s))}function uh(s,l,S){var P=s==null?r:Vo(s,l);return P===r?S:P}function sE(s,l){return s!=null&&Yg(s,l,O2)}function fh(s,l){return s!=null&&Yg(s,l,D2)}var oE=Hg(function(s,l,S){l!=null&&typeof l.toString!="function"&&(l=yl.call(l)),s[l]=S},dh(hi)),aE=Hg(function(s,l,S){l!=null&&typeof l.toString!="function"&&(l=yl.call(l)),_r.call(s,l)?s[l].push(S):s[l]=[S]},lt),cE=jt(mc);function En(s){return ui(s)?og(s):kf(s)}function fi(s){return ui(s)?og(s,!0):F2(s)}function lE(s,l){var S={};return l=lt(l,3),Os(s,function(P,k,V){Js(S,l(P,k,V),P)}),S}function uE(s,l){var S={};return l=lt(l,3),Os(s,function(P,k,V){Js(S,k,l(P,k,V))}),S}var fE=Ea(function(s,l,S){$l(s,l,S)}),P0=Ea(function(s,l,S,P){$l(s,l,S,P)}),hE=eo(function(s,l){var S={};if(s==null)return S;var P=!1;l=ve(l,function(V){return V=xo(V,s),P||(P=V.length>1),V}),Ds(s,Yf(s),S),P&&(S=Hi(S,u|d|p,o3));for(var k=l.length;k--;)Hf(S,l[k]);return S});function dE(s,l){return R0(s,Kl(lt(l)))}var pE=eo(function(s,l){return s==null?{}:B2(s,l)});function R0(s,l){if(s==null)return{};var S=ve(Yf(s),function(P){return[P]});return l=lt(l),Sg(s,S,function(P,k){return l(P,k[0])})}function gE(s,l,S){l=xo(l,s);var P=-1,k=l.length;for(k||(k=1,s=r);++P<k;){var V=s==null?r:s[Ts(l[P])];V===r&&(P=k,V=S),s=ro(V)?V.call(s):V}return s}function mE(s,l,S){return s==null?s:bc(s,l,S)}function vE(s,l,S,P){return P=typeof P=="function"?P:r,s==null?s:bc(s,l,S,P)}var $0=zg(En),L0=zg(fi);function bE(s,l,S){var P=It(s),k=P||Ao(s)||xa(s);if(l=lt(l,4),S==null){var V=s&&s.constructor;k?S=P?new V:[]:Wr(s)?S=ro(V)?wa(El(s)):{}:S={}}return(k?U:Os)(s,function(Q,ie,ue){return l(S,Q,ie,ue)}),S}function yE(s,l){return s==null?!0:Hf(s,l)}function _E(s,l,S){return s==null?s:Og(s,l,zf(S))}function wE(s,l,S,P){return P=typeof P=="function"?P:r,s==null?s:Og(s,l,zf(S),P)}function Ia(s){return s==null?[]:Sf(s,En(s))}function EE(s){return s==null?[]:Sf(s,fi(s))}function SE(s,l,S){return S===r&&(S=l,l=r),S!==r&&(S=zi(S),S=S===S?S:0),l!==r&&(l=zi(l),l=l===l?l:0),zo(zi(s),l,S)}function CE(s,l,S){return l=no(l),S===r?(S=l,l=0):S=no(S),s=zi(s),T2(s,l,S)}function xE(s,l,S){if(S&&typeof S!="boolean"&&Vn(s,l,S)&&(l=S=r),S===r&&(typeof l=="boolean"?(S=l,l=r):typeof s=="boolean"&&(S=s,s=r)),s===r&&l===r?(s=0,l=1):(s=no(s),l===r?(l=s,s=0):l=no(l)),s>l){var P=s;s=l,l=P}if(S||s%1||l%1){var k=ig();return Mn(s+k*(l-s+ce("1e-"+((k+"").length-1))),l)}return Ff(s,l)}var IE=Sa(function(s,l,S){return l=l.toLowerCase(),s+(S?N0(l):l)});function N0(s){return hh(pr(s).toLowerCase())}function k0(s){return s=pr(s),s&&s.replace(Hr,mw).replace(jr,"")}function AE(s,l,S){s=pr(s),l=Ii(l);var P=s.length;S=S===r?P:zo($t(S),0,P);var k=S;return S-=l.length,S>=0&&s.slice(S,k)==l}function OE(s){return s=pr(s),s&&Bt.test(s)?s.replace(tn,vw):s}function DE(s){return s=pr(s),s&&dr.test(s)?s.replace(hr,"\\$&"):s}var TE=Sa(function(s,l,S){return s+(S?"-":"")+l.toLowerCase()}),PE=Sa(function(s,l,S){return s+(S?" ":"")+l.toLowerCase()}),RE=Fg("toLowerCase");function $E(s,l,S){s=pr(s),l=$t(l);var P=l?ma(s):0;if(!l||P>=l)return s;var k=(l-P)/2;return Fl(Il(k),S)+s+Fl(xl(k),S)}function LE(s,l,S){s=pr(s),l=$t(l);var P=l?ma(s):0;return l&&P<l?s+Fl(l-P,S):s}function NE(s,l,S){s=pr(s),l=$t(l);var P=l?ma(s):0;return l&&P<l?Fl(l-P,S)+s:s}function kE(s,l,S){return S||l==null?l=0:l&&(l=+l),qw(pr(s).replace(ir,""),l||0)}function ME(s,l,S){return(S?Vn(s,l,S):l===r)?l=1:l=$t(l),Uf(pr(s),l)}function jE(){var s=arguments,l=pr(s[0]);return s.length<3?l:l.replace(s[1],s[2])}var FE=Sa(function(s,l,S){return s+(S?"_":"")+l.toLowerCase()});function UE(s,l,S){return S&&typeof S!="number"&&Vn(s,l,S)&&(l=S=r),S=S===r?re:S>>>0,S?(s=pr(s),s&&(typeof l=="string"||l!=null&&!lh(l))&&(l=Ii(l),!l&&ga(s))?Io(as(s),0,S):s.split(l,S)):[]}var BE=Sa(function(s,l,S){return s+(S?" ":"")+hh(l)});function HE(s,l,S){return s=pr(s),S=S==null?0:zo($t(S),0,s.length),l=Ii(l),s.slice(S,S+l.length)==l}function qE(s,l,S){var P=H.templateSettings;S&&Vn(s,l,S)&&(l=r),s=pr(s),l=Xl({},l,P,Vg);var k=Xl({},l.imports,P.imports,Vg),V=En(k),Q=Sf(k,V),ie,ue,Se=0,Ce=l.interpolate||ri,Te="__p += '",Me=xf((l.escape||ri).source+"|"+Ce.source+"|"+(Ce===Kt?qn:ri).source+"|"+(l.evaluate||ri).source+"|$","g"),Ye="//# sourceURL="+(_r.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Is+"]")+`
`;s.replace(Me,function(ht,Wt,Xt,Oi,Gn,Di){return Xt||(Xt=Oi),Te+=s.slice(Se,Di).replace(zs,bw),Wt&&(ie=!0,Te+=`' +
__e(`+Wt+`) +
'`),Gn&&(ue=!0,Te+=`';
`+Gn+`;
__p += '`),Xt&&(Te+=`' +
((__t = (`+Xt+`)) == null ? '' : __t) +
'`),Se=Di+ht.length,ht}),Te+=`';
`;var ft=_r.call(l,"variable")&&l.variable;if(!ft)Te=`with (obj) {
`+Te+`
}
`;else if(es.test(ft))throw new Ct(a);Te=(ue?Te.replace(vn,""):Te).replace(lr,"$1").replace(en,"$1;"),Te="function("+(ft||"obj")+`) {
`+(ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(ue?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Te+`return __p
}`;var kt=j0(function(){return or(V,Ye+"return "+Te).apply(r,Q)});if(kt.source=Te,ch(kt))throw kt;return kt}function WE(s){return pr(s).toLowerCase()}function zE(s){return pr(s).toUpperCase()}function VE(s,l,S){if(s=pr(s),s&&(S||l===r))return Gp(s);if(!s||!(l=Ii(l)))return s;var P=as(s),k=as(l),V=Kp(P,k),Q=Zp(P,k)+1;return Io(P,V,Q).join("")}function GE(s,l,S){if(s=pr(s),s&&(S||l===r))return s.slice(0,Xp(s)+1);if(!s||!(l=Ii(l)))return s;var P=as(s),k=Zp(P,as(l))+1;return Io(P,0,k).join("")}function KE(s,l,S){if(s=pr(s),s&&(S||l===r))return s.replace(ir,"");if(!s||!(l=Ii(l)))return s;var P=as(s),k=Kp(P,as(l));return Io(P,k).join("")}function ZE(s,l){var S=A,P=N;if(Wr(l)){var k="separator"in l?l.separator:k;S="length"in l?$t(l.length):S,P="omission"in l?Ii(l.omission):P}s=pr(s);var V=s.length;if(ga(s)){var Q=as(s);V=Q.length}if(S>=V)return s;var ie=S-ma(P);if(ie<1)return P;var ue=Q?Io(Q,0,ie).join(""):s.slice(0,ie);if(k===r)return ue+P;if(Q&&(ie+=ue.length-ie),lh(k)){if(s.slice(ie).search(k)){var Se,Ce=ue;for(k.global||(k=xf(k.source,pr(sr.exec(k))+"g")),k.lastIndex=0;Se=k.exec(Ce);)var Te=Se.index;ue=ue.slice(0,Te===r?ie:Te)}}else if(s.indexOf(Ii(k),ie)!=ie){var Me=ue.lastIndexOf(k);Me>-1&&(ue=ue.slice(0,Me))}return ue+P}function YE(s){return s=pr(s),s&&rr.test(s)?s.replace(Hn,xw):s}var XE=Sa(function(s,l,S){return s+(S?" ":"")+l.toUpperCase()}),hh=Fg("toUpperCase");function M0(s,l,S){return s=pr(s),l=S?r:l,l===r?_w(s)?Ow(s):Vt(s):s.match(l)||[]}var j0=jt(function(s,l){try{return Gr(s,r,l)}catch(S){return ch(S)?S:new Ct(S)}}),JE=eo(function(s,l){return U(l,function(S){S=Ts(S),Js(s,S,oh(s[S],s))}),s});function QE(s){var l=s==null?0:s.length,S=lt();return s=l?ve(s,function(P){if(typeof P[1]!="function")throw new Ui(c);return[S(P[0]),P[1]]}):[],jt(function(P){for(var k=-1;++k<l;){var V=s[k];if(Gr(V[0],this,P))return Gr(V[1],this,P)}})}function e4(s){return x2(Hi(s,u))}function dh(s){return function(){return s}}function t4(s,l){return s==null||s!==s?l:s}var r4=Bg(),n4=Bg(!0);function hi(s){return s}function ph(s){return vg(typeof s=="function"?s:Hi(s,u))}function i4(s){return yg(Hi(s,u))}function s4(s,l){return _g(s,Hi(l,u))}var o4=jt(function(s,l){return function(S){return mc(S,s,l)}}),a4=jt(function(s,l){return function(S){return mc(s,S,l)}});function gh(s,l,S){var P=En(l),k=Rl(l,P);S==null&&!(Wr(l)&&(k.length||!P.length))&&(S=l,l=s,s=this,k=Rl(l,En(l)));var V=!(Wr(S)&&"chain"in S)||!!S.chain,Q=ro(s);return U(k,function(ie){var ue=l[ie];s[ie]=ue,Q&&(s.prototype[ie]=function(){var Se=this.__chain__;if(V||Se){var Ce=s(this.__wrapped__),Te=Ce.__actions__=li(this.__actions__);return Te.push({func:ue,args:arguments,thisArg:s}),Ce.__chain__=Se,Ce}return ue.apply(s,We([this.value()],arguments))})}),s}function c4(){return He._===this&&(He._=Lw),this}function mh(){}function l4(s){return s=$t(s),jt(function(l){return wg(l,s)})}var u4=Gf(ve),f4=Gf(F),h4=Gf(Rt);function F0(s){return eh(s)?Ci(Ts(s)):H2(s)}function d4(s){return function(l){return s==null?r:Vo(s,l)}}var p4=qg(),g4=qg(!0);function vh(){return[]}function bh(){return!1}function m4(){return{}}function v4(){return""}function b4(){return!0}function y4(s,l){if(s=$t(s),s<1||s>z)return[];var S=re,P=Mn(s,re);l=lt(l),s-=re;for(var k=Ef(P,l);++S<s;)l(S);return k}function _4(s){return It(s)?ve(s,Ts):Ai(s)?[s]:li(s0(pr(s)))}function w4(s){var l=++Rw;return pr(s)+l}var E4=jl(function(s,l){return s+l},0),S4=Kf("ceil"),C4=jl(function(s,l){return s/l},1),x4=Kf("floor");function I4(s){return s&&s.length?Pl(s,hi,$f):r}function A4(s,l){return s&&s.length?Pl(s,lt(l,2),$f):r}function O4(s){return As(s,hi)}function D4(s,l){return As(s,lt(l,2))}function T4(s){return s&&s.length?Pl(s,hi,Mf):r}function P4(s,l){return s&&s.length?Pl(s,lt(l,2),Mf):r}var R4=jl(function(s,l){return s*l},1),$4=Kf("round"),L4=jl(function(s,l){return s-l},0);function N4(s){return s&&s.length?wf(s,hi):0}function k4(s,l){return s&&s.length?wf(s,lt(l,2)):0}return H.after=i5,H.ary=m0,H.assign=z5,H.assignIn=T0,H.assignInWith=Xl,H.assignWith=V5,H.at=G5,H.before=v0,H.bind=oh,H.bindAll=JE,H.bindKey=b0,H.castArray=m5,H.chain=d0,H.chunk=x3,H.compact=I3,H.concat=A3,H.cond=QE,H.conforms=e4,H.constant=dh,H.countBy=N6,H.create=K5,H.curry=y0,H.curryRight=_0,H.debounce=w0,H.defaults=Z5,H.defaultsDeep=Y5,H.defer=s5,H.delay=o5,H.difference=O3,H.differenceBy=D3,H.differenceWith=T3,H.drop=P3,H.dropRight=R3,H.dropRightWhile=$3,H.dropWhile=L3,H.fill=N3,H.filter=M6,H.flatMap=U6,H.flatMapDeep=B6,H.flatMapDepth=H6,H.flatten=l0,H.flattenDeep=k3,H.flattenDepth=M3,H.flip=a5,H.flow=r4,H.flowRight=n4,H.fromPairs=j3,H.functions=nE,H.functionsIn=iE,H.groupBy=q6,H.initial=U3,H.intersection=B3,H.intersectionBy=H3,H.intersectionWith=q3,H.invert=oE,H.invertBy=aE,H.invokeMap=z6,H.iteratee=ph,H.keyBy=V6,H.keys=En,H.keysIn=fi,H.map=zl,H.mapKeys=lE,H.mapValues=uE,H.matches=i4,H.matchesProperty=s4,H.memoize=Gl,H.merge=fE,H.mergeWith=P0,H.method=o4,H.methodOf=a4,H.mixin=gh,H.negate=Kl,H.nthArg=l4,H.omit=hE,H.omitBy=dE,H.once=c5,H.orderBy=G6,H.over=u4,H.overArgs=l5,H.overEvery=f4,H.overSome=h4,H.partial=ah,H.partialRight=E0,H.partition=K6,H.pick=pE,H.pickBy=R0,H.property=F0,H.propertyOf=d4,H.pull=G3,H.pullAll=f0,H.pullAllBy=K3,H.pullAllWith=Z3,H.pullAt=Y3,H.range=p4,H.rangeRight=g4,H.rearg=u5,H.reject=X6,H.remove=X3,H.rest=f5,H.reverse=ih,H.sampleSize=Q6,H.set=mE,H.setWith=vE,H.shuffle=e5,H.slice=J3,H.sortBy=n5,H.sortedUniq=s6,H.sortedUniqBy=o6,H.split=UE,H.spread=h5,H.tail=a6,H.take=c6,H.takeRight=l6,H.takeRightWhile=u6,H.takeWhile=f6,H.tap=I6,H.throttle=d5,H.thru=Wl,H.toArray=A0,H.toPairs=$0,H.toPairsIn=L0,H.toPath=_4,H.toPlainObject=D0,H.transform=bE,H.unary=p5,H.union=h6,H.unionBy=d6,H.unionWith=p6,H.uniq=g6,H.uniqBy=m6,H.uniqWith=v6,H.unset=yE,H.unzip=sh,H.unzipWith=h0,H.update=_E,H.updateWith=wE,H.values=Ia,H.valuesIn=EE,H.without=b6,H.words=M0,H.wrap=g5,H.xor=y6,H.xorBy=_6,H.xorWith=w6,H.zip=E6,H.zipObject=S6,H.zipObjectDeep=C6,H.zipWith=x6,H.entries=$0,H.entriesIn=L0,H.extend=T0,H.extendWith=Xl,gh(H,H),H.add=E4,H.attempt=j0,H.camelCase=IE,H.capitalize=N0,H.ceil=S4,H.clamp=SE,H.clone=v5,H.cloneDeep=y5,H.cloneDeepWith=_5,H.cloneWith=b5,H.conformsTo=w5,H.deburr=k0,H.defaultTo=t4,H.divide=C4,H.endsWith=AE,H.eq=ls,H.escape=OE,H.escapeRegExp=DE,H.every=k6,H.find=j6,H.findIndex=a0,H.findKey=X5,H.findLast=F6,H.findLastIndex=c0,H.findLastKey=J5,H.floor=x4,H.forEach=p0,H.forEachRight=g0,H.forIn=Q5,H.forInRight=eE,H.forOwn=tE,H.forOwnRight=rE,H.get=uh,H.gt=E5,H.gte=S5,H.has=sE,H.hasIn=fh,H.head=u0,H.identity=hi,H.includes=W6,H.indexOf=F3,H.inRange=CE,H.invoke=cE,H.isArguments=Zo,H.isArray=It,H.isArrayBuffer=C5,H.isArrayLike=ui,H.isArrayLikeObject=Zr,H.isBoolean=x5,H.isBuffer=Ao,H.isDate=I5,H.isElement=A5,H.isEmpty=O5,H.isEqual=D5,H.isEqualWith=T5,H.isError=ch,H.isFinite=P5,H.isFunction=ro,H.isInteger=S0,H.isLength=Zl,H.isMap=C0,H.isMatch=R5,H.isMatchWith=$5,H.isNaN=L5,H.isNative=N5,H.isNil=M5,H.isNull=k5,H.isNumber=x0,H.isObject=Wr,H.isObjectLike=Kr,H.isPlainObject=Ec,H.isRegExp=lh,H.isSafeInteger=j5,H.isSet=I0,H.isString=Yl,H.isSymbol=Ai,H.isTypedArray=xa,H.isUndefined=F5,H.isWeakMap=U5,H.isWeakSet=B5,H.join=W3,H.kebabCase=TE,H.last=Wi,H.lastIndexOf=z3,H.lowerCase=PE,H.lowerFirst=RE,H.lt=H5,H.lte=q5,H.max=I4,H.maxBy=A4,H.mean=O4,H.meanBy=D4,H.min=T4,H.minBy=P4,H.stubArray=vh,H.stubFalse=bh,H.stubObject=m4,H.stubString=v4,H.stubTrue=b4,H.multiply=R4,H.nth=V3,H.noConflict=c4,H.noop=mh,H.now=Vl,H.pad=$E,H.padEnd=LE,H.padStart=NE,H.parseInt=kE,H.random=xE,H.reduce=Z6,H.reduceRight=Y6,H.repeat=ME,H.replace=jE,H.result=gE,H.round=$4,H.runInContext=ae,H.sample=J6,H.size=t5,H.snakeCase=FE,H.some=r5,H.sortedIndex=Q3,H.sortedIndexBy=e6,H.sortedIndexOf=t6,H.sortedLastIndex=r6,H.sortedLastIndexBy=n6,H.sortedLastIndexOf=i6,H.startCase=BE,H.startsWith=HE,H.subtract=L4,H.sum=N4,H.sumBy=k4,H.template=qE,H.times=y4,H.toFinite=no,H.toInteger=$t,H.toLength=O0,H.toLower=WE,H.toNumber=zi,H.toSafeInteger=W5,H.toString=pr,H.toUpper=zE,H.trim=VE,H.trimEnd=GE,H.trimStart=KE,H.truncate=ZE,H.unescape=YE,H.uniqueId=w4,H.upperCase=XE,H.upperFirst=hh,H.each=p0,H.eachRight=g0,H.first=u0,gh(H,function(){var s={};return Os(H,function(l,S){_r.call(H.prototype,S)||(s[S]=l)}),s}(),{chain:!1}),H.VERSION=n,U(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){H[s].placeholder=H}),U(["drop","take"],function(s,l){Gt.prototype[s]=function(S){S=S===r?1:fn($t(S),0);var P=this.__filtered__&&!l?new Gt(this):this.clone();return P.__filtered__?P.__takeCount__=Mn(S,P.__takeCount__):P.__views__.push({size:Mn(S,re),type:s+(P.__dir__<0?"Right":"")}),P},Gt.prototype[s+"Right"]=function(S){return this.reverse()[s](S).reverse()}}),U(["filter","map","takeWhile"],function(s,l){var S=l+1,P=S==$||S==q;Gt.prototype[s]=function(k){var V=this.clone();return V.__iteratees__.push({iteratee:lt(k,3),type:S}),V.__filtered__=V.__filtered__||P,V}}),U(["head","last"],function(s,l){var S="take"+(l?"Right":"");Gt.prototype[s]=function(){return this[S](1).value()[0]}}),U(["initial","tail"],function(s,l){var S="drop"+(l?"":"Right");Gt.prototype[s]=function(){return this.__filtered__?new Gt(this):this[S](1)}}),Gt.prototype.compact=function(){return this.filter(hi)},Gt.prototype.find=function(s){return this.filter(s).head()},Gt.prototype.findLast=function(s){return this.reverse().find(s)},Gt.prototype.invokeMap=jt(function(s,l){return typeof s=="function"?new Gt(this):this.map(function(S){return mc(S,s,l)})}),Gt.prototype.reject=function(s){return this.filter(Kl(lt(s)))},Gt.prototype.slice=function(s,l){s=$t(s);var S=this;return S.__filtered__&&(s>0||l<0)?new Gt(S):(s<0?S=S.takeRight(-s):s&&(S=S.drop(s)),l!==r&&(l=$t(l),S=l<0?S.dropRight(-l):S.take(l-s)),S)},Gt.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},Gt.prototype.toArray=function(){return this.take(re)},Os(Gt.prototype,function(s,l){var S=/^(?:filter|find|map|reject)|While$/.test(l),P=/^(?:head|last)$/.test(l),k=H[P?"take"+(l=="last"?"Right":""):l],V=P||/^find/.test(l);k&&(H.prototype[l]=function(){var Q=this.__wrapped__,ie=P?[1]:arguments,ue=Q instanceof Gt,Se=ie[0],Ce=ue||It(Q),Te=function(Wt){var Xt=k.apply(H,We([Wt],ie));return P&&Me?Xt[0]:Xt};Ce&&S&&typeof Se=="function"&&Se.length!=1&&(ue=Ce=!1);var Me=this.__chain__,Ye=!!this.__actions__.length,ft=V&&!Me,kt=ue&&!Ye;if(!V&&Ce){Q=kt?Q:new Gt(this);var ht=s.apply(Q,ie);return ht.__actions__.push({func:Wl,args:[Te],thisArg:r}),new Bi(ht,Me)}return ft&&kt?s.apply(this,ie):(ht=this.thru(Te),ft?P?ht.value()[0]:ht.value():ht)})}),U(["pop","push","shift","sort","splice","unshift"],function(s){var l=ml[s],S=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",P=/^(?:pop|shift)$/.test(s);H.prototype[s]=function(){var k=arguments;if(P&&!this.__chain__){var V=this.value();return l.apply(It(V)?V:[],k)}return this[S](function(Q){return l.apply(It(Q)?Q:[],k)})}}),Os(Gt.prototype,function(s,l){var S=H[l];if(S){var P=S.name+"";_r.call(_a,P)||(_a[P]=[]),_a[P].push({name:l,func:S})}}),_a[Ml(r,_).name]=[{name:"wrapper",func:r}],Gt.prototype.clone=Yw,Gt.prototype.reverse=Xw,Gt.prototype.value=Jw,H.prototype.at=A6,H.prototype.chain=O6,H.prototype.commit=D6,H.prototype.next=T6,H.prototype.plant=R6,H.prototype.reverse=$6,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=L6,H.prototype.first=H.prototype.head,lc&&(H.prototype[lc]=P6),H},va=Dw();at?((at.exports=va)._=va,qe._=va):He._=va}).call(Lc)})(Bd,Bd.exports);var PM=Object.defineProperty,RM=Object.defineProperties,$M=Object.getOwnPropertyDescriptors,kv=Object.getOwnPropertySymbols,LM=Object.prototype.hasOwnProperty,NM=Object.prototype.propertyIsEnumerable,Mv=(e,t,r)=>t in e?PM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lu=(e,t)=>{for(var r in t||(t={}))LM.call(t,r)&&Mv(e,r,t[r]);if(kv)for(var r of kv(t))NM.call(t,r)&&Mv(e,r,t[r]);return e},kM=(e,t)=>RM(e,$M(t));function Mo(e,t,r){var n;const i=UP(e);return((n=t.rpcMap)==null?void 0:n[i.reference])||`${TM}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function pa(e){return e.includes(":")?e.split(":")[1]:e}function lw(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function MM(e,t){const r=Object.keys(t.namespaces).filter(i=>i.includes(e));if(!r.length)return[];const n=[];return r.forEach(i=>{const o=t.namespaces[i].accounts;n.push(...o)}),n}function jM(e={},t={}){const r=jv(e),n=jv(t);return Bd.exports.merge(r,n)}function jv(e){var t,r,n,i;const o={};if(!Ua(e))return o;for(const[c,a]of Object.entries(e)){const m=Np(c)?[c]:a.chains,f=a.methods||[],g=a.events||[],u=a.rpcMap||{},d=jc(c);o[d]=kM(lu(lu({},o[d]),a),{chains:Uh(m,(t=o[d])==null?void 0:t.chains),methods:Uh(f,(r=o[d])==null?void 0:r.methods),events:Uh(g,(n=o[d])==null?void 0:n.events),rpcMap:lu(lu({},u),(i=o[d])==null?void 0:i.rpcMap)})}return o}function FM(e){return e.includes(":")?e.split(":")[2]:e}function UM(e){const t={};for(const[r,n]of Object.entries(e)){const i=n.methods||[],o=n.events||[],c=n.accounts||[],a=Np(r)?[r]:n.chains?n.chains:lw(n.accounts);t[r]={chains:a,methods:i,events:o,accounts:c}}return t}function Qh(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):e.includes(":")?Number(e.split(":")[1]):Number(e)}const uw={},Br=e=>uw[e],ed=(e,t)=>{uw[e]=t};class BM{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=Br("events"),this.client=Br("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(yo.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=pa(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Mo(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new bo(new Bo(n,Br("disableProviderPing")))}}class HM{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=Br("events"),this.client=Br("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(parseInt(t),r),this.chainId=parseInt(t),this.events.emit(yo.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){const n=r||Mo(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new bo(new Bo(n,Br("disableProviderPing")))}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(pa(r));t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}async handleSwitchChain(t){var r,n;let i=t.request.params?(r=t.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const o=parseInt(i,16);if(this.isChainApproved(o))this.setDefaultChain(`${o}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${o}`);else throw new Error(`Failed to switch to chain 'eip155:${o}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}}class qM{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=Br("events"),this.client=Br("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(yo.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=pa(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Mo(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new bo(new Bo(n,Br("disableProviderPing")))}}class WM{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=Br("events"),this.client=Br("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(yo.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=pa(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Mo(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new bo(new Bo(n,Br("disableProviderPing")))}}class zM{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=Br("events"),this.client=Br("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(yo.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=pa(r);t[i]=this.createHttpProvider(i,n)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}getCardanoRPCUrl(t){const r=this.namespace.rpcMap;if(r)return r[t]}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||this.getCardanoRPCUrl(t);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new bo(new Bo(n,Br("disableProviderPing")))}}class VM{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=Br("events"),this.client=Br("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(yo.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=pa(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Mo(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new bo(new Bo(n,Br("disableProviderPing")))}}class GM{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=Br("events"),this.client=Br("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(yo.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;const i=pa(r);t[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Mo(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new bo(new Bo(n,Br("disableProviderPing")))}}class KM{constructor(t){this.name="near",this.namespace=t.namespace,this.events=Br("events"),this.client=Br("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const n=r||Mo(`${this.name}:${t}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,n)}this.events.emit(yo.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var n;t[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){const n=r||Mo(t,this.namespace);return typeof n>"u"?void 0:new bo(new Bo(n,Br("disableProviderPing")))}}var ZM=Object.defineProperty,YM=Object.defineProperties,XM=Object.getOwnPropertyDescriptors,Fv=Object.getOwnPropertySymbols,JM=Object.prototype.hasOwnProperty,QM=Object.prototype.propertyIsEnumerable,Uv=(e,t,r)=>t in e?ZM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uu=(e,t)=>{for(var r in t||(t={}))JM.call(t,r)&&Uv(e,r,t[r]);if(Fv)for(var r of Fv(t))QM.call(t,r)&&Uv(e,r,t[r]);return e},td=(e,t)=>YM(e,XM(t));class zp{constructor(t){this.events=new xp,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Qt.pino(Qt.getDefaultLoggerOptions({level:(t==null?void 0:t.logger)||Lv})),this.disableProviderPing=(t==null?void 0:t.disableProviderPing)||!1}static async init(t){const r=new zp(t);return await r.initialize(),r}async request(t,r){const[n,i]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:uu({},t),chainId:`${n}:${i}`,topic:this.session.topic})}sendAsync(t,r,n){this.request(t,n).then(i=>r(null,i)).catch(i=>r(i,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:Jr("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let r=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(r>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:n,approval:i}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});n&&(this.uri=n,this.events.emit("display_uri",n)),await i().then(o=>{this.session=o,this.namespaces||(this.namespaces=UM(o.namespaces),this.persist("namespaces",this.namespaces))}).catch(o=>{if(o.message!==aw)throw o;r++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,r){try{if(!this.session)return;const[n,i]=this.validateChain(t);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(Ms(r)){for(const n of r)t.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await SM.init({logger:this.providerOpts.logger||Lv,relayUrl:this.providerOpts.relayUrl||AM,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(r=>jc(r)))];ed("client",this.client),ed("events",this.events),ed("disableProviderPing",this.disableProviderPing),t.forEach(r=>{if(!this.session)return;const n=MM(r,this.session),i=lw(n),o=jM(this.namespaces,this.optionalNamespaces),c=td(uu({},o[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new HM({namespace:c});break;case"solana":this.rpcProviders[r]=new qM({namespace:c});break;case"cosmos":this.rpcProviders[r]=new WM({namespace:c});break;case"polkadot":this.rpcProviders[r]=new BM({namespace:c});break;case"cip34":this.rpcProviders[r]=new zM({namespace:c});break;case"elrond":this.rpcProviders[r]=new VM({namespace:c});break;case"multiversx":this.rpcProviders[r]=new GM({namespace:c});break;case"near":this.rpcProviders[r]=new KM({namespace:c});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:r}=t,{event:n}=r;if(n.name==="accountsChanged"){const i=n.data;i&&Ms(i)&&this.events.emit("accountsChanged",i.map(FM))}else if(n.name==="chainChanged"){const i=r.chainId,o=r.event.data,c=jc(i),a=Qh(i)!==Qh(o)?`${c}:${Qh(o)}`:i;this.onChainChanged(a)}else this.events.emit(n.name,n.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:r})=>{var n;const{namespaces:i}=r,o=(n=this.client)==null?void 0:n.session.get(t);this.session=td(uu({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:r})}),this.client.on("session_delete",async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",td(uu({},Jr("USER_DISCONNECTED")),{data:t.topic}))}),this.on(yo.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){if(!this.rpcProviders[t])throw new Error(`Provider not found: ${t}`);return this.rpcProviders[t]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace((r=this.session)==null?void 0:r.namespaces[t])})}setNamespaces(t){const{namespaces:r,optionalNamespaces:n,sessionProperties:i}=t;r&&Object.keys(r).length&&(this.namespaces=r),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=i,this.persist("namespaces",r),this.persist("optionalNamespaces",n)}validateChain(t){const[r,n]=(t==null?void 0:t.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(c=>jc(c)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=jc(Object.keys(this.namespaces)[0]),o=this.rpcProviders[i].getDefaultChain();return[i,o]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,r=!1){var n;if(!this.namespaces)return;const[i,o]=this.validateChain(t);r||this.getProvider(i).setDefaultChain(o),((n=this.namespaces[i])!=null?n:this.namespaces[`${i}:${o}`]).defaultChain=o,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",o)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,r){this.client.core.storage.setItem(`${Nv}/${t}`,r)}async getFromStore(t){return await this.client.core.storage.getItem(`${Nv}/${t}`)}}const ej=zp,tj="wc",rj="ethereum_provider",nj=`${tj}@2:${rj}:`,ij="https://rpc.walletconnect.com/v1/",Xa=["eth_sendTransaction","personal_sign"],fw=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Gu=["chainChanged","accountsChanged"],hw=["chainChanged","accountsChanged","message","disconnect","connect"];var sj=Object.defineProperty,oj=Object.defineProperties,aj=Object.getOwnPropertyDescriptors,Bv=Object.getOwnPropertySymbols,cj=Object.prototype.hasOwnProperty,lj=Object.prototype.propertyIsEnumerable,Hv=(e,t,r)=>t in e?sj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Uc=(e,t)=>{for(var r in t||(t={}))cj.call(t,r)&&Hv(e,r,t[r]);if(Bv)for(var r of Bv(t))lj.call(t,r)&&Hv(e,r,t[r]);return e},qv=(e,t)=>oj(e,aj(t));function Ku(e){return Number(e[0].split(":")[1])}function rd(e){return`0x${e.toString(16)}`}function uj(e){const{chains:t,optionalChains:r,methods:n,optionalMethods:i,events:o,optionalEvents:c,rpcMap:a}=e;if(!Ms(t))throw new Error("Invalid chains");const m={chains:t,methods:n||Xa,events:o||Gu,rpcMap:Uc({},t.length?{[Ku(t)]:a[Ku(t)]}:{})},f=o==null?void 0:o.filter(p=>!Gu.includes(p)),g=n==null?void 0:n.filter(p=>!Xa.includes(p));if(!r&&!c&&!i&&!(f!=null&&f.length)&&!(g!=null&&g.length))return{required:t.length?m:void 0};const u=(f==null?void 0:f.length)&&(g==null?void 0:g.length)||!r,d={chains:[...new Set(u?m.chains.concat(r||[]):r)],methods:[...new Set(m.methods.concat(i!=null&&i.length?i:fw))],events:[...new Set(m.events.concat(c!=null&&c.length?c:hw))],rpcMap:a};return{required:t.length?m:void 0,optional:r.length?d:void 0}}class _f{constructor(){this.events=new Pi.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=nj,this.on=(t,r)=>(this.events.on(t,r),this),this.once=(t,r)=>(this.events.once(t,r),this),this.removeListener=(t,r)=>(this.events.removeListener(t,r),this),this.off=(t,r)=>(this.events.off(t,r),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const r=new _f;return await r.initialize(t),r}async request(t){return await this.signer.request(t,this.formatChainId(this.chainId))}sendAsync(t,r){this.signer.sendAsync(t,r,this.formatChainId(this.chainId))}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:r,optional:n}=uj(this.rpc);try{const i=await new Promise(async(c,a)=>{var m;this.rpc.showQrModal&&((m=this.modal)==null||m.subscribeModal(f=>{!f.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(qv(Uc({namespaces:Uc({},r&&{[this.namespace]:r})},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:t==null?void 0:t.pairingTopic})).then(f=>{c(f)}).catch(f=>{a(new Error(f.message))})});if(!i)return;const o=BP(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:rd(this.chainId)})}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{const{params:r}=t,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",t)}),this.signer.on("chainChanged",t=>{const r=parseInt(t);this.chainId=r,this.events.emit("chainChanged",rd(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",qv(Uc({},Jr("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{var r,n;this.rpc.showQrModal&&((r=this.modal)==null||r.closeModal(),(n=this.modal)==null||n.openModal({uri:t})),this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const r=t.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",rd(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const r=this.parseChainId(t);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(t){const[r,n,i]=t.split(":");return{chainId:`${r}:${n}`,address:i}}setAccounts(t){this.accounts=t.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var r,n;const i=(r=t==null?void 0:t.chains)!=null?r:[],o=(n=t==null?void 0:t.optionalChains)!=null?n:[],c=i.concat(o);if(!c.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?(t==null?void 0:t.methods)||Xa:[],m=i.length?(t==null?void 0:t.events)||Gu:[],f=(t==null?void 0:t.optionalMethods)||[],g=(t==null?void 0:t.optionalEvents)||[],u=(t==null?void 0:t.rpcMap)||this.buildRpcMap(c,t.projectId),d=(t==null?void 0:t.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(p=>this.formatChainId(p)),optionalChains:o.map(p=>this.formatChainId(p)),methods:a,events:m,optionalMethods:f,optionalEvents:g,rpcMap:u,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:d,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,r){const n={};return t.forEach(i=>{n[i]=this.getRpcUrl(i,r)}),n}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?Ku(this.rpc.chains):Ku(this.rpc.optionalChains),this.signer=await ej.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const{WalletConnectModal:n}=await Ke(()=>import("./index.78ae5c9d.js").then(i=>i.i),["./index.78ae5c9d.js","./preload-helper.a4192956.js"],import.meta.url);r=n}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(r)try{this.modal=new r(Uc({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:r,optionalChains:n,rpcMap:i}=t;r&&Ms(r)&&(this.rpc.chains=r.map(o=>this.formatChainId(o)),r.forEach(o=>{this.rpc.rpcMap[o]=(i==null?void 0:i[o])||this.getRpcUrl(o)})),n&&Ms(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n==null?void 0:n.map(o=>this.formatChainId(o)),n.forEach(o=>{this.rpc.rpcMap[o]=(i==null?void 0:i[o])||this.getRpcUrl(o)}))}getRpcUrl(t,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[t])||`${ij}?chainId=eip155:${t}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:r==null?void 0:r.accounts),this.setAccounts(r==null?void 0:r.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(r=>this.parseAccount(r))}}const fj=_f,hj=Object.freeze(Object.defineProperty({__proto__:null,EthereumProvider:fj,OPTIONAL_EVENTS:hw,OPTIONAL_METHODS:fw,REQUIRED_EVENTS:Gu,REQUIRED_METHODS:Xa,default:_f},Symbol.toStringTag,{value:"Module"})),Wv=["eth_sendTransaction","eth_signTransaction","personal_sign","eth_sign","eth_signTypedData","eth_signTypedData_v4","wallet_addEthereumChain","wallet_switchEthereumChain"];function dj(e){if(!e.projectId)throw new Error("WalletConnect requires a projectId. Please visit https://cloud.walletconnect.com to get one.");e.dappUrl||console.warn("It is strongly recommended to supply a dappUrl to the WalletConnect init object as it is required by some wallets (i.e. MetaMask) to allow connection.");const{projectId:t,handleUri:r,requiredChains:n,optionalChains:i,qrModalOptions:o,additionalRequiredMethods:c,additionalOptionalMethods:a,dappUrl:m}=e;let f;return()=>({label:"WalletConnect",getIcon:async()=>(await Ke(()=>import("./icon.e08798cb.js"),[],import.meta.url)).default,getInterface:async({chains:g,EventEmitter:u,appMetadata:d})=>{const{ProviderRpcError:p,ProviderRpcErrorCode:h}=await Ke(()=>import("./index.09bbd7f1.js"),[],import.meta.url),{default:v}=await Ke(()=>Promise.resolve().then(()=>hj),void 0,import.meta.url),{Subject:w,fromEvent:_}=await Ke(()=>import("./index.32841463.js"),["./index.32841463.js","./zipWith.5e2cc288.js","./skip.62d4a753.js","./merge.702a4c6c.js"],import.meta.url),{takeUntil:y,take:C}=await Ke(()=>import("./index.9ed48272.js"),["./index.9ed48272.js","./zipWith.5e2cc288.js","./skip.62d4a753.js"],import.meta.url),I=()=>{if(!d)return;const B=m||d.explore||"";!B&&!B.length&&console.warn("It is strongly recommended to supply a dappUrl as it is required by some wallets (i.e. MetaMask) to allow connection.");const $={name:d.name,description:d.description||"",url:B,icons:[]};return d.icon!==void 0&&d.icon.length&&($.icons=[d.icon]),d.logo!==void 0&&d.logo.length&&($.icons=$.icons.length?[...$.icons,d.logo]:[d.logo]),$},D=Array.isArray(n)&&n.length&&n.every(B=>!isNaN(B))?n.map(B=>parseInt(B)):[],O=Array.isArray(i)&&i.length&&i.every(B=>!isNaN(B))?i.map(B=>parseInt(B)):g.map(({id:B})=>parseInt(B,16)),E=new Set(c&&Array.isArray(c)?[...c,...Xa]:Xa),b=Array.from(E),x=a&&Array.isArray(a)?[...a,...Wv]:Wv,A=await v.init({projectId:t,chains:D,methods:b,optionalChains:O,optionalMethods:x,showQrModal:!0,rpcMap:g.map(({id:B,rpcUrl:$})=>({id:B,rpcUrl:$})).reduce((B,{id:$,rpcUrl:L})=>(B[parseInt($,16)]=L||"",B),{}),metadata:I(),qrModalOptions:o}),N=new u;class j{constructor({connector:$,chains:L}){this.emit=N.emit.bind(N),this.on=N.on.bind(N),this.removeListener=N.removeListener.bind(N),this.connector=$,this.chains=L,this.disconnected$=new w,_(this.connector,"accountsChanged",W=>W).pipe(y(this.disconnected$)).subscribe({next:W=>{const z=Array.isArray(W)?W:[W];this.emit("accountsChanged",z)},error:console.warn}),_(this.connector,"chainChanged",W=>W).pipe(y(this.disconnected$)).subscribe({next:W=>{const z=nd(W)?W:`0x${W.toString(16)}`;this.emit("chainChanged",z)},error:console.warn}),_(this.connector,"session_delete",W=>W).pipe(y(this.disconnected$)).subscribe({next:()=>{this.emit("accountsChanged",[]),this.disconnected$.next(!0),typeof localStorage<"u"&&localStorage.removeItem("walletconnect")},error:console.warn}),this.disconnect=()=>{this.connector.session&&(this.connector.disconnect(),f=null)},e&&r&&_(this.connector,"display_uri",W=>W).pipe(y(this.disconnected$)).subscribe(async W=>{try{r&&await r(W)}catch(z){throw`An error occurred when handling the URI. Error: ${z}`}}),(()=>{const W=this.connector.session;f=W,W&&(this.emit("accountsChanged",this.connector.accounts),this.emit("chainChanged",this.connector.chainId))})(),this.request=async({method:W,params:z})=>{if(W==="eth_chainId")return nd(this.connector.chainId)?this.connector.chainId:`0x${this.connector.chainId.toString(16)}`;if(W==="eth_requestAccounts")return new Promise(async(K,se)=>{if(_(this.connector,"connect",re=>re).pipe(C(1)).subscribe({next:({chainId:re})=>{this.emit("accountsChanged",this.connector.accounts);const we=nd(re)?re:`0x${re.toString(16)}`;this.emit("chainChanged",we),K(this.connector.accounts)},error:se}),!this.connector.session)await this.connector.connect().catch(re=>{console.error("err creating new session: ",re),se(new p({code:4001,message:"User rejected the request."}))});else{const re=this.connector.accounts,we=this.connector.chainId;f=this.connector.session;const fe=`0x${we.toString(16)}`;return this.emit("chainChanged",fe),K(re)}});if(W==="eth_selectAccounts")throw new p({code:h.UNSUPPORTED_METHOD,message:`The Provider does not support the requested method: ${W}`});if(W=="wallet_switchEthereumChain"){if(!z)throw new p({code:h.INVALID_PARAMS,message:"The Provider requires a chainId to be passed in as an argument"});const K=z[0];if(!K.hasOwnProperty("chainId")||typeof K.chainId>"u")throw new p({code:h.INVALID_PARAMS,message:"The Provider requires a chainId to be passed in as an argument"});return this.connector.request({method:"wallet_switchEthereumChain",params:[{chainId:K.chainId}]})}return this.connector.request({method:W,params:z})}}}return{provider:new j({chains:g,connector:A}),instance:f}}})}const nd=e=>!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/));function cF(e){if(!e)throw new Error("WalletConnect requires an initialization object to be passed - see the official docs for an example: https://onboard.blocknative.com/docs/wallets/walletconnect");if(e){const t=WO(e);if(t)throw t}return dj(e)}export{js as $,Re as A,Ir as B,cf as C,Oj as D,Rj as E,Lt as F,Aj as G,Ht as H,$s as I,Ue as J,W7 as K,gS as L,Fo as M,Fj as N,DS as O,nr as P,Qn as Q,_m as R,mn as S,qj as T,Wj as U,Fs as V,Jc as W,$u as X,TS as Y,IS as Z,GT as _,cF as a,Zu as a$,Uy as a0,Kc as a1,My as a2,bi as a3,Hj as a4,Pj as a5,SS as a6,$C as a7,Sj as a8,vp as a9,jj as aA,Fy as aB,iS as aC,gm as aD,Hc as aE,Dy as aF,Uj as aG,$h as aH,xj as aI,Gb as aJ,Tj as aK,la as aL,lm as aM,wr as aN,qb as aO,Qr as aP,np as aQ,ip as aR,N7 as aS,M7 as aT,Qv as aU,_j as aV,Jv as aW,Ji as aX,O8 as aY,S8 as aZ,aa as a_,ju as aa,kj as ab,Ej as ac,rl as ad,db as ae,gy as af,Ep as ag,YC as ah,Bj as ai,Lo as aj,ds as ak,xC as al,Cj as am,Dj as an,bm as ao,$j as ap,Mj as aq,Ij as ar,sa as as,tc as at,sp as au,Za as av,ec as aw,Nj as ax,wS as ay,Lj as az,zj as b,No as b0,po as b1,sd as b2,Xv as b3,Xi as b4,Yi as b5,Wa as b6,Bn as b7,Cr as b8,C8 as b9,nl as bA,V0 as bB,Zd as bC,Jd as bD,ad as bE,G0 as bF,Xd as bG,zc as bH,pb as bI,n8 as bJ,qd as bK,$o as bL,i8 as bM,Ha as bN,A8 as bO,c8 as ba,hb as bb,ub as bc,lb as bd,T8 as be,vo as bf,l8 as bg,_8 as bh,Vv as bi,Yu as bj,Cu as bk,Vd as bl,o8 as bm,zd as bn,bj as bo,Xu as bp,s8 as bq,yh as br,W0 as bs,yj as bt,od as bu,Yd as bv,E8 as bw,ca as bx,D8 as by,j8 as bz,gn as c,pn as d,be as e,Fe as f,le as g,Pe as h,Vj as i,he as j,kr as k,yi as l,$e as m,Mr as n,De as o,st as p,ho as q,go as r,dn as s,xe as t,Ur as u,my as v,qt as w,Ft as x,Ut as y,Oy as z};
